/*! JointJS+ v3.6.3 - HTML5 Diagramming Framework

Copyright (c) 2022 client IO

 2022-12-09 


This Source Code Form is subject to the terms of the JointJS+ License
, v. 2.0. If a copy of the JointJS+ License was not distributed with this
file, You can obtain one at http://jointjs.com/license/rappid_v2.txt
 or from the JointJS+ archive as was distributed by client IO. See the LICENSE file.*/


this.joint=this.joint||{},function(F,l,f){"use strict";l=l&&Object.prototype.hasOwnProperty.call(l,"default")?l.default:l;var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function N(t,e){return t(e={exports:{}},e.exports),e.exports}function e(t){return t&&t.Math==Math&&t}function c(t){try{return!!t()}catch(t){return!0}}function k(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}function z(t){return w?ot(t):function(){return rt.apply(t,arguments)}}function n(t){return at(st(t),8,-1)}function r(t){if("Function"===n(t))return z(t)}function Y(t){if(ht(t))throw ft("Can't call method on "+t);return t}function X(t){return ut(Y(t))}function i(t,e){return arguments.length<2?(n=y[t],g(n)?n:void 0):y[t]&&y[t][e];var n}function V(t){return Ct(Y(t))}function B(t){return"Symbol("+(void 0===t?"":t)+")_"+Dt(++It+Mt,36)}function W(t){var e;return S(P,t)&&(yt||"string"==typeof P[t])||(e="Symbol."+t,yt&&S(_,t)?P[t]=_[t]:P[t]=(vt&&Rt?Rt:At)(e)),P[t]}function $(t){return t=kt(t,"string"),xt(t)?t:t+""}function H(t){return ie[t]||(ie[t]=B(t))}function G(t,e,n,i){var r=(i=i||{}).enumerable,o=void 0!==i.name?i.name:e;if(g(n)&&le(n,o,i),i.global)r?t[e]=n:Lt(e,n);else{try{i.unsafe?t[e]&&(r=!0):delete t[e]}catch(t){}r?t[e]=n:O.f(t,e,{value:n,enumerable:!1,configurable:!i.nonConfigurable,writable:!i.nonWritable})}}function U(t){return ye(t.length)}function q(a){return function(t,e,n){var i,r=X(t),o=U(r),s=function(t,e){t=pe(t);return t<0?de(t+e,0):ge(t,e)}(n,o);if(a&&e!=e){for(;s<o;)if((i=r[s++])!=i)return!0}else for(;s<o;s++)if((a||s in r)&&r[s]===e)return a||s||0;return!a&&-1}}function K(t,e){var n,i=X(t),r=0,o=[];for(n in i)!S(re,n)&&S(i,n)&&be(o,n);for(;e.length>r;)!S(i,n=e[r++])||~ve(o,n)||be(o,n);return o}function o(t,e){return(t=Le[Oe(t)])==je||t!=Ce&&(g(e)?c(e):!!e)}function s(t,e){var n,i,r,o=t.target,s=t.global,a=t.stat,c=s?y:a?y[o]||Lt(o,{}):(y[o]||{}).prototype;if(c)for(n in e){if(i=e[n],r=t.dontCallGetSet?(r=Me(c,n))&&r.value:c[n],!Ie(s?n:o+(a?".":"#")+n,t.forced)&&void 0!==r){if(typeof i==typeof r)continue;for(var l=i,u=r,h=m=g=d=p=f=void 0,f=Te(u),p=O.f,d=Wt.f,g=0;g<f.length;g++){var m=f[g];S(l,m)||h&&S(h,m)||p(l,m,d(u,m))}}(t.sham||r&&r.sham)&&Qt(i,"sham",!0),G(c,n,i,t)}}function Z(o){return Ve?function(t,e){var n=2<function(t,e){if(t<e)throw Xe("Not enough arguments");return t}(arguments.length,1),i=g(t)?t:Be(t),r=n?De(arguments,2):void 0;return o(n?function(){Ye(i,this,r)}:i,e)}:o}function J(l){return function(t,e,n,i){Pt(e);var r=V(t),o=ut(r),s=U(r),a=l?s-1:0,c=l?-1:1;if(n<2)for(;;){if(a in o){i=o[a],a+=c;break}if(a+=c,l?a<0:s<=a)throw We("Reduce of empty array with no initial value")}for(;l?0<=a:a<s;a+=c)a in o&&(i=e(i,o[a],a,r));return i}}function Q(t,e){var n=[][t];return!!n&&c(function(){n.call(null,e||function(){return 1},1)})}var tt,a,u,h,y=e("object"==typeof globalThis&&globalThis)||e("object"==typeof window&&window)||e("object"==typeof self&&self)||e("object"==typeof t&&t)||function(){return this}()||Function("return this")(),p=!c(function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}),w=!c(function(){var t=function(){}.bind();return"function"!=typeof t||t.hasOwnProperty("prototype")}),et=Function.prototype.call,d=w?et.bind(et):function(){return et.apply(et,arguments)},t={}.propertyIsEnumerable,nt=Object.getOwnPropertyDescriptor,it={f:nt&&!t.call({1:2},1)?function(t){t=nt(this,t);return!!t&&t.enumerable}:t},t=Function.prototype,rt=t.call,ot=w&&t.bind.bind(rt,rt),st=z({}.toString),at=z("".slice),ct=Object,lt=r("".split),ut=c(function(){return!ct("z").propertyIsEnumerable(0)})?function(t){return"String"==n(t)?lt(t,""):ct(t)}:ct,ht=function(t){return null==t},ft=TypeError,t="object"==typeof document&&document.all,t={all:t,IS_HTMLDDA:void 0===t&&void 0!==t},pt=t.all,g=t.IS_HTMLDDA?function(t){return"function"==typeof t||t===pt}:function(t){return"function"==typeof t},dt=t.all,m=t.IS_HTMLDDA?function(t){return"object"==typeof t?null!==t:g(t)||t===dt}:function(t){return"object"==typeof t?null!==t:g(t)},gt=r({}.isPrototypeOf),t=i("navigator","userAgent")||"",v=y.process,b=y.Deno,v=v&&v.versions||b&&b.version,b=v&&v.v8,mt=L=!(L=b?0<(T=b.split("."))[0]&&T[0]<4?1:+(T[0]+T[1]):L)&&t&&(!(T=t.match(/Edge\/(\d+)/))||74<=T[1])&&(T=t.match(/Chrome\/(\d+)/))?+T[1]:L,yt=!!Object.getOwnPropertySymbols&&!c(function(){var t=Symbol();return!String(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&mt&&mt<41}),vt=yt&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,bt=Object,xt=vt?function(t){return"symbol"==typeof t}:function(t){var e=i("Symbol");return g(e)&&gt(e.prototype,bt(t))},St=String,wt=TypeError,Pt=function(t){if(g(t))return t;throw wt(function(t){try{return St(t)}catch(t){return"Object"}}(t)+" is not a function")},_t=function(t,e){t=t[e];return ht(t)?void 0:Pt(t)},Tt=TypeError,Et=function(t,e){var n,i;if("string"===e&&g(n=t.toString)&&!m(i=d(n,t)))return i;if(g(n=t.valueOf)&&!m(i=d(n,t)))return i;if("string"!==e&&g(n=t.toString)&&!m(i=d(n,t)))return i;throw Tt("Can't convert object to primitive value")},Ot=Object.defineProperty,Lt=function(e,n){try{Ot(y,e,{value:n,configurable:!0,writable:!0})}catch(t){y[e]=n}return n},v="__core-js_shared__",x=y[v]||Lt(v,{}),b=N(function(t){(t.exports=function(t,e){return x[t]||(x[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.25.5",mode:"global",copyright:"© 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.25.5/LICENSE",source:"https://github.com/zloirock/core-js"})}),Ct=Object,jt=r({}.hasOwnProperty),S=Object.hasOwn||function(t,e){return jt(V(t),e)},It=0,Mt=Math.random(),Dt=r(1..toString),P=b("wks"),_=y.Symbol,Rt=_&&_.for,At=vt?_:_&&_.withoutSetter||B,Ft=TypeError,Nt=W("toPrimitive"),kt=function(t,e){if(!m(t)||xt(t))return t;var n=_t(t,Nt);if(n){if(n=d(n,t,e=void 0===e?"default":e),!m(n)||xt(n))return n;throw Ft("Can't convert object to primitive value")}return Et(t,e=void 0===e?"number":e)},zt=y.document,Yt=m(zt)&&m(zt.createElement),Xt=function(t){return Yt?zt.createElement(t):{}},Vt=!p&&!c(function(){return 7!=Object.defineProperty(Xt("div"),"a",{get:function(){return 7}}).a}),Bt=Object.getOwnPropertyDescriptor,Wt={f:p?Bt:function(t,e){if(t=X(t),e=$(e),Vt)try{return Bt(t,e)}catch(t){}if(S(t,e))return k(!d(it.f,t,e),t[e])}},T=p&&c(function(){return 42!=Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype}),$t=String,Ht=TypeError,E=function(t){if(m(t))return t;throw Ht($t(t)+" is not an object")},Gt=TypeError,Ut=Object.defineProperty,qt=Object.getOwnPropertyDescriptor,Kt="enumerable",Zt="configurable",Jt="writable",O={f:p?T?function(t,e,n){var i;return E(t),e=$(e),E(n),"function"==typeof t&&"prototype"===e&&"value"in n&&Jt in n&&!n[Jt]&&((i=qt(t,e))&&i[Jt]&&(t[e]=n.value,n={configurable:(Zt in n?n:i)[Zt],enumerable:(Kt in n?n:i)[Kt],writable:!1})),Ut(t,e,n)}:Ut:function(t,e,n){if(E(t),e=$(e),E(n),Vt)try{return Ut(t,e,n)}catch(t){}if("get"in n||"set"in n)throw Gt("Accessors not supported");return"value"in n&&(t[e]=n.value),t}},Qt=p?function(t,e,n){return O.f(t,e,k(1,n))}:function(t,e,n){return t[e]=n,t},L=Function.prototype,v=p&&Object.getOwnPropertyDescriptor,C=S(L,"name"),te={EXISTS:C,PROPER:C&&"something"===function(){}.name,CONFIGURABLE:C&&(!p||v(L,"name").configurable)},ee=r(Function.toString),ne=(g(x.inspectSource)||(x.inspectSource=function(t){return ee(t)}),x.inspectSource),C=y.WeakMap,v=g(C)&&/native code/.test(String(C)),ie=b("keys"),re={},oe="Object already initialized",se=y.TypeError,L=y.WeakMap,ae=v||x.state?((u=x.state||(x.state=new L)).get=u.get,u.has=u.has,u.set=u.set,tt=function(t,e){if(u.has(t))throw se(oe);return e.facade=t,u.set(t,e),e},a=function(t){return u.get(t)||{}},function(t){return u.has(t)}):(h=H("state"),re[h]=!0,tt=function(t,e){if(S(t,h))throw se(oe);return e.facade=t,Qt(t,h,e),e},a=function(t){return S(t,h)?t[h]:{}},function(t){return S(t,h)}),ce={set:tt,get:a,has:ae,enforce:function(t){return ae(t)?a(t):tt(t,{})},getterFor:function(e){return function(t){if(m(t)&&(t=a(t)).type===e)return t;throw se("Incompatible receiver, "+e+" required")}}},le=N(function(t){var i=te.CONFIGURABLE,r=ce.enforce,e=ce.get,o=Object.defineProperty,s=p&&!c(function(){return 8!==o(function(){},"length",{value:8}).length}),a=String(String).split("String"),t=t.exports=function(t,e,n){"Symbol("===String(e).slice(0,7)&&(e="["+String(e).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),n&&n.getter&&(e="get "+e),n&&n.setter&&(e="set "+e),(!S(t,"name")||i&&t.name!==e)&&(p?o(t,"name",{value:e,configurable:!0}):t.name=e),s&&n&&S(n,"arity")&&t.length!==n.arity&&o(t,"length",{value:n.arity});try{n&&S(n,"constructor")&&n.constructor?p&&o(t,"prototype",{writable:!1}):t.prototype&&(t.prototype=void 0)}catch(t){}n=r(t);return S(n,"source")||(n.source=a.join("string"==typeof e?e:"")),t};Function.prototype.toString=t(function(){return g(this)&&e(this).source||ne(this)},"toString")}),ue=Math.ceil,he=Math.floor,fe=Math.trunc||function(t){t=+t;return(0<t?he:ue)(t)},pe=function(t){t=+t;return t!=t||0==t?0:fe(t)},de=Math.max,ge=Math.min,me=Math.min,ye=function(t){return 0<t?me(pe(t),9007199254740991):0},C={includes:q(!0),indexOf:q(!1)},ve=C.indexOf,be=r([].push),xe=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],Se=xe.concat("length","prototype"),we={f:Object.getOwnPropertyNames||function(t){return K(t,Se)}},Pe={f:Object.getOwnPropertySymbols},_e=r([].concat),Te=i("Reflect","ownKeys")||function(t){var e=we.f(E(t)),n=Pe.f;return n?_e(e,n(t)):e},Ee=/#|\.prototype\./,Oe=o.normalize=function(t){return String(t).replace(Ee,".").toLowerCase()},Le=o.data={},Ce=o.NATIVE="N",je=o.POLYFILL="P",Ie=o,Me=Wt.f,De=r([].slice),Re=Function,Ae=r([].concat),Fe=r([].join),Ne={},v=w?Re.bind:function(s){var a=Pt(this),t=a.prototype,c=De(arguments,1),l=function(){var t=Ae(c,De(arguments));if(this instanceof l){var e=a,n=t.length,i=t;if(!S(Ne,n)){for(var r=[],o=0;o<n;o++)r[o]="a["+o+"]";Ne[n]=Re("C,a","return new C("+Fe(r,",")+")")}return Ne[n](e,i)}return a.apply(s,t)};return m(t)&&(l.prototype=t),l},L=(s({target:"Function",proto:!0,forced:Function.bind!==v},{bind:v}),Function.prototype),ke=L.apply,ze=L.call,Ye="object"==typeof Reflect&&Reflect.apply||(w?ze.bind(ke):function(){return ze.apply(ke,arguments)}),Xe=TypeError,Ve=/MSIE .\./.test(t),Be=y.Function,v={setTimeout:Z(y.setTimeout),setInterval:Z(y.setInterval)},L=v.setInterval,t=(s({global:!0,bind:!0,forced:y.setInterval!==L},{setInterval:L}),v.setTimeout),We=(s({global:!0,bind:!0,forced:y.setTimeout!==t},{setTimeout:t}),TypeError),L={left:J(!1),right:J(!0)},v="process"==n(y.process),$e=L.left;s({target:"Array",proto:!0,forced:!Q("reduce")||!v&&79<mt&&mt<83},{reduce:function(t){var e=arguments.length;return $e(this,t,e,1<e?arguments[1]:void 0)}});function He(){}function j(t){if(!g(t))return!1;try{return sn(He,on,t),!0}catch(t){return!1}}function Ge(t){if(!g(t))return!1;switch(tn(t)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return ln||!!cn(an,ne(t))}catch(t){return!0}}function Ue(t,e){return new(pn(t))(0===e?0:e)}function I(d){var g=1==d,m=2==d,y=3==d,v=4==d,b=6==d,x=7==d,S=5==d||b;return function(t,e,n,i){for(var r,o,s,a,c=V(t),l=ut(c),u=(o=n,Pt(r=e),void 0===o?r:w?nn(r,o):function(){return r.apply(o,arguments)}),h=U(l),f=0,n=i||Ue,p=g?n(t,h):m||x?n(t,0):void 0;f<h;f++)if((S||f in l)&&(a=u(s=l[f],f,c),d))if(g)p[f]=a;else if(a)switch(d){case 3:return!0;case 5:return s;case 6:return f;case 2:dn(p,s)}else switch(d){case 4:return!1;case 7:dn(p,s)}return b?-1:y||v?v:p}}function qe(e){if(e&&e.forEach!==M)try{Qt(e,"forEach",M)}catch(t){e.forEach=M}}var Ke,t={},L=(t[W("toStringTag")]="z","[object z]"===String(t)),Ze=W("toStringTag"),Je=Object,Qe="Arguments"==n(function(){return arguments}()),tn=L?n:function(t){var e;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(e=function(t,e){try{return t[e]}catch(t){}}(t=Je(t),Ze))?e:Qe?n(t):"Object"==(e=n(t))&&g(t.callee)?"Arguments":e},en=(L||G(Object.prototype,"toString",L?{}.toString:function(){return"[object "+tn(this)+"]"},{unsafe:!0}),Object.keys||function(t){return K(t,xe)}),nn=(s({target:"Object",stat:!0,forced:c(function(){en(1)})},{keys:function(t){return en(V(t))}}),r(r.bind)),rn=Array.isArray||function(t){return"Array"==n(t)},on=[],sn=i("Reflect","construct"),an=/^\s*(?:class|function)\b/,cn=r(an.exec),ln=!an.exec(He),un=(Ge.sham=!0,!sn||c(function(){var t;return j(j.call)||!j(Object)||!j(function(){t=!0})||t})?Ge:j),hn=W("species"),fn=Array,pn=function(t){var e;return rn(t)&&(e=t.constructor,(un(e)&&(e===fn||rn(e.prototype))||m(e)&&null===(e=e[hn]))&&(e=void 0)),void 0===e?fn:e},dn=r([].push),gn={forEach:I(0),map:I(1),filter:I(2),some:I(3),every:I(4),find:I(5),findIndex:I(6),filterReject:I(7)}.forEach,M=Q("forEach")?[].forEach:function(t){return gn(this,t,1<arguments.length?arguments[1]:void 0)},mn=(s({target:"Array",proto:!0,forced:[].forEach!=M},{forEach:M}),{CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}),v=Xt("span").classList,t=v&&v.constructor&&v.constructor.prototype,L=t===Object.prototype?void 0:t;for(Ke in mn)mn[Ke]&&qe(y[Ke]&&y[Ke].prototype);qe(L);function yn(t){if("Symbol"===tn(t))throw TypeError("Cannot convert a Symbol value to a string");return En(t)}function vn(){var t=E(this),e="";return t.hasIndices&&(e+="d"),t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.unicodeSets&&(e+="v"),t.sticky&&(e+="y"),e}function bn(){}function xn(t){t.write(Dn("")),t.close();var e=t.parentWindow.Object;return t=null,e}function Sn(e){return function(t){t=yn(Y(t));return 1&e&&(t=qn(t,Kn,"")),t=2&e?qn(t,Zn,""):t}}var wn,Pn=C.indexOf,_n=r([].indexOf),Tn=!!_n&&1/_n([1],1,-0)<0,v=Q("indexOf"),En=(s({target:"Array",proto:!0,forced:Tn||!v},{indexOf:function(t){var e=1<arguments.length?arguments[1]:void 0;return Tn?_n(this,t,e)||0:Pn(this,t,e)}}),String),On=y.RegExp,t=c(function(){var t=On("a","y");return t.lastIndex=2,null!=t.exec("abcd")}),L=t||c(function(){return!On("a","y").sticky}),C={BROKEN_CARET:t||c(function(){var t=On("^r","gy");return t.lastIndex=2,null!=t.exec("str")}),MISSED_STICKY:L,UNSUPPORTED_Y:t},Ln={f:p&&!T?Object.defineProperties:function(t,e){E(t);for(var n,i=X(e),r=en(e),o=r.length,s=0;s<o;)O.f(t,n=r[s++],i[n]);return t}},Cn=i("document","documentElement"),jn="prototype",In="script",Mn=H("IE_PROTO"),Dn=function(t){return"<"+In+">"+t+"</"+In+">"},Rn=function(){try{wn=new ActiveXObject("htmlfile")}catch(t){}Rn="undefined"==typeof document||document.domain&&wn?xn(wn):(t=Xt("iframe"),e="java"+In+":",t.style.display="none",Cn.appendChild(t),t.src=String(e),(e=t.contentWindow.document).open(),e.write(Dn("document.F=Object")),e.close(),e.F);for(var t,e,n=xe.length;n--;)delete Rn[jn][xe[n]];return Rn()},An=(re[Mn]=!0,Object.create||function(t,e){var n;return null!==t?(bn[jn]=E(t),n=new bn,bn[jn]=null,n[Mn]=t):n=Rn(),void 0===e?n:Ln.f(n,e)}),Fn=y.RegExp,v=c(function(){var t=Fn(".","s");return!t.dotAll||!t.exec("\n")||"s"!==t.flags}),Nn=y.RegExp,L=c(function(){var t=Nn("(?<a>b)","g");return"b"!==t.exec("b").groups.a||"bc"!=="b".replace(t,"$<a>c")}),kn=ce.get,zn=b("native-string-replace",String.prototype.replace),Yn=RegExp.prototype.exec,Xn=Yn,Vn=r("".charAt),Bn=r("".indexOf),Wn=r("".replace),$n=r("".slice),Hn=(t=/b*/g,d(Yn,T=/a/,"a"),d(Yn,t,"a"),0!==T.lastIndex||0!==t.lastIndex),Gn=C.BROKEN_CARET,Un=void 0!==/()??/.exec("")[1],b=Xn=Hn||Un||Gn||v||L?function(t){var e,n,i,r,o,s,a=this,c=kn(a),t=yn(t),l=c.raw;if(l)return l.lastIndex=a.lastIndex,h=d(Xn,l,t),a.lastIndex=l.lastIndex,h;var u=c.groups,l=Gn&&a.sticky,h=d(vn,a),c=a.source,f=0,p=t;if(l&&(h=Wn(h,"y",""),-1===Bn(h,"g")&&(h+="g"),p=$n(t,a.lastIndex),0<a.lastIndex&&(!a.multiline||a.multiline&&"\n"!==Vn(t,a.lastIndex-1))&&(c="(?: "+c+")",p=" "+p,f++),e=new RegExp("^(?:"+c+")",h)),Un&&(e=new RegExp("^"+c+"$(?!\\s)",h)),Hn&&(n=a.lastIndex),i=d(Yn,l?e:a,p),l?i?(i.input=$n(i.input,f),i[0]=$n(i[0],f),i.index=a.lastIndex,a.lastIndex+=i[0].length):a.lastIndex=0:Hn&&i&&(a.lastIndex=a.global?i.index+i[0].length:n),Un&&i&&1<i.length&&d(zn,i[0],e,function(){for(r=1;r<arguments.length-2;r++)void 0===arguments[r]&&(i[r]=void 0)}),i&&u)for(i.groups=o=An(null),r=0;r<u.length;r++)o[(s=u[r])[0]]=i[s[1]];return i}:Xn,t=(s({target:"RegExp",proto:!0,forced:/./.exec!==b},{exec:b}),"\t\n\v\f\r                　\u2028\u2029\ufeff"),qn=r("".replace),C="["+t+"]",Kn=RegExp("^"+C+C+"*"),Zn=RegExp(C+C+"*$"),v={start:Sn(1),end:Sn(2),trim:Sn(3)},Jn=v.trim,Qn=r("".charAt),ti=y.parseFloat,L=y.Symbol,ei=L&&L.iterator,b=1/ti(t+"-0")!=-1/0||ei&&!c(function(){ti(Object(ei))})?function(t){var t=Jn(yn(t)),e=ti(t);return 0===e&&"-"==Qn(t,0)?-0:e}:ti,ni=(s({global:!0,forced:parseFloat!=b},{parseFloat:b}),String),ii=TypeError,ri=Object.setPrototypeOf||("__proto__"in{}?function(){var n,i=!1,t={};try{(n=r(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set))(t,[]),i=t instanceof Array}catch(t){}return function(t,e){return E(t),function(t){if("object"==typeof t||g(t))return;throw ii("Can't set "+ni(t)+" as a prototype")}(e),i?n(t,e):t.__proto__=e,t}}():void 0),oi=r(1..valueOf),C=we.f,si=Wt.f,ai=O.f,ci=v.trim,L="Number",D=y[L],li=D.prototype,ui=y.TypeError,hi=r("".slice),fi=r("".charCodeAt),pi=function(t){var e,n,i,r,o,s,a,c=kt(t,"number");if(xt(c))throw ui("Cannot convert a Symbol value to a number");if("string"==typeof c&&2<c.length)if(c=ci(c),43===(t=fi(c,0))||45===t){if(88===(e=fi(c,2))||120===e)return NaN}else if(48===t){switch(fi(c,1)){case 66:case 98:n=2,i=49;break;case 79:case 111:n=8,i=55;break;default:return+c}for(o=(r=hi(c,2)).length,s=0;s<o;s++)if((a=fi(r,s))<48||i<a)return NaN;return parseInt(r,n)}return+c};if(Ie(L,!D(" 0o1")||!D("0b1")||D("+0x1"))){for(var di,R=function(t){var e,n,i,t=arguments.length<1?0:D(function(t){t=kt(t,"number");return"bigint"==typeof t?t:pi(t)}(t)),r=this;return gt(li,r)&&c(function(){oi(r)})?(e=Object(t),n=r,i=R,ri&&g(n=n.constructor)&&n!==i&&m(n=n.prototype)&&n!==i.prototype&&ri(e,n),e):t},gi=p?C(D):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),mi=0;gi.length>mi;mi++)S(D,di=gi[mi])&&!S(R,di)&&ai(R,di,si(D,di));(R.prototype=li).constructor=R,G(y,L,R,{constructor:!0})}function A(t,e){this.options=f.util.assign({friction:.92},e),this._isDragging=!1,this._dragLastX=0,this._dragLastY=0,this._dragDeltaX=0,this._dragDeltaY=0,this._dragLastDeltaX=0,this._dragLastDeltaY=0,this._velocityX=0,this._velocityY=0,this._requestAnimationFrameId=-1,this.onInertiaMove=t}A.prototype.approxZero=function(t){return Math.abs(t)<.5},A.prototype.updateVelocity=function(){var t=this._velocityX,e=this._velocityY,n=this._isDragging,i=this.options,r=this.onInertiaMove;!n&&this.approxZero(t)&&this.approxZero(e)||(this._requestAnimationFrameId=f.util.nextFrame(this.updateVelocity.bind(this)),n?(this._dragLastDeltaX=this._dragDeltaX,this._dragLastDeltaY=this._dragDeltaY,this._dragDeltaX=this._dragLastX,this._dragDeltaY=this._dragLastY,this._velocityX=this._dragDeltaX-this._dragLastDeltaX,this._velocityY=this._dragDeltaY-this._dragLastDeltaY):(n=t,t=e,e=i.friction,this._velocityX*=e,this._velocityY*=e,this._dragLastX+=n,this._dragLastY+=t,"function"==typeof r&&r(n,t)))},A.prototype.handleDragStart=function(t){this._isDragging=!0,this._dragLastX=t.clientX,this._dragLastY=t.clientY,this._velocityX=0,this._velocityY=0,f.util.cancelFrame(this._requestAnimationFrameId),this.updateVelocity()},A.prototype.handleDragMove=function(t){this._dragLastX=t.clientX,this._dragLastY=t.clientY};t=f.mvc.View.extend({className:"paper-scroller",events:{scroll:"onScroll"},options:{paper:void 0,padding:function(){var t,e=this.getClientSize(),n=Math.max(this.options.minVisiblePaperSize,1)||1;return(t={}).left=t.right=Math.max(e.width-n,0),t.top=t.bottom=Math.max(e.height-n,0),t},scrollWhileDragging:!(A.prototype.handleDragEnd=function(t){this._isDragging=!1}),minVisiblePaperSize:50,autoResizePaper:!1,baseWidth:void 0,baseHeight:void 0,contentOptions:void 0,cursor:"default",inertia:!1,borderless:!1},_padding:{left:0,top:0},init:function(){var t=this,e=(f.util.bindAll(this,"startPanning","stopPanning","pan","onBackgroundEvent"),this.options),n=this.el,i=e.paper,r=e.autoResizePaper,o=e.scrollWhileDragging,s=e.cursor,a=e.inertia,c=i.scale();this._sx=c.sx,this._sy=c.sy,void 0===e.baseWidth&&(e.baseWidth=i.options.width),void 0===e.baseHeight&&(e.baseHeight=i.options.height),this.$background=l("<div/>").addClass("paper-scroller-background").css({width:i.options.width,height:i.options.height}).append(i.el).appendTo(n),this.listenTo(i,"scale",this.onScale).listenTo(i,"resize",this.onResize).listenTo(i,"beforeprint beforeexport",this.storeScrollPosition).listenTo(i,"afterprint afterexport",this.restoreScrollPosition),r&&this.listenTo(i,"render:done",this.onPaperRenderDone),o&&(this.listenTo(i,"cell:pointermove",this.onCellPointermove),this.listenTo(i,"cell:pointerup",this.onCellPointerup)),this.debouncedStoreCenter=f.util.debounce(function(){return t.storeCenter()}),this.storeCenter(i.options.width/2,i.options.height/2),this.delegateBackgroundEvents(),this.setCursor(s),a&&(this.inertia=new A(function(t,e){var n=this.el;n.scrollTop-=e,n.scrollLeft-=t}.bind(this),a))},onCellPointermove:function(t,e,n,i){var r=this.options.scrollWhileDragging;r&&this.scrollWhileDragging(e,n,i,r)},onCellPointerup:function(t,e){this.stopScrollWhileDragging(e)},scrollWhileDragging:function(t,e,n){var i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{},r=this.el,o=i.interval,o=void 0===o?25:o,s=i.padding,s=void 0===s?-20:s,i=i.scrollingFunction,i=void 0===i?function(t){return t<20?5:20}:i,a=this.eventData(t).scrollId,c=new f.g.Point(e,n),s=f.util.normalizeSides(s),l=s.top,u=s.left,h=s.right,s=s.bottom,u=this.getVisibleArea().moveAndExpand({x:-u,y:-l,width:u+h,height:l+s});u.containsPoint(c)?(clearInterval(a),this.eventData(t,{scrollId:null})):(h=u.pointNearestToPoint(c).distance(c),l=i.call(this,h,t),s=u.x,c=u.y,i=u.width,h=u.height,this.eventData(t,{scrollX:e<s?-1:s+i<e?1:0,scrollY:n<c?-1:c+h<n?1:0,scrollPerTick:l,container:r}),a||(u=this.eventData(t),a=setInterval(function(t){var e=t.scrollPerTick,n=t.scrollX,i=t.scrollY,t=t.container;t.scrollLeft+=e*n,t.scrollTop+=e*i},o,u),u.scrollId=a))},stopScrollWhileDragging:function(t){t=this.eventData(t).scrollId;t&&clearInterval(t)},onPaperRenderDone:function(t){t.priority<2&&this.adjustPaper()},lock:function(){return this.$el.css("overflow","hidden"),this},unlock:function(){return this.$el.css("overflow","scroll"),this},setCursor:function(t){return"grab"===t?this.$el.css("cursor",""):this.$el.css("cursor",t),this.$el.attr("data-cursor",t),this.options.cursor=t,this},delegateBackgroundEvents:function(i){i=i||f.util.result(this.options.paper,"events");var t=this.paperEvents=Object.keys(i||{}).reduce(function(t,e){var n=i[e];-1===e.indexOf(" ")&&(t[e]=f.util.isFunction(n)?n:this.options.paper[n]);return t}.bind(this),{});return Object.keys(t).forEach(function(t){this.delegate(t,{guarded:!1},this.onBackgroundEvent)},this),this},onBackgroundEvent:function(t){this.$background.is(t.target)&&(t=this.paperEvents[t.type],f.util.isFunction(t)&&t.apply(this.options.paper,arguments))},onScroll:function(t){this.trigger("scroll",t),this.debouncedStoreCenter()},onResize:function(){this.restoreCenter()},onScale:function(t,e,n,i){this.adjustScale(t,e),this._sx=t,this._sy=e,(n||i)&&this.center(n,i);t=this.options,e=t.contentOptions,n=t.borderless;"function"!=typeof e&&!n||this.adjustPaper()},storeScrollPosition:function(){this._scrollLeftBeforePrint=this.el.scrollLeft,this._scrollTopBeforePrint=this.el.scrollTop},restoreScrollPosition:function(){this.el.scrollLeft=this._scrollLeftBeforePrint,this.el.scrollTop=this._scrollTopBeforePrint,this._scrollLeftBeforePrint=null,this._scrollTopBeforePrint=null},beforePaperManipulation:function(){(f.env.test("msie")||f.env.test("msedge"))&&this.$el.css("visibility","hidden")},afterPaperManipulation:function(){(f.env.test("msie")||f.env.test("msedge"))&&this.$el.css("visibility","visible")},clientToLocalPoint:function(t,e){var n=this.options.paper.matrix();return t=(t+=this.getLTRScrollLeft()-this._padding.left-n.e)/n.a,e=(e+=this.el.scrollTop-this._padding.top-n.f)/n.d,new f.g.Point(t,e)},localToBackgroundPoint:function(t,e){var t=new f.g.Point(t,e),e=this.options.paper.matrix(),n=this._padding;return f.V.transformPoint(t,e).offset(n.left,n.top)},getPadding:function(){var t=this.options.padding;return f.util.isFunction(t)&&(t=t.call(this,this)),f.util.normalizeSides(t)},computeRequiredPadding:function(t){var e=this.options.paper.scale(),n=e.sx,e=e.sy,i=this.getCenter(),r=i.x,i=i.y,n=(r*=n,i*=e,t.x),e=t.y,o=n+t.width,t=e+t.height,s=this.getClientSize(),a=s.width/2,s=s.height/2,c=this.getPadding(),l=c.left,u=c.right,h=c.top,c=c.bottom;return{left:Math.max(a-l-r+n,0)+l,right:Math.max(a-u+r-o,0)+u,top:Math.max(s-h-i+e,0)+h,bottom:Math.max(s-c+i-t,0)+c}},addPadding:function(){var t,e,n,i,r=this.options,o=r.borderless,r=r.paper,s=(o?t=e=n=i=0:(s=(o=r.scale()).sx,o=o.sy,a=r.getArea(),a=this.computeRequiredPadding(a.scale(s,o,{x:0,y:0})),t=Math.round(a.left),e=Math.round(a.right),n=Math.round(a.top),i=Math.round(a.bottom)),this._padding={left:t,top:n,bottom:i,right:e},r.getComputedSize()),o=s.width,a=s.height;return this.$background.css({width:t+o+e,height:n+a+i}),r.$el.css({left:t,top:n}),this},storeCenter:function(t,e){t=f.util.isNumber(t)?new f.g.Point(t,e):this.computeCenter();this._center=t},restoreCenter:function(){var t=this._center;t&&this.center(t.x,t.y)},getCenter:function(){return this._center||(this._center=this.options.paper.getArea().center()),this._center},computeCenter:function(){var t=this.getClientSize(),e=t.width,t=t.height;return this.clientToLocalPoint(e/2,t/2)},adjustPaper:function(){var t,e,n,i,r=this.options,o=r.paper,s=r.borderless,r=r.contentOptions,r=("function"==typeof r&&(r=r.call(this,this)),f.util.assign({gridWidth:this.options.baseWidth,gridHeight:this.options.baseHeight,allowNewOrigin:"negative"},r));return s?(s=o.getFitToContentArea(this.transformContentOptions(r)),i=(t=o.scale()).sx,t=t.sy,s.x*=i,s.y*=t,s.width*=i,s.height*=t,t=(i=this.computeRequiredPadding(s)).left,e=i.right,n=i.top,i=i.bottom,s.moveAndExpand({x:-t,y:-n,width:t+e,height:n+i}),o.setOrigin(-s.x,-s.y),o.setDimensions(s.width,s.height)):o.fitToContent(this.transformContentOptions(r)),this},adjustScale:function(t,e){var n=this.options.paper,i=n.options,t=t/this._sx,e=e/this._sy;n.setOrigin(i.origin.x*t,i.origin.y*e),n.setDimensions(i.width*t,i.height*e)},transformContentOptions:function(t){var e=this._sx,n=this._sy;return t.gridWidth&&(t.gridWidth*=e),t.gridHeight&&(t.gridHeight*=n),t.minWidth&&(t.minWidth*=e),t.minHeight&&(t.minHeight*=n),f.util.isObject(t.padding)?t.padding={left:(t.padding.left||0)*e,right:(t.padding.right||0)*e,top:(t.padding.top||0)*n,bottom:(t.padding.bottom||0)*n}:f.util.isNumber(t.padding)&&(t.padding=t.padding*e),t},center:function(t,e,n){var i,r=this.options.paper,o=r.matrix(),s=o.a,a=o.d,c=o.e,o=o.f,l=f.util.isNumber(t),u=f.util.isNumber(e);return l||u?(i=n,l||(t=this.getVisibleArea().center().x),u||(e=this.getVisibleArea().center().y),t*=s,e*=a):(i=t,t=(-c+(n=r.getComputedSize()).width)/2,e=(-o+n.height)/2),this.storeCenter(t/s,e/a),this.addPadding(),this.scroll(t,e,i),this},centerContent:function(t){return this.positionContent("center",t)},centerElement:function(t,e){return this.checkElement(t,"centerElement"),this.positionElement(t,"center",e)},positionContent:function(t,e){var n=this.options.paper.getContentArea(e);return this.positionRect(n,t,e)},positionElement:function(t,e,n){this.checkElement(t,"positionElement");t=t.getBBox();return this.positionRect(t,e,n)},positionRect:function(t,e,n){var i;switch(e){case"center":return i=t.center(),this.positionPoint(i,"50%","50%",n);case"top":return i=t.topMiddle(),this.positionPoint(i,"50%",0,n);case"top-right":return i=t.topRight(),this.positionPoint(i,"100%",0,n);case"right":return i=t.rightMiddle(),this.positionPoint(i,"100%","50%",n);case"bottom-right":return i=t.bottomRight(),this.positionPoint(i,"100%","100%",n);case"bottom":return i=t.bottomMiddle(),this.positionPoint(i,"50%","100%",n);case"bottom-left":return i=t.bottomLeft(),this.positionPoint(i,0,"100%",n);case"left":return i=t.leftMiddle(),this.positionPoint(i,0,"50%",n);case"top-left":return i=t.topLeft(),this.positionPoint(i,0,0,n);default:throw new Error("Provided positionName ('"+e+"') was not recognized.")}},positionPoint:function(t,e,n,i){var r=f.util.normalizeSides((i=i||{}).padding),o=new f.g.Rect(this.getClientSize()),r=o.clone().moveAndExpand({x:r.left,y:r.top,width:-r.right-r.left,height:-r.top-r.bottom}),s=f.util.isPercentage(e),s=(e=parseFloat(e),(e=s?e/100*Math.max(0,r.width):e)<0&&(e=r.width+e),f.util.isPercentage(n)),s=(n=parseFloat(n),(n=s?n/100*Math.max(0,r.height):n)<0&&(n=r.height+n),r.origin().offset(e,n)),r=o.center().difference(s),e=this.zoom(),n=r.scale(1/e,1/e),o=t.clone().offset(n);return this.center(o.x,o.y,i)},scroll:function(t,e,n){var i,r=this.options.paper.matrix(),o=this.getClientSize(),s={};f.util.isNumber(t)&&(i=o.width/2,s.scrollLeft=this.getScrollLeftFromLTR(t-i+r.e+(this._padding.left||0))),f.util.isNumber(e)&&(t=o.height/2,s.scrollTop=e-t+r.f+(this._padding.top||0)),n&&n.animation?this.$el.animate(s,n.animation):this.$el.prop(s)},scrollToContent:function(t){var e=this.options.paper.getContentArea(t).center(),n=this._sx,i=this._sy;return e.x*=n,e.y*=i,this.scroll(e.x,e.y,t)},scrollToElement:function(t,e){this.checkElement(t,"scrollToElement");var t=t.getBBox().center(),n=this._sx,i=this._sy;return t.x*=n,t.y*=i,this.scroll(t.x,t.y,e)},zoom:function(t){var e,n,i,r,o,s,a=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return void 0===t?this._sx:(e=this.computeCenter(),i=t=t,a.absolute||(n=1e12,t=(s=function(t,e){return(t*n+e*n)/n})(this._sx,t),i=s(this._sy,i)),a.grid&&(t=Math.round(t/a.grid)*a.grid,i=Math.round(i/a.grid)*a.grid),a.max&&(t=Math.min(a.max,t),i=Math.min(a.max,i)),a.min&&(t=Math.max(a.min,t),i=Math.max(a.min,i)),s=void 0===a.ox||void 0===a.oy?(o=e.x,e.y):(s=t/this._sx,r=i/this._sy,o=a.ox-(a.ox-e.x)/s,a.oy-(a.oy-e.y)/r),this.beforePaperManipulation(),this.options.paper.scale(t,i),this.center(o,s),this.afterPaperManipulation(),this)},zoomToRect:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=(t=new f.g.Rect(t),this.options.paper),i=f.util.assign({},n.options.origin),i=(e.fittingBBox=e.fittingBBox||f.util.assign({},new f.g.Point(i),{width:this.$el.width(),height:this.$el.height()}),e.contentArea=t,this.beforePaperManipulation(),n.scaleContentToFit(e),t.center());return this.adjustPaper(),this.center(i.x,i.y),this.afterPaperManipulation(),this},zoomToFit:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=this.options.paper.getContentArea(t);return this.zoomToRect(e,t),this},transitionClassName:"transition-in-progress",transitionEventName:"transitionend.paper-scroller-transition",transitionToPoint:function(t,e,n){f.util.isObject(t)&&(n=e,e=t.y,t=t.x),n=n||{};var i,r,o=this._sx,s=Math.max(n.scale||o,1e-6),a=new f.g.Point(t,e),c=this.computeCenter();return o===s?i="translate("+(i=c.difference(a).scale(o,o).round()).x+"px,"+i.y+"px)":(r=s/(o-s)*a.distance(c),c=c.clone().move(a,r),i="scale("+s/o+")",r=(a=this.localToBackgroundPoint(c).round()).x+"px "+a.y+"px"),this.$el.addClass(this.transitionClassName),this.$background.off(this.transitionEventName).on(this.transitionEventName,function(t){var e=this.paperScroller,n=(e.syncTransition(this.scale,{x:this.x,y:this.y}),this.onTransitionEnd);f.util.isFunction(n)&&n.call(e,t)}.bind({paperScroller:this,scale:s,x:t,y:e,onTransitionEnd:n.onTransitionEnd})).css({transition:"transform",transitionDuration:n.duration||"1s",transitionDelay:n.delay,transitionTimingFunction:n.timingFunction,transformOrigin:r,transform:i}),this},syncTransition:function(t,e){return this.beforePaperManipulation(),this.options.paper.scale(t),this.removeTransition().center(e.x,e.y),this.afterPaperManipulation(),this},removeTransition:function(){return this.$el.removeClass(this.transitionClassName),this.$background.off(this.transitionEventName).css({transition:"",transitionDuration:"",transitionDelay:"",transitionTimingFunction:"",transform:"",transformOrigin:""}),this},transitionToRect:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=(t=new f.g.Rect(t),e.maxScale||1/0),i=e.minScale||Number.MIN_VALUE,r=e.scaleGrid||null,o=e.visibility||1,s=e.center?new f.g.Point(e.center):t.center(),a=this.getClientSize(),c=a.width*o,a=a.height*o,o=new f.g.Rect({x:s.x-c/2,y:s.y-a/2,width:c,height:a}).maxRectUniformScaleToFit(t,s),o=Math.min(o,n);return r&&(o=Math.floor(o/r)*r),o=Math.max(i,o),this.transitionToPoint(s,f.util.defaults({scale:o},e)),this},startPanning:function(t){t=f.util.normalizeEvent(t),this._clientX=t.clientX,this._clientY=t.clientY,this.trigger("pan:start",t),this.delegatePanning(),this.options.inertia&&this.inertia.handleDragStart(t)},pan:function(t){var e=(t=f.util.normalizeEvent(t)).clientX-this._clientX,n=t.clientY-this._clientY;this.el.scrollTop-=n,this.el.scrollLeft-=e,this._clientX=t.clientX,this._clientY=t.clientY,this.options.inertia&&this.inertia.handleDragMove(t)},stopPanning:function(t){this.undelegatePanning(),t=t&&f.util.normalizeEvent(t),this.trigger("pan:stop",t),this.options.inertia&&this.inertia.handleDragEnd(t)},delegatePanning:function(){this.$el.addClass("is-panning"),l(document.body).on({"mousemove.panning touchmove.panning":this.pan,"mouseup.panning touchend.panning":this.stopPanning}),l(window).on("mouseup.panning",this.stopPanning)},undelegatePanning:function(){this.$el.removeClass("is-panning"),l(document.body).off(".panning"),l(window).off(".panning")},getClientSize:function(){var t=this.el;return{width:t.clientWidth,height:t.clientHeight}},getVisibleArea:function(){var t=this.options.paper.matrix(),e=this.getClientSize(),e={x:this.getLTRScrollLeft(),y:this.el.scrollTop||0,width:e.width,height:e.height},e=f.V.transformRect(e,t.inverse());return e.x-=(this._padding.left||0)/this._sx,e.y-=(this._padding.top||0)/this._sy,new f.g.Rect(e)},isElementVisible:function(t,e){this.checkElement(t,"isElementVisible");e=(e=e||{}).strict?"containsRect":"intersect";return!!this.getVisibleArea()[e](t.getBBox())},isPointVisible:function(t){return this.getVisibleArea().containsPoint(t)},checkElement:function(t,e){if(!(t&&t instanceof f.dia.Element))throw new TypeError("ui.PaperScroller."+e+"() accepts instance of dia.Element only")},onRemove:function(){this.undelegatePanning()},isRTLDirection:function(){return"rtl"===getComputedStyle(this.el).direction},getLTRScrollLeft:function(){var t,e=this.el;return this.isRTLDirection()?(t=e.scrollLeft,e.scrollWidth-e.clientWidth+t):e.scrollLeft},getScrollLeftFromLTR:function(t){var e;return this.isRTLDirection()?t-((e=this.el).scrollWidth-e.clientWidth):t}});f.env.addTest("msie",function(){var t=window.navigator.userAgent;return-1!==t.indexOf("MSIE")||-1!==t.indexOf("Trident")}),f.env.addTest("msedge",function(){return/Edge\/\d+/.test(window.navigator.userAgent)}),F.PaperScroller=t}(this.joint.ui=this.joint.ui||{},$,joint);