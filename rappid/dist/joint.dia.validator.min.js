/*! JointJS+ v3.6.3 - HTML5 Diagramming Framework

Copyright (c) 2022 client IO

 2022-12-09 


This Source Code Form is subject to the terms of the JointJS+ License
, v. 2.0. If a copy of the JointJS+ License was not distributed with this
file, You can obtain one at http://jointjs.com/license/rappid_v2.txt
 or from the JointJS+ archive as was distributed by client IO. See the LICENSE file.*/


this.joint=this.joint||{},function(D,t,F){"use strict";t=t&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t;var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function k(t,e){return t(e={exports:{}},e.exports),e.exports}function G(t){return t&&t.Math==Math&&t}function n(t){try{return!!t()}catch(t){return!0}}function U(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}function V(t){return dt?bt(t):function(){return gt.apply(t,arguments)}}function r(t){return wt(St(t),8,-1)}function o(t){if("Function"===r(t))return V(t)}function z(t){if(Tt(t))throw Pt("Can't call method on "+t);return t}function B(t){return Et(z(t))}function i(t,e){return arguments.length<2?(n=m[t],p(n)?n:void 0):m[t]&&m[t][e];var n}function H(t){return Bt(z(t))}function W(t){return"Symbol("+(void 0===t?"":t)+")_"+Jt(++Wt+qt,36)}function c(t){var e;return S(Kt,t)&&(Mt||"string"==typeof Kt[t])||(e="Symbol."+t,Mt&&S(w,t)?Kt[t]=w[t]:Kt[t]=(Rt&&Xt?Xt:Yt)(e)),Kt[t]}function q(t){return t=function(t,e){if(!h(t)||It(t))return t;var n=kt(t,Qt);if(n){if(n=g(n,t,e=void 0===e?"default":e),!h(n)||It(n))return n;throw $t("Can't convert object to primitive value")}return Ut(t,e=void 0===e?"number":e)}(t,"string"),It(t)?t:t+""}function J(t){return me[t]||(me[t]=W(t))}function K(t,e,n,r){var o=(r=r||{}).enumerable,i=void 0!==r.name?r.name:e;if(p(n)&&Oe(n,i,r),r.global)o?t[e]=n:zt(e,n);else{try{r.unsafe?t[e]&&(o=!0):delete t[e]}catch(t){}o?t[e]=n:E.f(t,e,{value:n,enumerable:!1,configurable:!r.nonConfigurable,writable:!r.nonWritable})}return t}function X(t,e){return(t=Ce(t))<0?Le(t+e,0):Ae(t,e)}function Y(t){return Me(t.length)}function $(u){return function(t,e,n){var r,o=B(t),i=Y(o),c=X(n,i);if(u&&e!=e){for(;c<i;)if((r=o[c++])!=r)return!0}else for(;c<i;c++)if((u||c in o)&&o[c]===e)return u||c||0;return!u&&-1}}function Q(t,e){var n,r=B(t),o=0,i=[];for(n in r)!S(ge,n)&&S(r,n)&&xe(i,n);for(;e.length>o;)!S(r,n=e[o++])||~Re(i,n)||xe(i,n);return i}function Z(t,e){return(t=ze[Ve(t)])==He||t!=Be&&(p(e)?n(e):!!e)}function u(t,e){var n,r,o,i=t.target,c=t.global,u=t.stat,a=c?m:u?m[i]||zt(i,{}):(m[i]||{}).prototype;if(a)for(n in e){if(r=e[n],o=t.dontCallGetSet?(o=qe(a,n))&&o.value:a[n],!We(c?n:i+(u?".":"#")+n,t.forced)&&void 0!==o){if(typeof r==typeof o)continue;for(var f=r,s=o,l=y=v=d=h=p=void 0,p=Ge(s),h=E.f,d=oe.f,v=0;v<p.length;v++){var y=p[v];S(f,y)||l&&S(l,y)||h(f,y,d(s,y))}}(t.sham||o&&o.sham)&&he(r,"sham",!0),K(a,n,r,t)}}function tt(t,e){return b(t),void 0===e?t:dt?Ke(t,e):function(){return t.apply(e,arguments)}}function et(){}function nt(t){if(!p(t))return!1;try{return tn(et,Ze,t),!0}catch(t){return!1}}function rt(t){if(!p(t))return!1;switch(Qe(t)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return rn||!!nn(en,ye(t))}catch(t){return!0}}function ot(t,e){return new(an(t))(0===e?0:e)}function a(p){var h=1==p,d=2==p,v=3==p,y=4==p,m=6==p,g=7==p,b=5==p||m;return function(t,e,n,r){for(var o,i,c=H(t),u=Et(c),a=tt(e,n),f=Y(u),s=0,e=r||ot,l=h?e(t,f):d||g?e(t,0):void 0;s<f;s++)if((b||s in u)&&(i=a(o=u[s],s,c),p))if(h)l[s]=i;else if(i)switch(p){case 3:return!0;case 5:return o;case 6:return s;case 2:fn(l,o)}else switch(p){case 4:return!1;case 7:fn(l,o)}return m?-1:v||y?y:l}}function it(){}function ct(t){t.write(yn("")),t.close();var e=t.parentWindow.Object;return t=null,e}function ut(e){if(e&&e.forEach!==wn)try{he(e,"forEach",wn)}catch(t){e.forEach=wn}}var at,ft,f,s,st,lt,pt,ht,m=G("object"==typeof globalThis&&globalThis)||G("object"==typeof window&&window)||G("object"==typeof self&&self)||G("object"==typeof e&&e)||function(){return this}()||Function("return this")(),l=!n(function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}),dt=!n(function(){var t=function(){}.bind();return"function"!=typeof t||t.hasOwnProperty("prototype")}),vt=Function.prototype.call,g=dt?vt.bind(vt):function(){return vt.apply(vt,arguments)},e={}.propertyIsEnumerable,yt=Object.getOwnPropertyDescriptor,mt={f:yt&&!e.call({1:2},1)?function(t){t=yt(this,t);return!!t&&t.enumerable}:e},e=Function.prototype,gt=e.call,bt=dt&&e.bind.bind(gt,gt),St=V({}.toString),wt=V("".slice),jt=Object,Ot=o("".split),Et=n(function(){return!jt("z").propertyIsEnumerable(0)})?function(t){return"String"==r(t)?Ot(t,""):jt(t)}:jt,Tt=function(t){return null==t},Pt=TypeError,e="object"==typeof document&&document.all,e={all:e,IS_HTMLDDA:void 0===e&&void 0!==e},Ct=e.all,p=e.IS_HTMLDDA?function(t){return"function"==typeof t||t===Ct}:function(t){return"function"==typeof t},Lt=e.all,h=e.IS_HTMLDDA?function(t){return"object"==typeof t?null!==t:p(t)||t===Lt}:function(t){return"object"==typeof t?null!==t:p(t)},At=o({}.isPrototypeOf),e=i("navigator","userAgent")||"",d=m.process,v=m.Deno,d=d&&d.versions||v&&v.version,v=d&&d.v8,_t=T=!(T=v?0<(j=v.split("."))[0]&&j[0]<4?1:+(j[0]+j[1]):T)&&e&&(!(j=e.match(/Edge\/(\d+)/))||74<=j[1])&&(j=e.match(/Chrome\/(\d+)/))?+j[1]:T,Mt=!!Object.getOwnPropertySymbols&&!n(function(){var t=Symbol();return!String(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&_t&&_t<41}),Rt=Mt&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,xt=Object,It=Rt?function(t){return"symbol"==typeof t}:function(t){var e=i("Symbol");return p(e)&&At(e.prototype,xt(t))},Nt=String,Dt=function(t){try{return Nt(t)}catch(t){return"Object"}},Ft=TypeError,b=function(t){if(p(t))return t;throw Ft(Dt(t)+" is not a function")},kt=function(t,e){t=t[e];return Tt(t)?void 0:b(t)},Gt=TypeError,Ut=function(t,e){var n,r;if("string"===e&&p(n=t.toString)&&!h(r=g(n,t)))return r;if(p(n=t.valueOf)&&!h(r=g(n,t)))return r;if("string"!==e&&p(n=t.toString)&&!h(r=g(n,t)))return r;throw Gt("Can't convert object to primitive value")},Vt=Object.defineProperty,zt=function(e,n){try{Vt(m,e,{value:n,configurable:!0,writable:!0})}catch(t){m[e]=n}return n},d="__core-js_shared__",y=m[d]||zt(d,{}),v=k(function(t){(t.exports=function(t,e){return y[t]||(y[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.25.5",mode:"global",copyright:"Â© 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.25.5/LICENSE",source:"https://github.com/zloirock/core-js"})}),Bt=Object,Ht=o({}.hasOwnProperty),S=Object.hasOwn||function(t,e){return Ht(H(t),e)},Wt=0,qt=Math.random(),Jt=o(1..toString),Kt=v("wks"),w=m.Symbol,Xt=w&&w.for,Yt=Rt?w:w&&w.withoutSetter||W,$t=TypeError,Qt=c("toPrimitive"),Zt=m.document,te=h(Zt)&&h(Zt.createElement),ee=function(t){return te?Zt.createElement(t):{}},ne=!l&&!n(function(){return 7!=Object.defineProperty(ee("div"),"a",{get:function(){return 7}}).a}),re=Object.getOwnPropertyDescriptor,oe={f:l?re:function(t,e){if(t=B(t),e=q(e),ne)try{return re(t,e)}catch(t){}if(S(t,e))return U(!g(mt.f,t,e),t[e])}},j=l&&n(function(){return 42!=Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype}),ie=String,ce=TypeError,O=function(t){if(h(t))return t;throw ce(ie(t)+" is not an object")},ue=TypeError,ae=Object.defineProperty,fe=Object.getOwnPropertyDescriptor,se="enumerable",le="configurable",pe="writable",E={f:l?j?function(t,e,n){var r;return O(t),e=q(e),O(n),"function"==typeof t&&"prototype"===e&&"value"in n&&pe in n&&!n[pe]&&((r=fe(t,e))&&r[pe]&&(t[e]=n.value,n={configurable:(le in n?n:r)[le],enumerable:(se in n?n:r)[se],writable:!1})),ae(t,e,n)}:ae:function(t,e,n){if(O(t),e=q(e),O(n),ne)try{return ae(t,e,n)}catch(t){}if("get"in n||"set"in n)throw ue("Accessors not supported");return"value"in n&&(t[e]=n.value),t}},he=l?function(t,e,n){return E.f(t,e,U(1,n))}:function(t,e,n){return t[e]=n,t},T=Function.prototype,d=l&&Object.getOwnPropertyDescriptor,P=S(T,"name"),de={EXISTS:P,PROPER:P&&"something"===function(){}.name,CONFIGURABLE:P&&(!l||d(T,"name").configurable)},ve=o(Function.toString),ye=(p(y.inspectSource)||(y.inspectSource=function(t){return ve(t)}),y.inspectSource),P=m.WeakMap,d=p(P)&&/native code/.test(String(P)),me=v("keys"),ge={},be="Object already initialized",Se=m.TypeError,T=m.WeakMap,we=d||y.state?((f=y.state||(y.state=new T)).get=f.get,f.has=f.has,f.set=f.set,at=function(t,e){if(f.has(t))throw Se(be);return e.facade=t,f.set(t,e),e},ft=function(t){return f.get(t)||{}},function(t){return f.has(t)}):(s=J("state"),ge[s]=!0,at=function(t,e){if(S(t,s))throw Se(be);return e.facade=t,he(t,s,e),e},ft=function(t){return S(t,s)?t[s]:{}},function(t){return S(t,s)}),je={set:at,get:ft,has:we,enforce:function(t){return we(t)?ft(t):at(t,{})},getterFor:function(e){return function(t){if(h(t)&&(t=ft(t)).type===e)return t;throw Se("Incompatible receiver, "+e+" required")}}},Oe=k(function(t){var r=de.CONFIGURABLE,o=je.enforce,e=je.get,i=Object.defineProperty,c=l&&!n(function(){return 8!==i(function(){},"length",{value:8}).length}),u=String(String).split("String"),t=t.exports=function(t,e,n){"Symbol("===String(e).slice(0,7)&&(e="["+String(e).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),n&&n.getter&&(e="get "+e),n&&n.setter&&(e="set "+e),(!S(t,"name")||r&&t.name!==e)&&(l?i(t,"name",{value:e,configurable:!0}):t.name=e),c&&n&&S(n,"arity")&&t.length!==n.arity&&i(t,"length",{value:n.arity});try{n&&S(n,"constructor")&&n.constructor?l&&i(t,"prototype",{writable:!1}):t.prototype&&(t.prototype=void 0)}catch(t){}n=o(t);return S(n,"source")||(n.source=u.join("string"==typeof e?e:"")),t};Function.prototype.toString=t(function(){return p(this)&&e(this).source||ye(this)},"toString")}),Ee=Math.ceil,Te=Math.floor,Pe=Math.trunc||function(t){t=+t;return(0<t?Te:Ee)(t)},Ce=function(t){t=+t;return t!=t||0==t?0:Pe(t)},Le=Math.max,Ae=Math.min,_e=Math.min,Me=function(t){return 0<t?_e(Ce(t),9007199254740991):0},Re={includes:$(!0),indexOf:$(!1)}.indexOf,xe=o([].push),Ie=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],Ne=Ie.concat("length","prototype"),De={f:Object.getOwnPropertyNames||function(t){return Q(t,Ne)}},Fe={f:Object.getOwnPropertySymbols},ke=o([].concat),Ge=i("Reflect","ownKeys")||function(t){var e=De.f(O(t)),n=Fe.f;return n?ke(e,n(t)):e},Ue=/#|\.prototype\./,Ve=Z.normalize=function(t){return String(t).replace(Ue,".").toLowerCase()},ze=Z.data={},Be=Z.NATIVE="N",He=Z.POLYFILL="P",We=Z,qe=oe.f,Je=Array.isArray||function(t){return"Array"==r(t)},Ke=(u({target:"Array",stat:!0},{isArray:Je}),o(o.bind)),P={},v=(P[c("toStringTag")]="z","[object z]"===String(P)),Xe=c("toStringTag"),Ye=Object,$e="Arguments"==r(function(){return arguments}()),Qe=v?r:function(t){var e;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(e=function(t,e){try{return t[e]}catch(t){}}(t=Ye(t),Xe))?e:$e?r(t):"Object"==(e=r(t))&&p(t.callee)?"Arguments":e},Ze=[],tn=i("Reflect","construct"),en=/^\s*(?:class|function)\b/,nn=o(en.exec),rn=!en.exec(et),on=(rt.sham=!0,!tn||n(function(){var t;return nt(nt.call)||!nt(Object)||!nt(function(){t=!0})||t})?rt:nt),cn=c("species"),un=Array,an=function(t){var e;return Je(t)&&(e=t.constructor,(on(e)&&(e===un||Je(e.prototype))||h(e)&&null===(e=e[cn]))&&(e=void 0)),void 0===e?un:e},fn=o([].push),d={forEach:a(0),map:a(1),filter:a(2),some:a(3),every:a(4),find:a(5),findIndex:a(6),filterReject:a(7)},sn=Object.keys||function(t){return Q(t,Ie)},ln={f:l&&!j?Object.defineProperties:function(t,e){O(t);for(var n,r=B(e),o=sn(e),i=o.length,c=0;c<i;)E.f(t,n=o[c++],r[n]);return t}},pn=i("document","documentElement"),hn="prototype",dn="script",vn=J("IE_PROTO"),yn=function(t){return"<"+dn+">"+t+"</"+dn+">"},mn=function(){try{st=new ActiveXObject("htmlfile")}catch(t){}mn="undefined"==typeof document||document.domain&&st?ct(st):(t=ee("iframe"),e="java"+dn+":",t.style.display="none",pn.appendChild(t),t.src=String(e),(e=t.contentWindow.document).open(),e.write(yn("document.F=Object")),e.close(),e.F);for(var t,e,n=Ie.length;n--;)delete mn[hn][Ie[n]];return mn()},T=(ge[vn]=!0,Object.create||function(t,e){var n;return null!==t?(it[hn]=O(t),n=new it,it[hn]=null,n[vn]=t):n=mn(),void 0===e?n:ln.f(n,e)}),P=E.f,j=c("unscopables"),C=Array.prototype,gn=(null==C[j]&&P(C,j,{configurable:!0,value:T(null)}),d.find),P="find",bn=!0,T=(P in[]&&Array(1)[P](function(){bn=!1}),u({target:"Array",proto:!0,forced:bn},{find:function(t){return gn(this,t,1<arguments.length?arguments[1]:void 0)}}),C[j][P]=!0,v?{}.toString:function(){return"[object "+Qe(this)+"]"}),Sn=(v||K(Object.prototype,"toString",T,{unsafe:!0}),d.forEach),wn=!!(pt=[]["forEach"])&&n(function(){pt.call(null,lt||function(){return 1},1)})?[].forEach:function(t){return Sn(this,t,1<arguments.length?arguments[1]:void 0)},jn=(u({target:"Array",proto:!0,forced:[].forEach!=wn},{forEach:wn}),{CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}),C=ee("span").classList,P=C&&C.constructor&&C.constructor.prototype,v=P===Object.prototype?void 0:P;for(ht in jn)jn[ht]&&ut(m[ht]&&m[ht].prototype);ut(v);function On(t,e){var n,t=O(t).constructor;if(void 0===t||Tt(n=O(t)[_n]))return e;if(on(t=n))return t;throw An(Dt(t)+" is not a constructor")}var En,Tn,L="process"==r(m.process),Pn=String,Cn=TypeError,T=Object.setPrototypeOf||("__proto__"in{}?function(){var n,r=!1,t={};try{(n=o(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set))(t,[]),r=t instanceof Array}catch(t){}return function(t,e){return O(t),function(t){if("object"==typeof t||p(t))return;throw Cn("Can't set "+Pn(t)+" as a prototype")}(e),r?n(t,e):t.__proto__=e,t}}():void 0),d=E.f,C=c("toStringTag"),P=c("species"),Ln=TypeError,An=TypeError,_n=c("species"),v=Function.prototype,Mn=v.apply,Rn=v.call,xn="object"==typeof Reflect&&Reflect.apply||(dt?Rn.bind(Mn):function(){return Rn.apply(Mn,arguments)}),In=o([].slice),Nn=TypeError,v=/(?:ipad|iphone|ipod).*applewebkit/i.test(e),A=m.setImmediate,_=m.clearImmediate,Dn=m.process,Fn=m.Dispatch,kn=m.Function,M=m.MessageChannel,Gn=m.String,Un=0,Vn={},zn="onreadystatechange";try{En=m.location}catch(t){}function Bn(t){return function(){or(t)}}function Hn(t){or(t.data)}function Wn(t){m.postMessage(Gn(t),En.protocol+"//"+En.host)}function qn(){this.head=null,this.tail=null}function Jn(t){var n,r;this.promise=new t(function(t,e){if(void 0!==n||void 0!==r)throw yr("Bad Promise constructor");n=t,r=e}),this.resolve=b(n),this.reject=b(r)}function Kn(t,e){var n,r,o,i,c=e.value,u=e.state==xr,a=u?t.ok:t.fail,f=t.resolve,s=t.reject,l=t.domain;try{a?(u||(e.rejection===Dr&&(i=e,g(gr,m,function(){var t=i.facade;L?Cr.emit("rejectionHandled",t):Gr(Rr,t,i.value)})),e.rejection=Nr),!0===a?n=c:(l&&l.enter(),n=a(c),l&&(l.exit(),o=!0)),n===t.promise?s(Tr("Promise-chain cycle")):(r=Fr(n))?g(r,n,f,s):f(n)):s(c)}catch(t){l&&!o&&l.exit(),s(t)}}var Xn,R,Yn,$n,Qn,Zn,tr,er,nr,rr,or=function(t){var e;S(Vn,t)&&(e=Vn[t],delete Vn[t],e())},M=(A&&_||(A=function(t){var e=arguments.length,n=1;if(e<n)throw Nn("Not enough arguments");var r=p(t)?t:kn(t),o=In(arguments,1);return Vn[++Un]=function(){xn(r,void 0,o)},Tn(Un),Un},_=function(t){delete Vn[t]},L?Tn=function(t){Dn.nextTick(Bn(t))}:Fn&&Fn.now?Tn=function(t){Fn.now(Bn(t))}:M&&!v?(x=(M=new M).port2,M.port1.onmessage=Hn,Tn=tt(x.postMessage,x)):m.addEventListener&&p(m.postMessage)&&!m.importScripts&&En&&"file:"!==En.protocol&&!n(Wn)?(Tn=Wn,m.addEventListener("message",Hn,!1)):Tn=zn in ee("script")?function(t){pn.appendChild(ee("script"))[zn]=function(){pn.removeChild(this),or(t)}}:function(t){setTimeout(Bn(t),0)}),{set:A,clear:_}),x=/ipad|iphone|ipod/i.test(e)&&void 0!==m.Pebble,A=/web0s(?!.*chrome)/i.test(e),_=oe.f,ir=M.set,e=m.MutationObserver||m.WebKitMutationObserver,cr=m.document,ur=m.process,I=m.Promise,_=_(m,"queueMicrotask"),_=_&&_.value,ar=(_||(Xn=function(){var t,e;for(L&&(t=ur.domain)&&t.exit();R;){e=R.fn,R=R.next;try{e()}catch(t){throw R?$n():Yn=void 0,t}}Yn=void 0,t&&t.enter()},$n=v||L||A||!e||!cr?!x&&I&&I.resolve?((v=I.resolve(void 0)).constructor=I,tr=tt(v.then,v),function(){tr(Xn)}):L?function(){ur.nextTick(Xn)}:(ir=tt(ir,m),function(){ir(Xn)}):(Qn=!0,Zn=cr.createTextNode(""),new e(Xn).observe(Zn,{characterData:!0}),function(){Zn.data=Qn=!Qn})),_||function(t){t={fn:t,next:void 0};Yn&&(Yn.next=t),R||(R=t,$n()),Yn=t}),fr=function(t){try{return{error:!1,value:t()}}catch(t){return{error:!0,value:t}}},sr=(qn.prototype={add:function(t){t={item:t,next:null};this.head?this.tail.next=t:this.head=t,this.tail=t},get:function(){var t=this.head;if(t)return this.head=t.next,this.tail===t&&(this.tail=null),t.item}},qn),N=m.Promise,lr="object"==typeof Deno&&Deno&&"object"==typeof Deno.version,pr=!lr&&!L&&"object"==typeof window&&"object"==typeof document,hr=(N&&N.prototype,c("species")),dr=!1,vr=p(m.PromiseRejectionEvent),A={CONSTRUCTOR:We("Promise",function(){var t=ye(N),e=t!==String(N);if(!e&&66===_t)return!0;if(!_t||_t<51||!/native code/.test(t)){var t=new N(function(t){t(1)}),n=function(t){t(function(){},function(){})};if((t.constructor={})[hr]=n,!(dr=t.then(function(){})instanceof n))return!0}return!e&&(pr||lr)&&!vr}),REJECTION_EVENT:vr,SUBCLASSING:dr},yr=TypeError,mr={f:function(t){return new Jn(t)}},gr=M.set,br="Promise",x=A.CONSTRUCTOR,Sr=A.REJECTION_EVENT,I=A.SUBCLASSING,wr=je.getterFor(br),jr=je.set,v=N&&N.prototype,Or=N,Er=v,Tr=m.TypeError,Pr=m.document,Cr=m.process,Lr=mr.f,Ar=Lr,_r=!!(Pr&&Pr.createEvent&&m.dispatchEvent),Mr="unhandledrejection",Rr="rejectionhandled",xr=1,Ir=2,Nr=1,Dr=2,Fr=function(t){var e;return!(!h(t)||!p(e=t.then))&&e},kr=function(n,o){n.notified||(n.notified=!0,ar(function(){for(var t,r,e=n.reactions;t=e.get();)Kn(t,n);n.notified=!1,o&&!n.rejection&&(r=n,g(gr,m,function(){var t=r.facade,e=r.value,n=Ur(r);if(n&&(n=fr(function(){L?Cr.emit("unhandledRejection",e,t):Gr(Mr,t,e)}),r.rejection=L||Ur(r)?Dr:Nr,n.error))throw n.value}))}))},Gr=function(t,e,n){var r;_r?((r=Pr.createEvent("Event")).promise=e,r.reason=n,r.initEvent(t,!1,!0),m.dispatchEvent(r)):r={promise:e,reason:n},!Sr&&(e=m["on"+t])?e(r):t===Mr&&function(t,e){var n=m.console;n&&n.error&&(1==arguments.length?n.error(t):n.error(t,e))}("Unhandled promise rejection",n)},Ur=function(t){return t.rejection!==Nr&&!t.parent},Vr=function(e,n,r){return function(t){e(n,t,r)}},zr=function(t,e,n){t.done||(t.done=!0,(t=n?n:t).value=e,t.state=Ir,kr(t,!0))},Br=function(n,t,e){if(!n.done){n.done=!0,e&&(n=e);try{if(n.facade===t)throw Tr("Promise can't be resolved itself");var r=Fr(t);r?ar(function(){var e={done:!1};try{g(r,t,Vr(Br,e,n),Vr(zr,e,n))}catch(t){zr(e,t,n)}}):(n.value=t,n.state=xr,kr(n,!1))}catch(t){zr({done:!1},t,n)}}};if(x&&(Er=(Or=function(t){!function(t,e){if(At(e,t))return;throw Ln("Incorrect invocation")}(this,Er),b(t),g(er,this);var e=wr(this);try{t(Vr(Br,e),Vr(zr,e))}catch(t){zr(e,t)}}).prototype,(er=function(t){jr(this,{type:br,done:!1,notified:!1,parent:!1,reactions:new sr,rejection:!1,state:0,value:void 0})}).prototype=K(Er,"then",function(t,e){var n=wr(this),r=Lr(On(this,Or));return n.parent=!0,r.ok=!p(t)||t,r.fail=p(e)&&e,r.domain=L?Cr.domain:void 0,0==n.state?n.reactions.add(r):ar(function(){Kn(r,n)}),r.promise}),nr=function(){var t=new er,e=wr(t);this.promise=t,this.resolve=Vr(Br,e),this.reject=Vr(zr,e)},mr.f=Lr=function(t){return t===Or||void 0===t?new nr:Ar(t)},p(N)&&v!==Object.prototype)){rr=v.then,I||K(v,"then",function(t,e){var n=this;return new Or(function(t,e){g(rr,n,t,e)}).then(t,e)},{unsafe:!0});try{delete v.constructor}catch(t){}T&&T(v,Er)}u({global:!0,constructor:!0,wrap:!0,forced:x},{Promise:Or}),e=!(cr=br),(_=(_=Or)&&!e?_.prototype:_)&&!S(_,C)&&d(_,C,{configurable:!0,value:cr}),M=i(M=br),I=E.f,l&&M&&!M[P]&&I(M,P,{configurable:!0,get:function(){return this}});function Hr(t,e,n){var r,o;O(t);try{if(!(r=kt(t,"return"))){if("throw"===e)throw n;return}r=g(r,t)}catch(t){o=!0,r=t}if("throw"===e)throw n;if(o)throw r;O(r)}function Wr(t,e){this.stopped=t,this.result=e}function qr(t,e,n){function r(t){return i&&Hr(i,"normal",t),new Wr(!0,t)}function o(t){return p?(O(t),v?y(t[0],t[1],r):y(t[0],t[1])):v?y(t,r):y(t)}var i,c,u,a,f,s,l=n&&n.that,p=!(!n||!n.AS_ENTRIES),h=!(!n||!n.IS_RECORD),d=!(!n||!n.IS_ITERATOR),v=!(!n||!n.INTERRUPTED),y=tt(e,l);if(h)i=t.iterator;else if(d)i=t;else{if(!(n=$r(t)))throw Zr(Dt(t)+" is not iterable");if(void 0!==(e=n)&&(Jr.Array===e||Xr[Kr]===e)){for(c=0,u=Y(t);c<u;c++)if((a=o(t[c]))&&At(to,a))return;return}i=function(t,e){e=arguments.length<2?$r(t):e;if(b(e))return O(g(e,t));throw Qr(Dt(t)+" is not iterable")}(t,n)}for(f=(h?t:i).next;!(s=g(f,i)).done;){try{a=o(s.value)}catch(t){Hr(i,"throw",t)}if("object"==typeof a&&a&&At(to,a))return}}var Jr={},Kr=c("iterator"),Xr=Array.prototype,Yr=c("iterator"),$r=function(t){if(!Tt(t))return kt(t,Yr)||kt(t,"@@iterator")||Jr[Qe(t)]},Qr=TypeError,Zr=TypeError,to=Wr.prototype,eo=c("iterator"),no=!1;try{var ro=0,oo={next:function(){return{done:!!ro++}},return:function(){no=!0}};oo[eo]=function(){return this},Array.from(oo,function(){throw 2})}catch(t){}T=A.CONSTRUCTOR||!function(t,e){if(!e&&!no)return!1;var n=!1;try{var r={};r[eo]=function(){return{next:function(){return{done:n=!0}}}},t(r)}catch(t){}return n}(function(t){N.all(t).then(void 0,function(){})}),u({target:"Promise",stat:!0,forced:T},{all:function(t){var u=this,e=mr.f(u),a=e.resolve,f=e.reject,n=fr(function(){var r=b(u.resolve),o=[],i=0,c=1;qr(t,function(t){var e=i++,n=!1;c++,g(r,u,t).then(function(t){n||(n=!0,o[e]=t,--c||a(o))},f)}),--c||a(o)});return n.error&&f(n.value),e.promise}}),v=A.CONSTRUCTOR,x=N&&N.prototype;u({target:"Promise",proto:!0,forced:v,real:!0},{catch:function(t){return this.then(void 0,t)}}),p(N)&&(e=i("Promise").prototype.catch,x.catch!==e&&K(x,"catch",e,{unsafe:!0})),u({target:"Promise",stat:!0,forced:T},{race:function(t){var n=this,r=mr.f(n),o=r.reject,e=fr(function(){var e=b(n.resolve);qr(t,function(t){g(e,n,t).then(r.resolve,o)})});return e.error&&o(e.value),r.promise}});u({target:"Promise",stat:!0,forced:A.CONSTRUCTOR},{reject:function(t){var e=mr.f(this);return g(e.reject,void 0,t),e.promise}});var io,d=A.CONSTRUCTOR,co=(i("Promise"),u({target:"Promise",stat:!0,forced:d},{resolve:function(t){return t=t,O(e=this),h(t)&&t.constructor===e?t:((0,(e=mr.f(e)).resolve)(t),e.promise);var e}}),c("species")),_=(io="slice",51<=_t||!n(function(){var t=[];return(t.constructor={})[co]=function(){return{foo:1}},1!==t[io](Boolean).foo})),uo=c("species"),ao=Array,fo=Math.max,C=(u({target:"Array",proto:!0,forced:!_},{slice:function(t,e){var n,r,o,i=B(this),c=Y(i),u=X(t,c),a=X(void 0===e?c:e,c);if(Je(i)&&(n=i.constructor,(n=on(n)&&(n===ao||Je(n.prototype))||h(n)&&null===(n=n[uo])?void 0:n)===ao||void 0===n))return In(i,u,a);for(r=new(void 0===n?ao:n)(fo(a-u,0)),o=0;u<a;u++,o++)if(u in i){s=void 0;var f=r,s=o,l=i[u];(s=q(s))in f?E.f(f,s,U(0,l)):f[s]=l}return r.length=o,r}}),t.Model.extend({initialize:function(t){this._map={},this._commandManager=t.commandManager,this.listenTo(this._commandManager,"add",this._onCommand)},defaults:{cancelInvalid:!0},_onCommand:function(t){return Array.isArray(t)?t.find(function(t){return!this._validateCommand(t)},this):this._validateCommand(t)},_validateCommand:function(i){var c;return!(!i.options||!1!==i.options.validation)||(F.util.toArray(this._map[i.action]).forEach(function(r){var o=0;!function t(e){var n=r[o++];try{n?n(e,i,t):c=e}catch(e){t(e)}}(c)}),!c||(this.get("cancelInvalid")&&this._commandManager.cancel(),this.trigger("invalid",c),!1))},validate:function(e){var n=Array.prototype.slice.call(arguments,1);return n.forEach(function(t){if(!F.util.isFunction(t))throw new Error(e+" requires callback functions.")}),e.split(" ").forEach(function(t){(this._map[t]=this._map[t]||[]).push(n)},this),this}}));D.Validator=C}(this.joint.dia=this.joint.dia||{},Backbone,joint);