/*! JointJS+ v3.6.3 - HTML5 Diagramming Framework

Copyright (c) 2022 client IO

 2022-12-09 


This Source Code Form is subject to the terms of the JointJS+ License
, v. 2.0. If a copy of the JointJS+ License was not distributed with this
file, You can obtain one at http://jointjs.com/license/rappid_v2.txt
 or from the JointJS+ archive as was distributed by client IO. See the LICENSE file.*/


this.joint=this.joint||{},function(G,t,N){"use strict";t=t&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t;var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function R(t,e){return t(e={exports:{}},e.exports),e.exports}function n(t){return t&&t.Math==Math&&t}function s(t){try{return!!t()}catch(t){return!0}}function _(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}function r(t){return x?nt(t):function(){return et.apply(t,arguments)}}function i(t){return it(rt(t),8,-1)}function o(t){if("Function"===i(t))return r(t)}function z(t){if(st(t))throw at("Can't call method on "+t);return t}function a(t){return ut(z(t))}function c(t,e){return arguments.length<2?(n=v[t],j(n)?n:void 0):v[t]&&v[t][e];var n}function V(t){return Et(z(t))}function H(t){return"Symbol("+(void 0===t?"":t)+")_"+At(++Tt+Pt,36)}function u(t){var e;return P(A,t)&&(gt||"string"==typeof A[t])||(e="Symbol."+t,gt&&P(k,t)?A[t]=k[t]:A[t]=(pt&&kt?kt:Dt)(e)),A[t]}function f(t){return t=function(t,e){if(!L(t)||dt(t))return t;var n=wt(t,Ft);if(n){if(n=O(n,t,e=void 0===e?"default":e),!L(n)||dt(n))return n;throw Ct("Can't convert object to primitive value")}return Ot(t,e=void 0===e?"number":e)}(t,"string"),dt(t)?t:t+""}function q(t){return Gt?It.createElement(t):{}}function l(t){if(L(t))return t;throw Vt(zt(t)+" is not an object")}function B(t,e,n,r){var i=(r=r||{}).enumerable,o=void 0!==r.name?r.name:e;if(j(n)&&ie(n,o,r),r.global)i?t[e]=n:Lt(e,n);else{try{r.unsafe?t[e]&&(i=!0):delete t[e]}catch(t){}i?t[e]=n:Xt.f(t,e,{value:n,enumerable:!1,configurable:!r.nonConfigurable,writable:!r.nonWritable})}}function U(t){return he(t.length)}function W(u){return function(t,e,n){var r,i=a(t),o=U(i),c=function(t,e){t=se(t);return t<0?ae(t+e,0):fe(t,e)}(n,o);if(u&&e!=e){for(;c<o;)if((r=i[c++])!=r)return!0}else for(;c<o;c++)if((u||c in i)&&i[c]===e)return u||c||0;return!u&&-1}}function h(t,e){return(t=xe[we(t)])==je||t!=Oe&&(j(e)?s(e):!!e)}function K(t,e){var n,r,i,o=t.target,c=t.global,u=t.stat,s=c?v:u?v[o]||Lt(o,{}):(v[o]||{}).prototype;if(s)for(n in e){if(r=e[n],i=t.dontCallGetSet?(i=Ee(s,n))&&i.value:s[n],!Le(c?n:o+(u?".":"#")+n,t.forced)&&void 0!==i){if(typeof r==typeof i)continue;for(var a=r,f=i,l=b=p=g=y=h=void 0,h=ve(f),y=Xt.f,g=_t.f,p=0;p<h.length;p++){var b=h[p];P(a,b)||l&&P(l,b)||y(a,b,g(f,b))}}(t.sham||i&&i.sham)&&Yt(r,"sham",!0),B(s,n,r,t)}}function X(){}function y(t){if(!j(t))return!1;try{return Fe(X,Ce,t),!0}catch(t){return!1}}function Y(t){if(!j(t))return!1;switch(De(t)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return Ne||!!Ge(Ie,Qt(t))}catch(t){return!0}}function $(t,e){return new(Ve(t))(0===e?0:e)}function g(g){var p=1==g,b=2==g,d=3==g,m=4==g,v=6==g,S=7==g,w=5==g||v;return function(t,e,n,r){for(var i,o,c,u,s=V(t),a=ut(s),f=(o=n,St(i=e),void 0===o?i:x?Te(i,o):function(){return i.apply(o,arguments)}),l=U(a),h=0,n=r||$,y=p?n(t,l):b||S?n(t,0):void 0;h<l;h++)if((w||h in a)&&(u=f(c=a[h],h,s),g))if(p)y[h]=u;else if(u)switch(g){case 3:return!0;case 5:return c;case 6:return h;case 2:He(y,c)}else switch(g){case 4:return!1;case 7:He(y,c)}return v?-1:d||m?m:y}}var p,b,d,m,J,Q,v=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof e&&e)||function(){return this}()||Function("return this")(),S=!s(function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}),x=!s(function(){var t=function(){}.bind();return"function"!=typeof t||t.hasOwnProperty("prototype")}),w=Function.prototype.call,O=x?w.bind(w):function(){return w.apply(w,arguments)},e={}.propertyIsEnumerable,Z=Object.getOwnPropertyDescriptor,tt={f:Z&&!e.call({1:2},1)?function(t){t=Z(this,t);return!!t&&t.enumerable}:e},e=Function.prototype,et=e.call,nt=x&&e.bind.bind(et,et),rt=r({}.toString),it=r("".slice),ot=Object,ct=o("".split),ut=s(function(){return!ot("z").propertyIsEnumerable(0)})?function(t){return"String"==i(t)?ct(t,""):ot(t)}:ot,st=function(t){return null==t},at=TypeError,e="object"==typeof document&&document.all,e={all:e,IS_HTMLDDA:void 0===e&&void 0!==e},ft=e.all,j=e.IS_HTMLDDA?function(t){return"function"==typeof t||t===ft}:function(t){return"function"==typeof t},lt=e.all,L=e.IS_HTMLDDA?function(t){return"object"==typeof t?null!==t:j(t)||t===lt}:function(t){return"object"==typeof t?null!==t:j(t)},ht=o({}.isPrototypeOf),e=c("navigator","userAgent")||"",E=v.process,M=v.Deno,E=E&&E.versions||M&&M.version,M=E&&E.v8,yt=C=!(C=M?0<(D=M.split("."))[0]&&D[0]<4?1:+(D[0]+D[1]):C)&&e&&(!(D=e.match(/Edge\/(\d+)/))||74<=D[1])&&(D=e.match(/Chrome\/(\d+)/))?+D[1]:C,gt=!!Object.getOwnPropertySymbols&&!s(function(){var t=Symbol();return!String(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&yt&&yt<41}),pt=gt&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,bt=Object,dt=pt?function(t){return"symbol"==typeof t}:function(t){var e=c("Symbol");return j(e)&&ht(e.prototype,bt(t))},mt=String,vt=TypeError,St=function(t){if(j(t))return t;throw vt(function(t){try{return mt(t)}catch(t){return"Object"}}(t)+" is not a function")},wt=function(t,e){t=t[e];return st(t)?void 0:St(t)},xt=TypeError,Ot=function(t,e){var n,r;if("string"===e&&j(n=t.toString)&&!L(r=O(n,t)))return r;if(j(n=t.valueOf)&&!L(r=O(n,t)))return r;if("string"!==e&&j(n=t.toString)&&!L(r=O(n,t)))return r;throw xt("Can't convert object to primitive value")},jt=Object.defineProperty,Lt=function(e,n){try{jt(v,e,{value:n,configurable:!0,writable:!0})}catch(t){v[e]=n}return n},E="__core-js_shared__",T=v[E]||Lt(E,{}),M=R(function(t){(t.exports=function(t,e){return T[t]||(T[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.25.5",mode:"global",copyright:"Â© 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.25.5/LICENSE",source:"https://github.com/zloirock/core-js"})}),Et=Object,Mt=o({}.hasOwnProperty),P=Object.hasOwn||function(t,e){return Mt(V(t),e)},Tt=0,Pt=Math.random(),At=o(1..toString),A=M("wks"),k=v.Symbol,kt=k&&k.for,Dt=pt?k:k&&k.withoutSetter||H,Ct=TypeError,Ft=u("toPrimitive"),It=v.document,Gt=L(It)&&L(It.createElement),Nt=!S&&!s(function(){return 7!=Object.defineProperty(q("div"),"a",{get:function(){return 7}}).a}),Rt=Object.getOwnPropertyDescriptor,_t={f:S?Rt:function(t,e){if(t=a(t),e=f(e),Nt)try{return Rt(t,e)}catch(t){}if(P(t,e))return _(!O(tt.f,t,e),t[e])}},e=S&&s(function(){return 42!=Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype}),zt=String,Vt=TypeError,Ht=TypeError,qt=Object.defineProperty,Bt=Object.getOwnPropertyDescriptor,Ut="enumerable",Wt="configurable",Kt="writable",Xt={f:S?e?function(t,e,n){var r;return l(t),e=f(e),l(n),"function"==typeof t&&"prototype"===e&&"value"in n&&Kt in n&&!n[Kt]&&((r=Bt(t,e))&&r[Kt]&&(t[e]=n.value,n={configurable:(Wt in n?n:r)[Wt],enumerable:(Ut in n?n:r)[Ut],writable:!1})),qt(t,e,n)}:qt:function(t,e,n){if(l(t),e=f(e),l(n),Nt)try{return qt(t,e,n)}catch(t){}if("get"in n||"set"in n)throw Ht("Accessors not supported");return"value"in n&&(t[e]=n.value),t}},Yt=S?function(t,e,n){return Xt.f(t,e,_(1,n))}:function(t,e,n){return t[e]=n,t},D=Function.prototype,C=S&&Object.getOwnPropertyDescriptor,E=P(D,"name"),$t={EXISTS:E,PROPER:E&&"something"===function(){}.name,CONFIGURABLE:E&&(!S||C(D,"name").configurable)},Jt=o(Function.toString),Qt=(j(T.inspectSource)||(T.inspectSource=function(t){return Jt(t)}),T.inspectSource),e=v.WeakMap,E=j(e)&&/native code/.test(String(e)),C=M("keys"),Zt={},te="Object already initialized",ee=v.TypeError,D=v.WeakMap,ne=E||T.state?((d=T.state||(T.state=new D)).get=d.get,d.has=d.has,d.set=d.set,p=function(t,e){if(d.has(t))throw ee(te);return e.facade=t,d.set(t,e),e},b=function(t){return d.get(t)||{}},function(t){return d.has(t)}):(m=C[e="state"]||(C[e]=H(e)),Zt[m]=!0,p=function(t,e){if(P(t,m))throw ee(te);return e.facade=t,Yt(t,m,e),e},b=function(t){return P(t,m)?t[m]:{}},function(t){return P(t,m)}),re={set:p,get:b,has:ne,enforce:function(t){return ne(t)?b(t):p(t,{})},getterFor:function(e){return function(t){if(L(t)&&(t=b(t)).type===e)return t;throw ee("Incompatible receiver, "+e+" required")}}},ie=R(function(t){var r=$t.CONFIGURABLE,i=re.enforce,e=re.get,o=Object.defineProperty,c=S&&!s(function(){return 8!==o(function(){},"length",{value:8}).length}),u=String(String).split("String"),t=t.exports=function(t,e,n){"Symbol("===String(e).slice(0,7)&&(e="["+String(e).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),n&&n.getter&&(e="get "+e),n&&n.setter&&(e="set "+e),(!P(t,"name")||r&&t.name!==e)&&(S?o(t,"name",{value:e,configurable:!0}):t.name=e),c&&n&&P(n,"arity")&&t.length!==n.arity&&o(t,"length",{value:n.arity});try{n&&P(n,"constructor")&&n.constructor?S&&o(t,"prototype",{writable:!1}):t.prototype&&(t.prototype=void 0)}catch(t){}n=i(t);return P(n,"source")||(n.source=u.join("string"==typeof e?e:"")),t};Function.prototype.toString=t(function(){return j(this)&&e(this).source||Qt(this)},"toString")}),oe=Math.ceil,ce=Math.floor,ue=Math.trunc||function(t){t=+t;return(0<t?ce:oe)(t)},se=function(t){t=+t;return t!=t||0==t?0:ue(t)},ae=Math.max,fe=Math.min,le=Math.min,he=function(t){return 0<t?le(se(t),9007199254740991):0},ye={includes:W(!0),indexOf:W(!1)}.indexOf,ge=o([].push),pe=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"].concat("length","prototype"),be={f:Object.getOwnPropertyNames||function(t){var e,n=pe,r=a(t),i=0,o=[];for(e in r)!P(Zt,e)&&P(r,e)&&ge(o,e);for(;n.length>i;)!P(r,e=n[i++])||~ye(o,e)||ge(o,e);return o}},de={f:Object.getOwnPropertySymbols},me=o([].concat),ve=c("Reflect","ownKeys")||function(t){var e=be.f(l(t)),n=de.f;return n?me(e,n(t)):e},Se=/#|\.prototype\./,we=h.normalize=function(t){return String(t).replace(Se,".").toLowerCase()},xe=h.data={},Oe=h.NATIVE="N",je=h.POLYFILL="P",Le=h,Ee=_t.f,Me=Array.isArray||function(t){return"Array"==i(t)},Te=(K({target:"Array",stat:!0},{isArray:Me}),o(o.bind)),M={},E=(M[u("toStringTag")]="z","[object z]"===String(M)),Pe=u("toStringTag"),Ae=Object,ke="Arguments"==i(function(){return arguments}()),De=E?i:function(t){var e;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(e=function(t,e){try{return t[e]}catch(t){}}(t=Ae(t),Pe))?e:ke?i(t):"Object"==(e=i(t))&&j(t.callee)?"Arguments":e},Ce=[],Fe=c("Reflect","construct"),Ie=/^\s*(?:class|function)\b/,Ge=o(Ie.exec),Ne=!Ie.exec(X),Re=(Y.sham=!0,!Fe||s(function(){var t;return y(y.call)||!y(Object)||!y(function(){t=!0})||t})?Y:y),_e=u("species"),ze=Array,Ve=function(t){var e;return Me(t)&&(e=t.constructor,(Re(e)&&(e===ze||Me(e.prototype))||L(e)&&null===(e=e[_e]))&&(e=void 0)),void 0===e?ze:e},He=o([].push),qe={forEach:g(0),map:g(1),filter:g(2),some:g(3),every:g(4),find:g(5),findIndex:g(6),filterReject:g(7)}.forEach,F=!!(Q=[]["forEach"])&&s(function(){Q.call(null,J||function(){return 1},1)})?[].forEach:function(t){return qe(this,t,1<arguments.length?arguments[1]:void 0)};K({target:"Array",proto:!0,forced:[].forEach!=F},{forEach:F});function Be(e){if(e&&e.forEach!==F)try{Yt(e,"forEach",F)}catch(t){e.forEach=F}}E||B(Object.prototype,"toString",E?{}.toString:function(){return"[object "+De(this)+"]"},{unsafe:!0});var I,Ue={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},D=q("span").classList,C=D&&D.constructor&&D.constructor.prototype,e=C===Object.prototype?void 0:C;for(I in Ue)Ue[I]&&Be(v[I]&&v[I].prototype);Be(e);M=t.Model.extend({defaults:{linkDistance:10,linkStrength:1,charge:10,x:0,y:0},cacheAttribute:"_fcache",initialize:function(){var t=this.get("graph");if(Array.isArray(t))for(var e=t,n=[],r=[],i=0,o=e.length;i<o;i++){var c=e[i];(c.isLink()?n:r).push(c)}else r=t.getElements(),n=t.getLinks();this.links=n,this.elements=r,this.x=this.get("x"),this.y=this.get("y"),this.width=this.get("width"),this.height=this.get("height"),this.gravityCenter=this.get("gravityCenter"),this.t=1,this.energy=1/0,this.progress=0},start:function(){var i=this.width,o=this.height,c=this.x,u=this.y;this.elements.forEach(function(t){var e=N.g.random(c,c+i),n=N.g.random(u,u+o),r=(t.position(e,n,{forceDirected:!0}),t[this.cacheAttribute]={});r.charge=t.get("charge")||this.get("charge"),r.weight=t.get("weight")||1,r.x=r.px=e,r.y=r.py=n,r.fx=0,r.fy=0},this),this.links.forEach(function(t){var e=t[this.cacheAttribute]={};e.source=t.getSourceElement(),e.target=t.getTargetElement(),e.strength=t.get("strength")||this.get("linkStrength"),e.distance=t.get("distance")||this.get("linkDistance")},this)},step:function(){if(.99*this.t<.005)return this.notifyEnd();for(var t,e,n,r,i,o,c,u,s,a,f=this.cacheAttribute,l=this.width,h=this.height,y=this.x,g=this.y,p=this.gravityCenter,b=this.energy,d=this.energy=0,m=0,v=0,S=0,w=this.elements.length,x=this.links.length,O=0;O<w-1;O++)for(d+=(e=this.elements[O][f]).x,m+=e.y,t=O+1;t<w;t++)o=(r=(n=this.elements[t][f]).x-e.x)*r+(i=n.y-e.y)*i,c=Math.sqrt(o),a=(u=this.t*e.charge/o)*i,e.fx-=s=u*r,e.fy-=a,n.fx+=s,n.fy+=a,this.energy+=s*s+a*a;var j,L,E,M,T,P=this.elements[w-1][f];for(d+=P.x,m+=P.y,O=0;O<x;O++)e=(j=this.links[O][f]).source[f],o=(r=(n=j.target[f]).x-e.x)*r+(i=n.y-e.y)*i,c=Math.sqrt(o),a=(j=this.t*j.strength*(c-j.distance)/c)*i,L=e.weight/(e.weight+n.weight),e.x+=(s=j*r)*(1-L),e.y+=a*(1-L),n.x-=s*L,n.y-=a*L,this.energy+=s*s+a*a;for(O=0;O<w;O++){T={x:(M=(E=this.elements[O])[f]).x,y:M.y},p&&(T.x+=(p.x-T.x)*this.t*.1,T.y+=(p.y-T.y)*this.t*.1),T.x+=M.fx,T.y+=M.fy,T.x=Math.max(y,Math.min(y+l,T.x)),T.y=Math.max(g,Math.min(y+h,T.y));T.x+=.9*(M.px-T.x),T.y+=.9*(M.py-T.y),M.px=T.x,M.py=T.y,M.fx=M.fy=0,M.x=T.x,M.y=T.y,v+=M.x,S+=M.y,this.notify(E,O,T)}this.t=this.cool(this.t,this.energy,b);P=d-v,b=m-S;Math.sqrt(P*P+b*b)<1&&this.notifyEnd()},cool:function(t,e,n){return e<n?(this.progress+=1,5<=this.progress?(this.progress=0,t/.99):t):(this.progress=0,.99*t)},notify:function(t,e,n){t.set("position",n,{forceDirected:!0})},notifyEnd:function(){this.trigger("end")}});G.ForceDirected=M}(this.joint.layout=this.joint.layout||{},Backbone,joint);