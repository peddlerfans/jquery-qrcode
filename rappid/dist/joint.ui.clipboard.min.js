/*! JointJS+ v3.6.3 - HTML5 Diagramming Framework

Copyright (c) 2022 client IO

 2022-12-09 


This Source Code Form is subject to the terms of the JointJS+ License
, v. 2.0. If a copy of the JointJS+ License was not distributed with this
file, You can obtain one at http://jointjs.com/license/rappid_v2.txt
 or from the JointJS+ archive as was distributed by client IO. See the LICENSE file.*/


this.joint=this.joint||{},function(k,e,a){"use strict";e=e&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e;var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function D(t,e){return t(e={exports:{}},e.exports),e.exports}function M(t){return t&&t.Math==Math&&t}function n(t){try{return!!t()}catch(t){return!0}}function B(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}function U(t){return et?ct(t):function(){return it.apply(t,arguments)}}function r(t){return at(ut(t),8,-1)}function o(t){if("Function"===r(t))return U(t)}function G(t){if(pt(t))throw ht("Can't call method on "+t);return t}function J(t){return lt(G(t))}function i(t,e){return arguments.length<2?(n=g[t],p(n)?n:void 0):g[t]&&g[t][e];var n}function z(t){return Nt(G(t))}function K(t){return"Symbol("+(void 0===t?"":t)+")_"+_t(++xt+Lt,36)}function c(t){var e;return O(It,t)&&(gt||"string"==typeof It[t])||(e="Symbol."+t,gt&&O(w,t)?It[t]=w[t]:It[t]=(mt&&Ft?Ft:kt)(e)),It[t]}function Y(t,e){if(!h(t)||St(t))return t;var n=Et(t,Mt);if(n){if(n=m(n,t,e=void 0===e?"default":e),!h(n)||St(n))return n;throw Dt("Can't convert object to primitive value")}return Ct(t,e=void 0===e?"number":e)}function H(t){return t=Y(t,"string"),St(t)?t:t+""}function W(t){return Ut?Bt.createElement(t):{}}function q(t,e,n,r){var o=(r=r||{}).enumerable,i=void 0!==r.name?r.name:e;if(p(n)&&ae(n,i,r),r.global)o?t[e]=n:At(e,n);else{try{r.unsafe?t[e]&&(o=!0):delete t[e]}catch(t){}o?t[e]=n:$t.f(t,e,{value:n,enumerable:!1,configurable:!r.nonConfigurable,writable:!r.nonWritable})}return t}function V(t){return ve(t.length)}function Z(u){return function(t,e,n){var r,o=J(t),i=V(o),c=function(t,e){t=pe(t);return t<0?he(t+e,0):de(t,e)}(n,i);if(u&&e!=e){for(;c<i;)if((r=o[c++])!=r)return!0}else for(;c<i;c++)if((u||c in o)&&o[c]===e)return u||c||0;return!u&&-1}}function X(t,e){var n,r=J(t),o=0,i=[];for(n in r)!O(re,n)&&O(r,n)&&me(i,n);for(;e.length>o;)!O(r,n=e[o++])||~ge(i,n)||me(i,n);return i}function $(t,e){return(t=Pe[Ce(t)])==Ne||t!=Ae&&(p(e)?n(e):!!e)}function u(t,e){var n,r,o,i=t.target,c=t.global,u=t.stat,a=c?g:u?g[i]||At(i,{}):(g[i]||{}).prototype;if(a)for(n in e){if(r=e[n],o=t.dontCallGetSet?(o=xe(a,n))&&o.value:a[n],!Re(c?n:i+(u?".":"#")+n,t.forced)&&void 0!==o){if(typeof r==typeof o)continue;for(var s=r,f=o,l=v=y=d=h=p=void 0,p=Ee(f),h=$t.f,d=zt.f,y=0;y<p.length;y++){var v=p[y];O(s,v)||l&&O(l,v)||h(s,v,d(f,v))}}(t.sham||o&&o.sham)&&Qt(r,"sham",!0),q(a,n,r,t)}}var Q,tt,s,f,g=M("object"==typeof globalThis&&globalThis)||M("object"==typeof window&&window)||M("object"==typeof self&&self)||M("object"==typeof t&&t)||function(){return this}()||Function("return this")(),l=!n(function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}),et=!n(function(){var t=function(){}.bind();return"function"!=typeof t||t.hasOwnProperty("prototype")}),nt=Function.prototype.call,m=et?nt.bind(nt):function(){return nt.apply(nt,arguments)},t={}.propertyIsEnumerable,rt=Object.getOwnPropertyDescriptor,ot={f:rt&&!t.call({1:2},1)?function(t){t=rt(this,t);return!!t&&t.enumerable}:t},t=Function.prototype,it=t.call,ct=et&&t.bind.bind(it,it),ut=U({}.toString),at=U("".slice),st=Object,ft=o("".split),lt=n(function(){return!st("z").propertyIsEnumerable(0)})?function(t){return"String"==r(t)?ft(t,""):st(t)}:st,pt=function(t){return null==t},ht=TypeError,t="object"==typeof document&&document.all,t={all:t,IS_HTMLDDA:void 0===t&&void 0!==t},dt=t.all,p=t.IS_HTMLDDA?function(t){return"function"==typeof t||t===dt}:function(t){return"function"==typeof t},yt=t.all,h=t.IS_HTMLDDA?function(t){return"object"==typeof t?null!==t:p(t)||t===yt}:function(t){return"object"==typeof t?null!==t:p(t)},vt=o({}.isPrototypeOf),t=i("navigator","userAgent")||"",d=g.process,y=g.Deno,d=d&&d.versions||y&&y.version,y=d&&d.v8,v=T=!(T=y?0<(j=y.split("."))[0]&&j[0]<4?1:+(j[0]+j[1]):T)&&t&&(!(j=t.match(/Edge\/(\d+)/))||74<=j[1])&&(j=t.match(/Chrome\/(\d+)/))?+j[1]:T,gt=!!Object.getOwnPropertySymbols&&!n(function(){var t=Symbol();return!String(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&v&&v<41}),mt=gt&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,bt=Object,St=mt?function(t){return"symbol"==typeof t}:function(t){var e=i("Symbol");return p(e)&&vt(e.prototype,bt(t))},Ot=String,wt=function(t){try{return Ot(t)}catch(t){return"Object"}},jt=TypeError,b=function(t){if(p(t))return t;throw jt(wt(t)+" is not a function")},Et=function(t,e){t=t[e];return pt(t)?void 0:b(t)},Tt=TypeError,Ct=function(t,e){var n,r;if("string"===e&&p(n=t.toString)&&!h(r=m(n,t)))return r;if(p(n=t.valueOf)&&!h(r=m(n,t)))return r;if("string"!==e&&p(n=t.toString)&&!h(r=m(n,t)))return r;throw Tt("Can't convert object to primitive value")},Pt=Object.defineProperty,At=function(e,n){try{Pt(g,e,{value:n,configurable:!0,writable:!0})}catch(t){g[e]=n}return n},d="__core-js_shared__",S=g[d]||At(d,{}),y=D(function(t){(t.exports=function(t,e){return S[t]||(S[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.25.5",mode:"global",copyright:"Â© 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.25.5/LICENSE",source:"https://github.com/zloirock/core-js"})}),Nt=Object,Rt=o({}.hasOwnProperty),O=Object.hasOwn||function(t,e){return Rt(z(t),e)},xt=0,Lt=Math.random(),_t=o(1..toString),It=y("wks"),w=g.Symbol,Ft=w&&w.for,kt=mt?w:w&&w.withoutSetter||K,Dt=TypeError,Mt=c("toPrimitive"),Bt=g.document,Ut=h(Bt)&&h(Bt.createElement),Gt=!l&&!n(function(){return 7!=Object.defineProperty(W("div"),"a",{get:function(){return 7}}).a}),Jt=Object.getOwnPropertyDescriptor,zt={f:l?Jt:function(t,e){if(t=J(t),e=H(e),Gt)try{return Jt(t,e)}catch(t){}if(O(t,e))return B(!m(ot.f,t,e),t[e])}},j=l&&n(function(){return 42!=Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype}),Kt=String,Yt=TypeError,E=function(t){if(h(t))return t;throw Yt(Kt(t)+" is not an object")},Ht=TypeError,Wt=Object.defineProperty,qt=Object.getOwnPropertyDescriptor,Vt="enumerable",Zt="configurable",Xt="writable",$t={f:l?j?function(t,e,n){var r;return E(t),e=H(e),E(n),"function"==typeof t&&"prototype"===e&&"value"in n&&Xt in n&&!n[Xt]&&((r=qt(t,e))&&r[Xt]&&(t[e]=n.value,n={configurable:(Zt in n?n:r)[Zt],enumerable:(Vt in n?n:r)[Vt],writable:!1})),Wt(t,e,n)}:Wt:function(t,e,n){if(E(t),e=H(e),E(n),Gt)try{return Wt(t,e,n)}catch(t){}if("get"in n||"set"in n)throw Ht("Accessors not supported");return"value"in n&&(t[e]=n.value),t}},Qt=l?function(t,e,n){return $t.f(t,e,B(1,n))}:function(t,e,n){return t[e]=n,t},T=Function.prototype,d=l&&Object.getOwnPropertyDescriptor,j=O(T,"name"),te={EXISTS:j,PROPER:j&&"something"===function(){}.name,CONFIGURABLE:j&&(!l||d(T,"name").configurable)},ee=o(Function.toString),ne=(p(S.inspectSource)||(S.inspectSource=function(t){return ee(t)}),S.inspectSource),j=g.WeakMap,d=p(j)&&/native code/.test(String(j)),T=y("keys"),re={},oe="Object already initialized",ie=g.TypeError,j=g.WeakMap,ce=d||S.state?((s=S.state||(S.state=new j)).get=s.get,s.has=s.has,s.set=s.set,Q=function(t,e){if(s.has(t))throw ie(oe);return e.facade=t,s.set(t,e),e},tt=function(t){return s.get(t)||{}},function(t){return s.has(t)}):(f=T[y="state"]||(T[y]=K(y)),re[f]=!0,Q=function(t,e){if(O(t,f))throw ie(oe);return e.facade=t,Qt(t,f,e),e},tt=function(t){return O(t,f)?t[f]:{}},function(t){return O(t,f)}),ue={set:Q,get:tt,has:ce,enforce:function(t){return ce(t)?tt(t):Q(t,{})},getterFor:function(e){return function(t){if(h(t)&&(t=tt(t)).type===e)return t;throw ie("Incompatible receiver, "+e+" required")}}},ae=D(function(t){var r=te.CONFIGURABLE,o=ue.enforce,e=ue.get,i=Object.defineProperty,c=l&&!n(function(){return 8!==i(function(){},"length",{value:8}).length}),u=String(String).split("String"),t=t.exports=function(t,e,n){"Symbol("===String(e).slice(0,7)&&(e="["+String(e).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),n&&n.getter&&(e="get "+e),n&&n.setter&&(e="set "+e),(!O(t,"name")||r&&t.name!==e)&&(l?i(t,"name",{value:e,configurable:!0}):t.name=e),c&&n&&O(n,"arity")&&t.length!==n.arity&&i(t,"length",{value:n.arity});try{n&&O(n,"constructor")&&n.constructor?l&&i(t,"prototype",{writable:!1}):t.prototype&&(t.prototype=void 0)}catch(t){}n=o(t);return O(n,"source")||(n.source=u.join("string"==typeof e?e:"")),t};Function.prototype.toString=t(function(){return p(this)&&e(this).source||ne(this)},"toString")}),se=Math.ceil,fe=Math.floor,le=Math.trunc||function(t){t=+t;return(0<t?fe:se)(t)},pe=function(t){t=+t;return t!=t||0==t?0:le(t)},he=Math.max,de=Math.min,ye=Math.min,ve=function(t){return 0<t?ye(pe(t),9007199254740991):0},ge={includes:Z(!0),indexOf:Z(!1)}.indexOf,me=o([].push),be=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],Se=be.concat("length","prototype"),Oe={f:Object.getOwnPropertyNames||function(t){return X(t,Se)}},we={f:Object.getOwnPropertySymbols},je=o([].concat),Ee=i("Reflect","ownKeys")||function(t){var e=Oe.f(E(t)),n=we.f;return n?je(e,n(t)):e},Te=/#|\.prototype\./,Ce=$.normalize=function(t){return String(t).replace(Te,".").toLowerCase()},Pe=$.data={},Ae=$.NATIVE="N",Ne=$.POLYFILL="P",Re=$,xe=zt.f,Le=Array.isArray||function(t){return"Array"==r(t)};u({target:"Array",stat:!0},{isArray:Le});function _e(){}function Ie(t){if(!p(t))return!1;try{return qe(_e,We,t),!0}catch(t){return!1}}function Fe(t){if(!p(t))return!1;switch(ze(t)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return Xe||!!Ze(Ve,ne(t))}catch(t){return!0}}function ke(t,e){var n,t=E(t).constructor;if(void 0===t||pt(n=E(t)[tn]))return e;if($e(t=n))return t;throw Qe(wt(t)+" is not a constructor")}function De(t,e){return b(t),void 0===e?t:et?on(t,e):function(){return t.apply(e,arguments)}}var Me,Be,d={},j=(d[c("toStringTag")]="z","[object z]"===String(d)),Ue=c("toStringTag"),Ge=Object,Je="Arguments"==r(function(){return arguments}()),ze=j?r:function(t){var e;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(e=function(t,e){try{return t[e]}catch(t){}}(t=Ge(t),Ue))?e:Je?r(t):"Object"==(e=r(t))&&p(t.callee)?"Arguments":e},C=(j||q(Object.prototype,"toString",j?{}.toString:function(){return"[object "+ze(this)+"]"},{unsafe:!0}),"process"==r(g.process)),Ke=String,Ye=TypeError,T=Object.setPrototypeOf||("__proto__"in{}?function(){var n,r=!1,t={};try{(n=o(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set))(t,[]),r=t instanceof Array}catch(t){}return function(t,e){return E(t),function(t){if("object"==typeof t||p(t))return;throw Ye("Can't set "+Ke(t)+" as a prototype")}(e),r?n(t,e):t.__proto__=e,t}}():void 0),y=$t.f,d=c("toStringTag"),j=c("species"),He=TypeError,We=[],qe=i("Reflect","construct"),Ve=/^\s*(?:class|function)\b/,Ze=o(Ve.exec),Xe=!Ve.exec(_e),$e=(Fe.sham=!0,!qe||n(function(){var t;return Ie(Ie.call)||!Ie(Object)||!Ie(function(){t=!0})||t})?Fe:Ie),Qe=TypeError,tn=c("species"),P=Function.prototype,en=P.apply,nn=P.call,rn="object"==typeof Reflect&&Reflect.apply||(et?nn.bind(en):function(){return nn.apply(en,arguments)}),on=o(o.bind),cn=i("document","documentElement"),un=o([].slice),an=TypeError,P=/(?:ipad|iphone|ipod).*applewebkit/i.test(t),A=g.setImmediate,N=g.clearImmediate,sn=g.process,fn=g.Dispatch,ln=g.Function,R=g.MessageChannel,pn=g.String,hn=0,dn={},yn="onreadystatechange";try{Me=g.location}catch(t){}function vn(t){return function(){xn(t)}}function gn(t){xn(t.data)}function mn(t){g.postMessage(pn(t),Me.protocol+"//"+Me.host)}function bn(){this.head=null,this.tail=null}function Sn(t){var n,r;this.promise=new t(function(t,e){if(void 0!==n||void 0!==r)throw zn("Bad Promise constructor");n=t,r=e}),this.resolve=b(n),this.reject=b(r)}function On(t,e){var n,r,o,i,c=e.value,u=e.state==cr,a=u?t.ok:t.fail,s=t.resolve,f=t.reject,l=t.domain;try{a?(u||(e.rejection===sr&&(i=e,m(Yn,g,function(){var t=i.facade;C?tr.emit("rejectionHandled",t):pr(ir,t,i.value)})),e.rejection=ar),!0===a?n=c:(l&&l.enter(),n=a(c),l&&(l.exit(),o=!0)),n===t.promise?f($n("Promise-chain cycle")):(r=fr(n))?m(r,n,s,f):s(n)):f(c)}catch(t){l&&!o&&l.exit(),f(t)}}var wn,x,jn,En,Tn,Cn,Pn,An,Nn,Rn,xn=function(t){var e;O(dn,t)&&(e=dn[t],delete dn[t],e())},R=(A&&N||(A=function(t){var e=arguments.length,n=1;if(e<n)throw an("Not enough arguments");var r=p(t)?t:ln(t),o=un(arguments,1);return dn[++hn]=function(){rn(r,void 0,o)},Be(hn),hn},N=function(t){delete dn[t]},C?Be=function(t){sn.nextTick(vn(t))}:fn&&fn.now?Be=function(t){fn.now(vn(t))}:R&&!P?(L=(R=new R).port2,R.port1.onmessage=gn,Be=De(L.postMessage,L)):g.addEventListener&&p(g.postMessage)&&!g.importScripts&&Me&&"file:"!==Me.protocol&&!n(mn)?(Be=mn,g.addEventListener("message",gn,!1)):Be=yn in W("script")?function(t){cn.appendChild(W("script"))[yn]=function(){cn.removeChild(this),xn(t)}}:function(t){setTimeout(vn(t),0)}),{set:A,clear:N}),L=/ipad|iphone|ipod/i.test(t)&&void 0!==g.Pebble,A=/web0s(?!.*chrome)/i.test(t),N=zt.f,Ln=R.set,t=g.MutationObserver||g.WebKitMutationObserver,_n=g.document,In=g.process,_=g.Promise,N=N(g,"queueMicrotask"),N=N&&N.value,Fn=(N||(wn=function(){var t,e;for(C&&(t=In.domain)&&t.exit();x;){e=x.fn,x=x.next;try{e()}catch(t){throw x?En():jn=void 0,t}}jn=void 0,t&&t.enter()},En=P||C||A||!t||!_n?!L&&_&&_.resolve?((P=_.resolve(void 0)).constructor=_,Pn=De(P.then,P),function(){Pn(wn)}):C?function(){In.nextTick(wn)}:(Ln=De(Ln,g),function(){Ln(wn)}):(Tn=!0,Cn=_n.createTextNode(""),new t(wn).observe(Cn,{characterData:!0}),function(){Cn.data=Tn=!Tn})),N||function(t){t={fn:t,next:void 0};jn&&(jn.next=t),x||(x=t,En()),jn=t}),kn=function(t){try{return{error:!1,value:t()}}catch(t){return{error:!0,value:t}}},Dn=(bn.prototype={add:function(t){t={item:t,next:null};this.head?this.tail.next=t:this.head=t,this.tail=t},get:function(){var t=this.head;if(t)return this.head=t.next,this.tail===t&&(this.tail=null),t.item}},bn),I=g.Promise,Mn="object"==typeof Deno&&Deno&&"object"==typeof Deno.version,Bn=!Mn&&!C&&"object"==typeof window&&"object"==typeof document,Un=(I&&I.prototype,c("species")),Gn=!1,Jn=p(g.PromiseRejectionEvent),A={CONSTRUCTOR:Re("Promise",function(){var t=ne(I),e=t!==String(I);if(!e&&66===v)return!0;if(!v||v<51||!/native code/.test(t)){var t=new I(function(t){t(1)}),n=function(t){t(function(){},function(){})};if((t.constructor={})[Un]=n,!(Gn=t.then(function(){})instanceof n))return!0}return!e&&(Bn||Mn)&&!Jn}),REJECTION_EVENT:Jn,SUBCLASSING:Gn},zn=TypeError,Kn={f:function(t){return new Sn(t)}},Yn=R.set,Hn="Promise",L=A.CONSTRUCTOR,Wn=A.REJECTION_EVENT,_=A.SUBCLASSING,qn=ue.getterFor(Hn),Vn=ue.set,P=I&&I.prototype,Zn=I,Xn=P,$n=g.TypeError,Qn=g.document,tr=g.process,er=Kn.f,nr=er,rr=!!(Qn&&Qn.createEvent&&g.dispatchEvent),or="unhandledrejection",ir="rejectionhandled",cr=1,ur=2,ar=1,sr=2,fr=function(t){var e;return!(!h(t)||!p(e=t.then))&&e},lr=function(n,o){n.notified||(n.notified=!0,Fn(function(){for(var t,r,e=n.reactions;t=e.get();)On(t,n);n.notified=!1,o&&!n.rejection&&(r=n,m(Yn,g,function(){var t=r.facade,e=r.value,n=hr(r);if(n&&(n=kn(function(){C?tr.emit("unhandledRejection",e,t):pr(or,t,e)}),r.rejection=C||hr(r)?sr:ar,n.error))throw n.value}))}))},pr=function(t,e,n){var r;rr?((r=Qn.createEvent("Event")).promise=e,r.reason=n,r.initEvent(t,!1,!0),g.dispatchEvent(r)):r={promise:e,reason:n},!Wn&&(e=g["on"+t])?e(r):t===or&&function(t,e){var n=g.console;n&&n.error&&(1==arguments.length?n.error(t):n.error(t,e))}("Unhandled promise rejection",n)},hr=function(t){return t.rejection!==ar&&!t.parent},dr=function(e,n,r){return function(t){e(n,t,r)}},yr=function(t,e,n){t.done||(t.done=!0,(t=n?n:t).value=e,t.state=ur,lr(t,!0))},vr=function(n,t,e){if(!n.done){n.done=!0,e&&(n=e);try{if(n.facade===t)throw $n("Promise can't be resolved itself");var r=fr(t);r?Fn(function(){var e={done:!1};try{m(r,t,dr(vr,e,n),dr(yr,e,n))}catch(t){yr(e,t,n)}}):(n.value=t,n.state=cr,lr(n,!1))}catch(t){yr({done:!1},t,n)}}};if(L&&(Xn=(Zn=function(t){!function(t,e){if(vt(e,t))return;throw He("Incorrect invocation")}(this,Xn),b(t),m(An,this);var e=qn(this);try{t(dr(vr,e),dr(yr,e))}catch(t){yr(e,t)}}).prototype,(An=function(t){Vn(this,{type:Hn,done:!1,notified:!1,parent:!1,reactions:new Dn,rejection:!1,state:0,value:void 0})}).prototype=q(Xn,"then",function(t,e){var n=qn(this),r=er(ke(this,Zn));return n.parent=!0,r.ok=!p(t)||t,r.fail=p(e)&&e,r.domain=C?tr.domain:void 0,0==n.state?n.reactions.add(r):Fn(function(){On(r,n)}),r.promise}),Nn=function(){var t=new An,e=qn(t);this.promise=t,this.resolve=dr(vr,e),this.reject=dr(yr,e)},Kn.f=er=function(t){return t===Zn||void 0===t?new Nn:nr(t)},p(I)&&P!==Object.prototype)){Rn=P.then,_||q(P,"then",function(t,e){var n=this;return new Zn(function(t,e){m(Rn,n,t,e)}).then(t,e)},{unsafe:!0});try{delete P.constructor}catch(t){}T&&T(P,Xn)}u({global:!0,constructor:!0,wrap:!0,forced:L},{Promise:Zn}),t=!(_n=Hn),(N=(N=Zn)&&!t?N.prototype:N)&&!O(N,d)&&y(N,d,{configurable:!0,value:_n}),R=i(R=Hn),_=$t.f,l&&R&&!R[j]&&_(R,j,{configurable:!0,get:function(){return this}});function gr(t,e,n){var r,o;E(t);try{if(!(r=Et(t,"return"))){if("throw"===e)throw n;return}r=m(r,t)}catch(t){o=!0,r=t}if("throw"===e)throw n;if(o)throw r;E(r)}function mr(t,e){this.stopped=t,this.result=e}function br(t,e,n){function r(t){return i&&gr(i,"normal",t),new mr(!0,t)}function o(t){return p?(E(t),y?v(t[0],t[1],r):v(t[0],t[1])):y?v(t,r):v(t)}var i,c,u,a,s,f,l=n&&n.that,p=!(!n||!n.AS_ENTRIES),h=!(!n||!n.IS_RECORD),d=!(!n||!n.IS_ITERATOR),y=!(!n||!n.INTERRUPTED),v=De(e,l);if(h)i=t.iterator;else if(d)i=t;else{if(!(n=Er(t)))throw Cr(wt(t)+" is not iterable");if(void 0!==(e=n)&&(Sr.Array===e||wr[Or]===e)){for(c=0,u=V(t);c<u;c++)if((a=o(t[c]))&&vt(Pr,a))return;return}i=function(t,e){e=arguments.length<2?Er(t):e;if(b(e))return E(m(e,t));throw Tr(wt(t)+" is not iterable")}(t,n)}for(s=(h?t:i).next;!(f=m(s,i)).done;){try{a=o(f.value)}catch(t){gr(i,"throw",t)}if("object"==typeof a&&a&&vt(Pr,a))return}}var Sr={},Or=c("iterator"),wr=Array.prototype,jr=c("iterator"),Er=function(t){if(!pt(t))return Et(t,jr)||Et(t,"@@iterator")||Sr[ze(t)]},Tr=TypeError,Cr=TypeError,Pr=mr.prototype,Ar=c("iterator"),Nr=!1;try{var Rr=0,xr={next:function(){return{done:!!Rr++}},return:function(){Nr=!0}};xr[Ar]=function(){return this},Array.from(xr,function(){throw 2})}catch(t){}T=A.CONSTRUCTOR||!function(t,e){if(!e&&!Nr)return!1;var n=!1;try{var r={};r[Ar]=function(){return{next:function(){return{done:n=!0}}}},t(r)}catch(t){}return n}(function(t){I.all(t).then(void 0,function(){})}),u({target:"Promise",stat:!0,forced:T},{all:function(t){var u=this,e=Kn.f(u),a=e.resolve,s=e.reject,n=kn(function(){var r=b(u.resolve),o=[],i=0,c=1;br(t,function(t){var e=i++,n=!1;c++,m(r,u,t).then(function(t){n||(n=!0,o[e]=t,--c||a(o))},s)}),--c||a(o)});return n.error&&s(n.value),e.promise}}),P=A.CONSTRUCTOR,L=I&&I.prototype;u({target:"Promise",proto:!0,forced:P,real:!0},{catch:function(t){return this.then(void 0,t)}}),p(I)&&(t=i("Promise").prototype.catch,L.catch!==t&&q(L,"catch",t,{unsafe:!0})),u({target:"Promise",stat:!0,forced:T},{race:function(t){var n=this,r=Kn.f(n),o=r.reject,e=kn(function(){var e=b(n.resolve);br(t,function(t){m(e,n,t).then(r.resolve,o)})});return e.error&&o(e.value),r.promise}});u({target:"Promise",stat:!0,forced:A.CONSTRUCTOR},{reject:function(t){var e=Kn.f(this);return m(e.reject,void 0,t),e.promise}});function Lr(u){return function(t){for(var e,n=J(t),r=_r(n),o=r.length,i=0,c=[];i<o;)e=r[i++],l&&!Ir(n,e)||Fr(c,u?[e,n[e]]:n[e]);return c}}var y=A.CONSTRUCTOR,_r=(i("Promise"),u({target:"Promise",stat:!0,forced:y},{resolve:function(t){return t=t,E(e=this),h(t)&&t.constructor===e?t:((0,(e=Kn.f(e)).resolve)(t),e.promise);var e}}),Object.keys||function(t){return X(t,be)}),Ir=o(ot.f),Fr=o([].push),kr={entries:Lr(!0),values:Lr(!1)}.values;u({target:"Object",stat:!0},{values:function(t){return kr(t)}});function Dr(t,e){return new(Ur(t))(0===e?0:e)}function F(p){var h=1==p,d=2==p,y=3==p,v=4==p,g=6==p,m=7==p,b=5==p||g;return function(t,e,n,r){for(var o,i,c=z(t),u=lt(c),a=De(e,n),s=V(u),f=0,e=r||Dr,l=h?e(t,s):d||m?e(t,0):void 0;f<s;f++)if((b||f in u)&&(i=a(o=u[f],f,c),p))if(h)l[f]=i;else if(i)switch(p){case 3:return!0;case 5:return o;case 6:return f;case 2:Gr(l,o)}else switch(p){case 4:return!1;case 7:Gr(l,o)}return g?-1:y||v?v:l}}u({target:"Date",proto:!0,arity:1,forced:n(function(){return null!==new Date(NaN).toJSON()||1!==Date.prototype.toJSON.call({toISOString:function(){return 1}})})},{toJSON:function(t){var e=z(this),n=Y(e,"number");return"number"!=typeof n||isFinite(n)?e.toISOString():null}}),u({target:"URL",proto:!0,enumerable:!0},{toJSON:function(){return m(URL.prototype.toString,this)}});var Mr=c("species"),Br=Array,Ur=function(t){var e;return Le(t)&&(e=t.constructor,($e(e)&&(e===Br||Le(e.prototype))||h(e)&&null===(e=e[Mr]))&&(e=void 0)),void 0===e?Br:e},Gr=o([].push),N={forEach:F(0),map:F(1),filter:F(2),some:F(3),every:F(4),find:F(5),findIndex:F(6),filterReject:F(7)},Jr=c("species"),zr=N.map;Yr="map";function Kr(t){if("Symbol"===ze(t))throw TypeError("Cannot convert a Symbol value to a string");return Wr(t)}u({target:"Array",proto:!0,forced:!(51<=v||!n(function(){var t=[];return(t.constructor={})[Jr]=function(){return{foo:1}},1!==t[Yr](Boolean).foo}))},{map:function(t){return zr(this,t,1<arguments.length?arguments[1]:void 0)}});var Yr,Hr,Wr=String,qr=/"/g,Vr=o("".replace),d=(u({target:"String",proto:!0,forced:(Hr="link",n(function(){var t=""[Hr]('"');return t!==t.toLowerCase()||3<t.split('"').length}))},{link:function(t){return n="a",r="href",t=t,e=Kr(G(e=this)),o="<"+n,""!==r&&(o+=" "+r+'="'+Vr(Kr(t),qr,"&quot;")+'"'),o+">"+e+"</"+n+">";var e,n,r,o}}),e.Collection.extend({LOCAL_STORAGE_KEY:"joint.ui.Clipboard.cells",defaults:{useLocalStorage:!0,origin:"center",translate:{dx:20,dy:20}},constructor:function(t){e.Collection.prototype.constructor.call(this,[],t),this.defaults=a.util.assign({},this.defaults,t),this.cid=a.util.guid()},copyElements:function(t,e,n){n=a.util.assign({},this.defaults,n);t=Array.isArray(t)?t:t.toArray(),e=a.util.sortBy(Object.values(e.cloneSubgraph(t,n)),function(t){return t.attributes.z||0});return this.reset(e),n.useLocalStorage&&window.localStorage&&localStorage.setItem(this.LOCAL_STORAGE_KEY,JSON.stringify(this.toJSON())),t},cutElements:function(t,e,n){n=a.util.assign({},this.defaults,n);t=this.copyElements(t,e,n),n=n.removeCellOptions||{};return n.clipboard=this.cid,e.startBatch("cut"),a.util.invoke(t,"remove",n),e.stopBatch("cut"),t},pasteCells:function(t,e){var n=this,r=((e=a.util.assign({},this.defaults,e)).useLocalStorage&&this.updateFromStorage(t),t.maxZIndex()),o=this.map(function(t){return r+=1,n.modifyCell(t,e,r)}),i=e.addCellOptions||{},o=(i.clipboard=this.cid,a.util.sortBy(o,function(t){return t.isLink()?2:1}));return t.startBatch("paste"),t.addCells(o,i),t.stopBatch("paste"),this.copyElements(this,t,e),o},pasteCellsAtPoint:function(t,e,n){var r,o=this,i=((n=a.util.assign({},this.defaults,n)).useLocalStorage&&this.updateFromStorage(t),a.util.sortBy(Object.values(t.cloneSubgraph(this.toArray(),n)),function(t){return t.attributes.z||0})),c=t.get("cells").cellNamespace,c=new a.dia.Graph([],{cellNamespace:c}),u=(c.resetCells(i,{sort:!1}),this.getOriginPoint(i,c,n.origin));return u?(e={dx:e.x-u.x,dy:e.y-u.y},n.translate=e,r=t.maxZIndex(),u=this.map(function(t){return r+=1,o.modifyCell(t,n,r)}),(e=n.addCellOptions||{}).clipboard=this.cid,u=a.util.sortBy(u,function(t){return t.isLink()?2:1}),t.startBatch("paste"),t.addCells(u,e),t.stopBatch("paste"),this.copyElements(i,c,n),u):[]},isEmpty:function(t){if(t=a.util.assign({},this.defaults,t),0<this.length)return!1;if(t.useLocalStorage){t=this.getJSONFromStorage();if(t&&t.length)return!1}return!0},clear:function(t){t=a.util.assign({},this.defaults,t),this.reset([]),t.useLocalStorage&&window.localStorage&&localStorage.removeItem(this.LOCAL_STORAGE_KEY)},modifyCell:function(t,e,n){return t.set("z",n),t.isLink()&&e.link&&t.set(e.link),e.translate&&(e=(n=e.translate).dx,n=n.dy,t.translate(isFinite(e)?e:0,isFinite(n)?n:0)),t.collection=null,t},updateFromStorage:function(t){var e=this.getJSONFromStorage();e&&(e={cells:e},t=t.get("cells").cellNamespace,t=new a.dia.Graph([],{cellNamespace:t}).fromJSON(e,{sort:!1,dry:!0}),this.reset(t.getCells()))},getJSONFromStorage:function(){return window.localStorage&&JSON.parse(localStorage.getItem(this.LOCAL_STORAGE_KEY))||null},getOriginPoint:function(t,e,n){e=e.getCellsBBox(t);return e?a.util.getRectPoint(e,n):null}}));k.Clipboard=d}(this.joint.ui=this.joint.ui||{},Backbone,joint);