/*! JointJS+ v3.6.3 - HTML5 Diagramming Framework

Copyright (c) 2022 client IO

 2022-12-09 


This Source Code Form is subject to the terms of the JointJS+ License
, v. 2.0. If a copy of the JointJS+ License was not distributed with this
file, You can obtain one at http://jointjs.com/license/rappid_v2.txt
 or from the JointJS+ archive as was distributed by client IO. See the LICENSE file.*/


this.joint=this.joint||{},function(_,k){"use strict";var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function F(t,e){return t(e={exports:{}},e.exports),e.exports}function U(t){return t&&t.Math==Math&&t}function r(t){try{return!!t()}catch(t){return!0}}function G(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}function V(t){return ut?pt(t):function(){return lt.apply(t,arguments)}}function n(t){return dt(ht(t),8,-1)}function e(t){if("Function"===n(t))return V(t)}function z(t){if(gt(t))throw mt("Can't call method on "+t);return t}function H(t){return bt(z(t))}function o(t,e){return arguments.length<2?(r=b[t],l(r)?r:void 0):b[t]&&b[t][e];var r}function B(t){return _t(z(t))}function W(t){return"Symbol("+(void 0===t?"":t)+")_"+Gt(++Ft+Ut,36)}function i(t){var e;return S(Vt,t)&&(Et||"string"==typeof Vt[t])||(e="Symbol."+t,Et&&S(v,t)?Vt[t]=v[t]:Vt[t]=(Tt&&zt?zt:Ht)(e)),Vt[t]}function q(t){return t=function(t,e){if(!p(t)||Lt(t))return t;var r=Mt(t,Wt);if(r){if(r=g(r,t,e=void 0===e?"default":e),!p(r)||Lt(r))return r;throw Bt("Can't convert object to primitive value")}return Dt(t,e=void 0===e?"number":e)}(t,"string"),Lt(t)?t:t+""}function J(t){return Jt?qt.createElement(t):{}}function K(t,e,r,n){var o=(n=n||{}).enumerable,i=void 0!==n.name?n.name:e;if(l(r)&&ye(r,i,n),n.global)o?t[e]=r:It(e,r);else{try{n.unsafe?t[e]&&(o=!0):delete t[e]}catch(t){}o?t[e]=r:ie.f(t,e,{value:r,enumerable:!1,configurable:!n.nonConfigurable,writable:!n.nonWritable})}return t}function X(t){return Oe(t.length)}function Y(u){return function(t,e,r){var n,o=H(t),i=X(o),c=function(t,e){t=me(t);return t<0?Se(t+e,0):we(t,e)}(r,i);if(u&&e!=e){for(;c<i;)if((n=o[c++])!=n)return!0}else for(;c<i;c++)if((u||c in o)&&o[c]===e)return u||c||0;return!u&&-1}}function $(t,e){return(t=De[Ae(t)])==Ie||t!=Ne&&(l(e)?r(e):!!e)}function c(t,e){var r,n,o,i=t.target,c=t.global,u=t.stat,a=c?b:u?b[i]||It(i,{}):(b[i]||{}).prototype;if(a)for(r in e){if(n=e[r],o=t.dontCallGetSet?(o=ke(a,r))&&o.value:a[r],!_e(c?r:i+(u?".":"#")+r,t.forced)&&void 0!==o){if(typeof n==typeof o)continue;for(var f=n,s=o,l=v=y=d=h=p=void 0,p=Re(s),h=ie.f,d=Yt.f,y=0;y<p.length;y++){var v=p[y];S(f,v)||l&&S(l,v)||h(f,v,d(s,v))}}(t.sham||o&&o.sham)&&ce(n,"sham",!0),K(a,r,n,t)}}function Q(t,e){return m(t),void 0===e?t:ut?Fe(t,e):function(){return t.apply(e,arguments)}}function Z(){}function tt(t){if(!l(t))return!1;try{return We(Z,Be,t),!0}catch(t){return!1}}function et(t){if(!l(t))return!1;switch(He(t)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return Ke||!!Je(qe,fe(t))}catch(t){return!0}}function rt(t,e){return new(Qe(t))(0===e?0:e)}function u(p){var h=1==p,d=2==p,y=3==p,v=4==p,b=6==p,g=7==p,m=5==p||b;return function(t,e,r,n){for(var o,i,c=B(t),u=bt(c),a=Q(e,r),f=X(u),s=0,e=n||rt,l=h?e(t,f):d||g?e(t,0):void 0;s<f;s++)if((m||s in u)&&(i=a(o=u[s],s,c),p))if(h)l[s]=i;else if(i)switch(p){case 3:return!0;case 5:return o;case 6:return s;case 2:Ze(l,o)}else switch(p){case 4:return!1;case 7:Ze(l,o)}return b?-1:y||v?v:l}}var nt,ot,a,f,it,ct,b=U("object"==typeof globalThis&&globalThis)||U("object"==typeof window&&window)||U("object"==typeof self&&self)||U("object"==typeof t&&t)||function(){return this}()||Function("return this")(),s=!r(function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}),ut=!r(function(){var t=function(){}.bind();return"function"!=typeof t||t.hasOwnProperty("prototype")}),at=Function.prototype.call,g=ut?at.bind(at):function(){return at.apply(at,arguments)},t={}.propertyIsEnumerable,ft=Object.getOwnPropertyDescriptor,st={f:ft&&!t.call({1:2},1)?function(t){t=ft(this,t);return!!t&&t.enumerable}:t},t=Function.prototype,lt=t.call,pt=ut&&t.bind.bind(lt,lt),ht=V({}.toString),dt=V("".slice),yt=Object,vt=e("".split),bt=r(function(){return!yt("z").propertyIsEnumerable(0)})?function(t){return"String"==n(t)?vt(t,""):yt(t)}:yt,gt=function(t){return null==t},mt=TypeError,t="object"==typeof document&&document.all,t={all:t,IS_HTMLDDA:void 0===t&&void 0!==t},St=t.all,l=t.IS_HTMLDDA?function(t){return"function"==typeof t||t===St}:function(t){return"function"==typeof t},wt=t.all,p=t.IS_HTMLDDA?function(t){return"object"==typeof t?null!==t:l(t)||t===wt}:function(t){return"object"==typeof t?null!==t:l(t)},jt=e({}.isPrototypeOf),t=o("navigator","userAgent")||"",h=b.process,d=b.Deno,h=h&&h.versions||d&&d.version,d=h&&h.v8,Ot=O=!(O=d?0<(w=d.split("."))[0]&&w[0]<4?1:+(w[0]+w[1]):O)&&t&&(!(w=t.match(/Edge\/(\d+)/))||74<=w[1])&&(w=t.match(/Chrome\/(\d+)/))?+w[1]:O,Et=!!Object.getOwnPropertySymbols&&!r(function(){var t=Symbol();return!String(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&Ot&&Ot<41}),Tt=Et&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,Pt=Object,Lt=Tt?function(t){return"symbol"==typeof t}:function(t){var e=o("Symbol");return l(e)&&jt(e.prototype,Pt(t))},Ct=String,xt=function(t){try{return Ct(t)}catch(t){return"Object"}},Rt=TypeError,m=function(t){if(l(t))return t;throw Rt(xt(t)+" is not a function")},Mt=function(t,e){t=t[e];return gt(t)?void 0:m(t)},At=TypeError,Dt=function(t,e){var r,n;if("string"===e&&l(r=t.toString)&&!p(n=g(r,t)))return n;if(l(r=t.valueOf)&&!p(n=g(r,t)))return n;if("string"!==e&&l(r=t.toString)&&!p(n=g(r,t)))return n;throw At("Can't convert object to primitive value")},Nt=Object.defineProperty,It=function(e,r){try{Nt(b,e,{value:r,configurable:!0,writable:!0})}catch(t){b[e]=r}return r},h="__core-js_shared__",y=b[h]||It(h,{}),d=F(function(t){(t.exports=function(t,e){return y[t]||(y[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.25.5",mode:"global",copyright:"Â© 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.25.5/LICENSE",source:"https://github.com/zloirock/core-js"})}),_t=Object,kt=e({}.hasOwnProperty),S=Object.hasOwn||function(t,e){return kt(B(t),e)},Ft=0,Ut=Math.random(),Gt=e(1..toString),Vt=d("wks"),v=b.Symbol,zt=v&&v.for,Ht=Tt?v:v&&v.withoutSetter||W,Bt=TypeError,Wt=i("toPrimitive"),qt=b.document,Jt=p(qt)&&p(qt.createElement),Kt=!s&&!r(function(){return 7!=Object.defineProperty(J("div"),"a",{get:function(){return 7}}).a}),Xt=Object.getOwnPropertyDescriptor,Yt={f:s?Xt:function(t,e){if(t=H(t),e=q(e),Kt)try{return Xt(t,e)}catch(t){}if(S(t,e))return G(!g(st.f,t,e),t[e])}},w=s&&r(function(){return 42!=Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype}),$t=String,Qt=TypeError,j=function(t){if(p(t))return t;throw Qt($t(t)+" is not an object")},Zt=TypeError,te=Object.defineProperty,ee=Object.getOwnPropertyDescriptor,re="enumerable",ne="configurable",oe="writable",ie={f:s?w?function(t,e,r){var n;return j(t),e=q(e),j(r),"function"==typeof t&&"prototype"===e&&"value"in r&&oe in r&&!r[oe]&&((n=ee(t,e))&&n[oe]&&(t[e]=r.value,r={configurable:(ne in r?r:n)[ne],enumerable:(re in r?r:n)[re],writable:!1})),te(t,e,r)}:te:function(t,e,r){if(j(t),e=q(e),j(r),Kt)try{return te(t,e,r)}catch(t){}if("get"in r||"set"in r)throw Zt("Accessors not supported");return"value"in r&&(t[e]=r.value),t}},ce=s?function(t,e,r){return ie.f(t,e,G(1,r))}:function(t,e,r){return t[e]=r,t},O=Function.prototype,h=s&&Object.getOwnPropertyDescriptor,w=S(O,"name"),ue={EXISTS:w,PROPER:w&&"something"===function(){}.name,CONFIGURABLE:w&&(!s||h(O,"name").configurable)},ae=e(Function.toString),fe=(l(y.inspectSource)||(y.inspectSource=function(t){return ae(t)}),y.inspectSource),w=b.WeakMap,h=l(w)&&/native code/.test(String(w)),O=d("keys"),se={},le="Object already initialized",pe=b.TypeError,w=b.WeakMap,he=h||y.state?((a=y.state||(y.state=new w)).get=a.get,a.has=a.has,a.set=a.set,nt=function(t,e){if(a.has(t))throw pe(le);return e.facade=t,a.set(t,e),e},ot=function(t){return a.get(t)||{}},function(t){return a.has(t)}):(f=O[d="state"]||(O[d]=W(d)),se[f]=!0,nt=function(t,e){if(S(t,f))throw pe(le);return e.facade=t,ce(t,f,e),e},ot=function(t){return S(t,f)?t[f]:{}},function(t){return S(t,f)}),de={set:nt,get:ot,has:he,enforce:function(t){return he(t)?ot(t):nt(t,{})},getterFor:function(e){return function(t){if(p(t)&&(t=ot(t)).type===e)return t;throw pe("Incompatible receiver, "+e+" required")}}},ye=F(function(t){var n=ue.CONFIGURABLE,o=de.enforce,e=de.get,i=Object.defineProperty,c=s&&!r(function(){return 8!==i(function(){},"length",{value:8}).length}),u=String(String).split("String"),t=t.exports=function(t,e,r){"Symbol("===String(e).slice(0,7)&&(e="["+String(e).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),r&&r.getter&&(e="get "+e),r&&r.setter&&(e="set "+e),(!S(t,"name")||n&&t.name!==e)&&(s?i(t,"name",{value:e,configurable:!0}):t.name=e),c&&r&&S(r,"arity")&&t.length!==r.arity&&i(t,"length",{value:r.arity});try{r&&S(r,"constructor")&&r.constructor?s&&i(t,"prototype",{writable:!1}):t.prototype&&(t.prototype=void 0)}catch(t){}r=o(t);return S(r,"source")||(r.source=u.join("string"==typeof e?e:"")),t};Function.prototype.toString=t(function(){return l(this)&&e(this).source||fe(this)},"toString")}),ve=Math.ceil,be=Math.floor,ge=Math.trunc||function(t){t=+t;return(0<t?be:ve)(t)},me=function(t){t=+t;return t!=t||0==t?0:ge(t)},Se=Math.max,we=Math.min,je=Math.min,Oe=function(t){return 0<t?je(me(t),9007199254740991):0},Ee={includes:Y(!0),indexOf:Y(!1)}.indexOf,Te=e([].push),Pe=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"].concat("length","prototype"),Le={f:Object.getOwnPropertyNames||function(t){var e,r=Pe,n=H(t),o=0,i=[];for(e in n)!S(se,e)&&S(n,e)&&Te(i,e);for(;r.length>o;)!S(n,e=r[o++])||~Ee(i,e)||Te(i,e);return i}},Ce={f:Object.getOwnPropertySymbols},xe=e([].concat),Re=o("Reflect","ownKeys")||function(t){var e=Le.f(j(t)),r=Ce.f;return r?xe(e,r(t)):e},Me=/#|\.prototype\./,Ae=$.normalize=function(t){return String(t).replace(Me,".").toLowerCase()},De=$.data={},Ne=$.NATIVE="N",Ie=$.POLYFILL="P",_e=$,ke=Yt.f,Fe=e(e.bind),Ue=Array.isArray||function(t){return"Array"==n(t)},h={},w=(h[i("toStringTag")]="z","[object z]"===String(h)),Ge=i("toStringTag"),Ve=Object,ze="Arguments"==n(function(){return arguments}()),He=w?n:function(t){var e;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(e=function(t,e){try{return t[e]}catch(t){}}(t=Ve(t),Ge))?e:ze?n(t):"Object"==(e=n(t))&&l(t.callee)?"Arguments":e},Be=[],We=o("Reflect","construct"),qe=/^\s*(?:class|function)\b/,Je=e(qe.exec),Ke=!qe.exec(Z),Xe=(et.sham=!0,!We||r(function(){var t;return tt(tt.call)||!tt(Object)||!tt(function(){t=!0})||t})?et:tt),Ye=i("species"),$e=Array,Qe=function(t){var e;return Ue(t)&&(e=t.constructor,(Xe(e)&&(e===$e||Ue(e.prototype))||p(e)&&null===(e=e[Ye]))&&(e=void 0)),void 0===e?$e:e},Ze=e([].push),tr={forEach:u(0),map:u(1),filter:u(2),some:u(3),every:u(4),find:u(5),findIndex:u(6),filterReject:u(7)}.forEach,er=!!(ct=[]["forEach"])&&r(function(){ct.call(null,it||function(){return 1},1)})?[].forEach:function(t){return tr(this,t,1<arguments.length?arguments[1]:void 0)};c({target:"Array",proto:!0,forced:[].forEach!=er},{forEach:er});function rr(e){if(e&&e.forEach!==er)try{ce(e,"forEach",er)}catch(t){e.forEach=er}}w||K(Object.prototype,"toString",w?{}.toString:function(){return"[object "+He(this)+"]"},{unsafe:!0});var nr,or={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},O=J("span").classList,d=O&&O.constructor&&O.constructor.prototype,h=d===Object.prototype?void 0:d;for(nr in or)or[nr]&&rr(b[nr]&&b[nr].prototype);rr(h);function ir(t,e){var r,t=j(t).constructor;if(void 0===t||gt(r=j(t)[lr]))return e;if(Xe(t=r))return t;throw sr(xt(t)+" is not a constructor")}var cr,E,T="process"==n(b.process),ur=String,ar=TypeError,w=Object.setPrototypeOf||("__proto__"in{}?function(){var r,n=!1,t={};try{(r=e(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set))(t,[]),n=t instanceof Array}catch(t){}return function(t,e){return j(t),function(t){if("object"==typeof t||l(t))return;throw ar("Can't set "+ur(t)+" as a prototype")}(e),n?r(t,e):t.__proto__=e,t}}():void 0),O=ie.f,d=i("toStringTag"),h=i("species"),fr=TypeError,sr=TypeError,lr=i("species"),P=Function.prototype,pr=P.apply,hr=P.call,dr="object"==typeof Reflect&&Reflect.apply||(ut?hr.bind(pr):function(){return hr.apply(pr,arguments)}),yr=o("document","documentElement"),vr=e([].slice),br=TypeError,P=/(?:ipad|iphone|ipod).*applewebkit/i.test(t),L=b.setImmediate,C=b.clearImmediate,gr=b.process,mr=b.Dispatch,Sr=b.Function,x=b.MessageChannel,wr=b.String,jr=0,Or={},Er="onreadystatechange";try{cr=b.location}catch(t){}function Tr(t){return function(){Gr(t)}}function Pr(t){Gr(t.data)}function Lr(t){b.postMessage(wr(t),cr.protocol+"//"+cr.host)}function Cr(){this.head=null,this.tail=null}function xr(t){var r,n;this.promise=new t(function(t,e){if(void 0!==r||void 0!==n)throw Qr("Bad Promise constructor");r=t,n=e}),this.resolve=m(r),this.reject=m(n)}function Rr(t,e){var r,n,o,i,c=e.value,u=e.state==yn,a=u?t.ok:t.fail,f=t.resolve,s=t.reject,l=t.domain;try{a?(u||(e.rejection===gn&&(i=e,g(Zr,b,function(){var t=i.facade;T?fn.emit("rejectionHandled",t):wn(dn,t,i.value)})),e.rejection=bn),!0===a?r=c:(l&&l.enter(),r=a(c),l&&(l.exit(),o=!0)),r===t.promise?s(un("Promise-chain cycle")):(n=mn(r))?g(n,r,f,s):f(r)):s(c)}catch(t){l&&!o&&l.exit(),s(t)}}var Mr,R,Ar,Dr,Nr,Ir,_r,kr,Fr,Ur,Gr=function(t){var e;S(Or,t)&&(e=Or[t],delete Or[t],e())},x=(L&&C||(L=function(t){var e=arguments.length,r=1;if(e<r)throw br("Not enough arguments");var n=l(t)?t:Sr(t),o=vr(arguments,1);return Or[++jr]=function(){dr(n,void 0,o)},E(jr),jr},C=function(t){delete Or[t]},T?E=function(t){gr.nextTick(Tr(t))}:mr&&mr.now?E=function(t){mr.now(Tr(t))}:x&&!P?(M=(x=new x).port2,x.port1.onmessage=Pr,E=Q(M.postMessage,M)):b.addEventListener&&l(b.postMessage)&&!b.importScripts&&cr&&"file:"!==cr.protocol&&!r(Lr)?(E=Lr,b.addEventListener("message",Pr,!1)):E=Er in J("script")?function(t){yr.appendChild(J("script"))[Er]=function(){yr.removeChild(this),Gr(t)}}:function(t){setTimeout(Tr(t),0)}),{set:L,clear:C}),M=/ipad|iphone|ipod/i.test(t)&&void 0!==b.Pebble,L=/web0s(?!.*chrome)/i.test(t),C=Yt.f,Vr=x.set,t=b.MutationObserver||b.WebKitMutationObserver,zr=b.document,Hr=b.process,A=b.Promise,C=C(b,"queueMicrotask"),C=C&&C.value,Br=(C||(Mr=function(){var t,e;for(T&&(t=Hr.domain)&&t.exit();R;){e=R.fn,R=R.next;try{e()}catch(t){throw R?Dr():Ar=void 0,t}}Ar=void 0,t&&t.enter()},Dr=P||T||L||!t||!zr?!M&&A&&A.resolve?((P=A.resolve(void 0)).constructor=A,_r=Q(P.then,P),function(){_r(Mr)}):T?function(){Hr.nextTick(Mr)}:(Vr=Q(Vr,b),function(){Vr(Mr)}):(Nr=!0,Ir=zr.createTextNode(""),new t(Mr).observe(Ir,{characterData:!0}),function(){Ir.data=Nr=!Nr})),C||function(t){t={fn:t,next:void 0};Ar&&(Ar.next=t),R||(R=t,Dr()),Ar=t}),Wr=function(t){try{return{error:!1,value:t()}}catch(t){return{error:!0,value:t}}},qr=(Cr.prototype={add:function(t){t={item:t,next:null};this.head?this.tail.next=t:this.head=t,this.tail=t},get:function(){var t=this.head;if(t)return this.head=t.next,this.tail===t&&(this.tail=null),t.item}},Cr),D=b.Promise,Jr="object"==typeof Deno&&Deno&&"object"==typeof Deno.version,Kr=!Jr&&!T&&"object"==typeof window&&"object"==typeof document,Xr=(D&&D.prototype,i("species")),Yr=!1,$r=l(b.PromiseRejectionEvent),L={CONSTRUCTOR:_e("Promise",function(){var t=fe(D),e=t!==String(D);if(!e&&66===Ot)return!0;if(!Ot||Ot<51||!/native code/.test(t)){var t=new D(function(t){t(1)}),r=function(t){t(function(){},function(){})};if((t.constructor={})[Xr]=r,!(Yr=t.then(function(){})instanceof r))return!0}return!e&&(Kr||Jr)&&!$r}),REJECTION_EVENT:$r,SUBCLASSING:Yr},Qr=TypeError,N={f:function(t){return new xr(t)}},Zr=x.set,tn="Promise",M=L.CONSTRUCTOR,en=L.REJECTION_EVENT,A=L.SUBCLASSING,rn=de.getterFor(tn),nn=de.set,P=D&&D.prototype,on=D,cn=P,un=b.TypeError,an=b.document,fn=b.process,sn=N.f,ln=sn,pn=!!(an&&an.createEvent&&b.dispatchEvent),hn="unhandledrejection",dn="rejectionhandled",yn=1,vn=2,bn=1,gn=2,mn=function(t){var e;return!(!p(t)||!l(e=t.then))&&e},Sn=function(r,o){r.notified||(r.notified=!0,Br(function(){for(var t,n,e=r.reactions;t=e.get();)Rr(t,r);r.notified=!1,o&&!r.rejection&&(n=r,g(Zr,b,function(){var t=n.facade,e=n.value,r=jn(n);if(r&&(r=Wr(function(){T?fn.emit("unhandledRejection",e,t):wn(hn,t,e)}),n.rejection=T||jn(n)?gn:bn,r.error))throw r.value}))}))},wn=function(t,e,r){var n;pn?((n=an.createEvent("Event")).promise=e,n.reason=r,n.initEvent(t,!1,!0),b.dispatchEvent(n)):n={promise:e,reason:r},!en&&(e=b["on"+t])?e(n):t===hn&&function(t,e){var r=b.console;r&&r.error&&(1==arguments.length?r.error(t):r.error(t,e))}("Unhandled promise rejection",r)},jn=function(t){return t.rejection!==bn&&!t.parent},On=function(e,r,n){return function(t){e(r,t,n)}},En=function(t,e,r){t.done||(t.done=!0,(t=r?r:t).value=e,t.state=vn,Sn(t,!0))},Tn=function(r,t,e){if(!r.done){r.done=!0,e&&(r=e);try{if(r.facade===t)throw un("Promise can't be resolved itself");var n=mn(t);n?Br(function(){var e={done:!1};try{g(n,t,On(Tn,e,r),On(En,e,r))}catch(t){En(e,t,r)}}):(r.value=t,r.state=yn,Sn(r,!1))}catch(t){En({done:!1},t,r)}}};if(M&&(cn=(on=function(t){!function(t,e){if(jt(e,t))return;throw fr("Incorrect invocation")}(this,cn),m(t),g(kr,this);var e=rn(this);try{t(On(Tn,e),On(En,e))}catch(t){En(e,t)}}).prototype,(kr=function(t){nn(this,{type:tn,done:!1,notified:!1,parent:!1,reactions:new qr,rejection:!1,state:0,value:void 0})}).prototype=K(cn,"then",function(t,e){var r=rn(this),n=sn(ir(this,on));return r.parent=!0,n.ok=!l(t)||t,n.fail=l(e)&&e,n.domain=T?fn.domain:void 0,0==r.state?r.reactions.add(n):Br(function(){Rr(n,r)}),n.promise}),Fr=function(){var t=new kr,e=rn(t);this.promise=t,this.resolve=On(Tn,e),this.reject=On(En,e)},N.f=sn=function(t){return t===on||void 0===t?new Fr:ln(t)},l(D)&&P!==Object.prototype)){Ur=P.then,A||K(P,"then",function(t,e){var r=this;return new on(function(t,e){g(Ur,r,t,e)}).then(t,e)},{unsafe:!0});try{delete P.constructor}catch(t){}w&&w(P,cn)}c({global:!0,constructor:!0,wrap:!0,forced:M},{Promise:on}),t=!(zr=tn),(C=(C=on)&&!t?C.prototype:C)&&!S(C,d)&&O(C,d,{configurable:!0,value:zr}),x=o(x=tn),A=ie.f,s&&x&&!x[h]&&A(x,h,{configurable:!0,get:function(){return this}});function Pn(t,e,r){var n,o;j(t);try{if(!(n=Mt(t,"return"))){if("throw"===e)throw r;return}n=g(n,t)}catch(t){o=!0,n=t}if("throw"===e)throw r;if(o)throw n;j(n)}function Ln(t,e){this.stopped=t,this.result=e}function Cn(t,e,r){function n(t){return i&&Pn(i,"normal",t),new Ln(!0,t)}function o(t){return p?(j(t),y?v(t[0],t[1],n):v(t[0],t[1])):y?v(t,n):v(t)}var i,c,u,a,f,s,l=r&&r.that,p=!(!r||!r.AS_ENTRIES),h=!(!r||!r.IS_RECORD),d=!(!r||!r.IS_ITERATOR),y=!(!r||!r.INTERRUPTED),v=Q(e,l);if(h)i=t.iterator;else if(d)i=t;else{if(!(r=Dn(t)))throw In(xt(t)+" is not iterable");if(void 0!==(e=r)&&(xn.Array===e||Mn[Rn]===e)){for(c=0,u=X(t);c<u;c++)if((a=o(t[c]))&&jt(_n,a))return;return}i=function(t,e){e=arguments.length<2?Dn(t):e;if(m(e))return j(g(e,t));throw Nn(xt(t)+" is not iterable")}(t,r)}for(f=(h?t:i).next;!(s=g(f,i)).done;){try{a=o(s.value)}catch(t){Pn(i,"throw",t)}if("object"==typeof a&&a&&jt(_n,a))return}}var xn={},Rn=i("iterator"),Mn=Array.prototype,An=i("iterator"),Dn=function(t){if(!gt(t))return Mt(t,An)||Mt(t,"@@iterator")||xn[He(t)]},Nn=TypeError,In=TypeError,_n=Ln.prototype,kn=i("iterator"),Fn=!1;try{var Un=0,Gn={next:function(){return{done:!!Un++}},return:function(){Fn=!0}};Gn[kn]=function(){return this},Array.from(Gn,function(){throw 2})}catch(t){}w=L.CONSTRUCTOR||!function(t,e){if(!e&&!Fn)return!1;var r=!1;try{var n={};n[kn]=function(){return{next:function(){return{done:r=!0}}}},t(n)}catch(t){}return r}(function(t){D.all(t).then(void 0,function(){})}),c({target:"Promise",stat:!0,forced:w},{all:function(t){var u=this,e=N.f(u),a=e.resolve,f=e.reject,r=Wr(function(){var n=m(u.resolve),o=[],i=0,c=1;Cn(t,function(t){var e=i++,r=!1;c++,g(n,u,t).then(function(t){r||(r=!0,o[e]=t,--c||a(o))},f)}),--c||a(o)});return r.error&&f(r.value),e.promise}}),P=L.CONSTRUCTOR,M=D&&D.prototype;c({target:"Promise",proto:!0,forced:P,real:!0},{catch:function(t){return this.then(void 0,t)}}),l(D)&&(t=o("Promise").prototype.catch,M.catch!==t&&K(M,"catch",t,{unsafe:!0})),c({target:"Promise",stat:!0,forced:w},{race:function(t){var r=this,n=N.f(r),o=n.reject,e=Wr(function(){var e=m(r.resolve);Cn(t,function(t){g(e,r,t).then(n.resolve,o)})});return e.error&&o(e.value),n.promise}});c({target:"Promise",stat:!0,forced:L.CONSTRUCTOR},{reject:function(t){var e=N.f(this);return g(e.reject,void 0,t),e.promise}});O=L.CONSTRUCTOR;o("Promise");function Vn(t){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},o=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:[],e=n.children,c=n.makeElement,u=n.makeLink,e=k.util.isFunction(e)?e(t):t[e||"children"];return o||(o=c(t,null),i.push(o)),k.util.toArray(e).forEach(function(t){var e=c(t,o),r=u(o,e);i.push(e,r),Vn(t,n,e,i)}),i}c({target:"Promise",stat:!0,forced:O},{resolve:function(t){return t=t,j(e=this),p(t)&&t.constructor===e?t:((0,(e=N.f(e)).resolve)(t),e.promise);var e}});var I=function(t){this.comparator=(t=t||{}).comparator||function(t,e){return t-e},this.index={},this.data=t.data||[],this.heapify()};I.prototype.isEmpty=function(){return 0===this.data.length},I.prototype.insert=function(t,e,r){t={priority:t,value:e},this.data.push(t),e=this.data.length-1;r&&(t.id=r,this.index[r]=e),this.bubbleUp(e)},I.prototype.peek=function(){return this.data[0]&&this.data[0].value},I.prototype.peekPriority=function(){return this.data[0]&&this.data[0].priority},I.prototype.updatePriority=function(t,e){var r=this.index[t];if(null==r)throw new Error("Node with id "+t+" was not found in the heap.");var t=this.data,n=t[r].priority,n=this.comparator(e,n);n<0?(t[r].priority=e,this.bubbleUp(r)):0<n&&(t[r].priority=e,this.bubbleDown(r))},I.prototype.remove=function(){var t=this.data,e=t[0],r=t.pop();return this.index[t.length]=null,0<t.length&&((t[0]=r).id&&(this.index[r.id]=0),this.bubbleDown(0)),e&&e.value},I.prototype.heapify=function(){for(var t=0;t<this.data.length;t++)this.bubbleUp(t)},I.prototype.bubbleUp=function(t){for(var e,r,n=this.data;0<t&&this.comparator(n[t].priority,n[e=t-1>>>1].priority)<0;)r=n[e],n[e]=n[t],n[t].id&&(this.index[n[t].id]=e),n[t]=r,n[t].id&&(this.index[n[t].id]=t),t=e},I.prototype.bubbleDown=function(t){for(var e=this.data,r=e.length-1;;){var n=1+(t<<1),o=1+n,i=t;if(n<=r&&this.comparator(e[n].priority,e[i].priority)<0&&(i=n),(i=o<=r&&this.comparator(e[o].priority,e[i].priority)<0?o:i)===t)break;n=e[i];e[i]=e[t],e[t].id&&(this.index[e[t].id]=i),e[t]=n,e[t].id&&(this.index[e[t].id]=t),t=i}};function zn(t,e,r){var n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{},o={},i=(t.getLinks().forEach(function(t){var e=t.get("source").id,t=(o[e]||(o[e]=[]),t.get("target").id);o[t]||(o[t]=[]),o[e].push(t),n.directed||o[t].push(e)}),function(t,e,r){r=r||function(t,e){return 1};var n,o,i,c,u,a={},f=(a[e]=0,{}),s=new I;for(n in t)n!==e&&(a[n]=1/0),s.insert(a[n],n,n);for(var l={};!s.isEmpty();)for(l[o=s.remove()]=!0,i=t[o]||[],c=0;c<i.length;c++)l[n=i[c]]||(u=a[o]+r(o,n))<a[n]&&(a[n]=u,f[n]=o,s.updatePriority(n,u));return f}(o,e.id||e,n.weight)),c=[],u=r.id||r;for(i[u]&&c.push(u);u=i[u];)c.unshift(u);return c}k.dia.Graph.prototype.shortestPath=function(t,e,r){return zn(this,t,e,r)},k.dia.Graph.prototype.constructTree=function(t,e){return Vn(t,e,null,[])},_.constructTree=Vn,_.shortestPath=zn}(this.joint.graphUtils=this.joint.graphUtils||{},joint);