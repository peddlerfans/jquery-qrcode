/*! JointJS+ v3.6.3 - HTML5 Diagramming Framework

Copyright (c) 2022 client IO

 2022-12-09 


This Source Code Form is subject to the terms of the JointJS+ License
, v. 2.0. If a copy of the JointJS+ License was not distributed with this
file, You can obtain one at http://jointjs.com/license/rappid_v2.txt
 or from the JointJS+ archive as was distributed by client IO. See the LICENSE file.*/


this.joint=this.joint||{},function(k,v,b){"use strict";function F(t){return function(t){if(Array.isArray(t))return G(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){var r;if(t)return"string"==typeof t?G(t,e):"Map"===(r="Object"===(r=Object.prototype.toString.call(t).slice(8,-1))&&t.constructor?t.constructor.name:r)||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?G(t,e):void 0}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function G(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}v=v&&Object.prototype.hasOwnProperty.call(v,"default")?v.default:v;var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function N(t,e){return t(e={exports:{}},e.exports),e.exports}function V(t){return t&&t.Math==Math&&t}function a(t){try{return!!t()}catch(t){return!0}}function $(t){return lt?dt(t):function(){return ht.apply(t,arguments)}}function u(t){if("Function"===I(t))return $(t)}function U(t){if(xt(t))throw Ot("Can't call method on "+t);return t}function z(t){return wt(U(t))}function B(t,e){return arguments.length<2?(r=S[t],P(r)?r:void 0):S[t]&&S[t][e];var r}function E(t){return $t(U(t))}function H(t){return"Symbol("+(void 0===t?"":t)+")_"+Ht(++zt+Bt,36)}function e(t){var e;return w(Yt,t)&&(Pt||"string"==typeof Yt[t])||(e="Symbol."+t,Pt&&w(y,t)?Yt[t]=y[t]:Yt[t]=(Rt&&qt?qt:Kt)(e)),Yt[t]}function Y(t){return de[t]||(de[t]=H(t))}function m(t,e,r,n){var o=(n=n||{}).enumerable,i=void 0!==n.name?n.name:e;if(P(r)&&xe(r,i,n),n.global)o?t[e]=r:Vt(e,r);else{try{n.unsafe?t[e]&&(o=!0):delete t[e]}catch(t){}o?t[e]=r:x.f(t,e,{value:r,enumerable:!1,configurable:!n.nonConfigurable,writable:!n.nonWritable})}}function q(t,e){return(t=je(t))<0?Ie(t+e,0):Pe(t,e)}function K(t){return Te(t.length)}function W(c){return function(t,e,r){var n,o=z(t),i=K(o),u=q(r,i);if(c&&e!=e){for(;u<i;)if((n=o[u++])!=n)return!0}else for(;u<i;u++)if((c||u in o)&&o[u]===e)return c||u||0;return!c&&-1}}function X(t,e){var r,n=z(t),o=0,i=[];for(r in n)!w(ve,r)&&w(n,r)&&Ce(i,r);for(;e.length>o;)!w(n,r=e[o++])||~Le(i,r)||Ce(i,r);return i}function J(t,e){return(t=$e[Ve(t)])==ze||t!=Ue&&(P(e)?a(e):!!e)}function r(t,e){var r,n,o,i=t.target,u=t.global,c=t.stat,a=u?S:c?S[i]||Vt(i,{}):(S[i]||{}).prototype;if(a)for(r in e){if(n=e[r],o=t.dontCallGetSet?(o=He(a,r))&&o.value:a[r],!Be(u?r:i+(c?".":"#")+r,t.forced)&&void 0!==o){if(typeof n==typeof o)continue;for(var f=n,l=o,s=d=h=g=y=p=void 0,p=Ge(l),y=x.f,g=ne.f,h=0;h<p.length;h++){var d=p[h];w(f,d)||s&&w(s,d)||y(f,d,g(l,d))}}(t.sham||o&&o.sham)&&pe(n,"sham",!0),m(a,r,n,t)}}function Q(t,e){var r=[][t];return!!r&&a(function(){r.call(null,e||function(){return 1},1)})}function Z(t,e){return Dt(t),void 0===e?t:lt?qe(t,e):function(){return t.apply(e,arguments)}}function tt(){}function et(t){if(!P(t))return!1;try{return tr(tt,Ze,t),!0}catch(t){return!1}}function rt(t){if(!P(t))return!1;switch(Qe(t)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return nr||!!rr(er,he(t))}catch(t){return!0}}function nt(t,e){return new(cr(t))(0===e?0:e)}function n(p){var y=1==p,g=2==p,h=3==p,d=4==p,v=6==p,b=7==p,m=5==p||v;return function(t,e,r,n){for(var o,i,u=E(t),c=wt(u),a=Z(e,r),f=K(c),l=0,e=n||nt,s=y?e(t,f):g||b?e(t,0):void 0;l<f;l++)if((m||l in c)&&(i=a(o=c[l],l,u),p))if(y)s[l]=i;else if(i)switch(p){case 3:return!0;case 5:return o;case 6:return l;case 2:ar(s,o)}else switch(p){case 4:return!1;case 7:ar(s,o)}return v?-1:h||d?d:s}}function ot(){}function it(t){t.write(hr("")),t.close();var e=t.parentWindow.Object;return t=null,e}function A(t){if("Symbol"===Qe(t))throw TypeError("Cannot convert a Symbol value to a string");return Er(t)}function ut(t){var e=t.flags;return void 0!==e||"flags"in jr||w(t,"flags")||!jt(jr,t)?e:j(Ar,t)}var ct,at,o,i,ft,S=V("object"==typeof globalThis&&globalThis)||V("object"==typeof window&&window)||V("object"==typeof self&&self)||V("object"==typeof t&&t)||function(){return this}()||Function("return this")(),f=!a(function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}),lt=!a(function(){var t=function(){}.bind();return"function"!=typeof t||t.hasOwnProperty("prototype")}),st=Function.prototype.call,j=lt?st.bind(st):function(){return st.apply(st,arguments)},t={}.propertyIsEnumerable,pt=Object.getOwnPropertyDescriptor,yt={f:pt&&!t.call({1:2},1)?function(t){t=pt(this,t);return!!t&&t.enumerable}:t},gt=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}},t=Function.prototype,ht=t.call,dt=lt&&t.bind.bind(ht,ht),vt=$({}.toString),bt=$("".slice),I=function(t){return bt(vt(t),8,-1)},mt=Object,St=u("".split),wt=a(function(){return!mt("z").propertyIsEnumerable(0)})?function(t){return"String"==I(t)?St(t,""):mt(t)}:mt,xt=function(t){return null==t},Ot=TypeError,t="object"==typeof document&&document.all,t={all:t,IS_HTMLDDA:void 0===t&&void 0!==t},Et=t.all,P=t.IS_HTMLDDA?function(t){return"function"==typeof t||t===Et}:function(t){return"function"==typeof t},At=t.all,s=t.IS_HTMLDDA?function(t){return"object"==typeof t?null!==t:P(t)||t===At}:function(t){return"object"==typeof t?null!==t:P(t)},jt=u({}.isPrototypeOf),t=B("navigator","userAgent")||"",c=S.process,l=S.Deno,c=c&&c.versions||l&&l.version,l=c&&c.v8,It=h=!(h=l?0<(g=l.split("."))[0]&&g[0]<4?1:+(g[0]+g[1]):h)&&t&&(!(g=t.match(/Edge\/(\d+)/))||74<=g[1])&&(g=t.match(/Chrome\/(\d+)/))?+g[1]:h,Pt=!!Object.getOwnPropertySymbols&&!a(function(){var t=Symbol();return!String(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&It&&It<41}),Rt=Pt&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,Tt=Object,Lt=Rt?function(t){return"symbol"==typeof t}:function(t){var e=B("Symbol");return P(e)&&jt(e.prototype,Tt(t))},Ct=String,_t=function(t){try{return Ct(t)}catch(t){return"Object"}},Mt=TypeError,Dt=function(t){if(P(t))return t;throw Mt(_t(t)+" is not a function")},kt=function(t,e){t=t[e];return xt(t)?void 0:Dt(t)},Ft=TypeError,Gt=function(t,e){var r,n;if("string"===e&&P(r=t.toString)&&!s(n=j(r,t)))return n;if(P(r=t.valueOf)&&!s(n=j(r,t)))return n;if("string"!==e&&P(r=t.toString)&&!s(n=j(r,t)))return n;throw Ft("Can't convert object to primitive value")},Nt=Object.defineProperty,Vt=function(e,r){try{Nt(S,e,{value:r,configurable:!0,writable:!0})}catch(t){S[e]=r}return r},c="__core-js_shared__",p=S[c]||Vt(c,{}),l=N(function(t){(t.exports=function(t,e){return p[t]||(p[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.25.5",mode:"global",copyright:"Â© 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.25.5/LICENSE",source:"https://github.com/zloirock/core-js"})}),$t=Object,Ut=u({}.hasOwnProperty),w=Object.hasOwn||function(t,e){return Ut(E(t),e)},zt=0,Bt=Math.random(),Ht=u(1..toString),Yt=l("wks"),y=S.Symbol,qt=y&&y.for,Kt=Rt?y:y&&y.withoutSetter||H,Wt=TypeError,Xt=e("toPrimitive"),Jt=function(t){t=function(t,e){if(!s(t)||Lt(t))return t;var r=kt(t,Xt);if(r){if(r=j(r,t,e=void 0===e?"default":e),!s(r)||Lt(r))return r;throw Wt("Can't convert object to primitive value")}return Gt(t,e=void 0===e?"number":e)}(t,"string");return Lt(t)?t:t+""},Qt=S.document,Zt=s(Qt)&&s(Qt.createElement),te=function(t){return Zt?Qt.createElement(t):{}},ee=!f&&!a(function(){return 7!=Object.defineProperty(te("div"),"a",{get:function(){return 7}}).a}),re=Object.getOwnPropertyDescriptor,ne={f:f?re:function(t,e){if(t=z(t),e=Jt(e),ee)try{return re(t,e)}catch(t){}if(w(t,e))return gt(!j(yt.f,t,e),t[e])}},t=f&&a(function(){return 42!=Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype}),oe=String,ie=TypeError,R=function(t){if(s(t))return t;throw ie(oe(t)+" is not an object")},ue=TypeError,ce=Object.defineProperty,ae=Object.getOwnPropertyDescriptor,fe="enumerable",le="configurable",se="writable",x={f:f?t?function(t,e,r){var n;return R(t),e=Jt(e),R(r),"function"==typeof t&&"prototype"===e&&"value"in r&&se in r&&!r[se]&&((n=ae(t,e))&&n[se]&&(t[e]=r.value,r={configurable:(le in r?r:n)[le],enumerable:(fe in r?r:n)[fe],writable:!1})),ce(t,e,r)}:ce:function(t,e,r){if(R(t),e=Jt(e),R(r),ee)try{return ce(t,e,r)}catch(t){}if("get"in r||"set"in r)throw ue("Accessors not supported");return"value"in r&&(t[e]=r.value),t}},pe=f?function(t,e,r){return x.f(t,e,gt(1,r))}:function(t,e,r){return t[e]=r,t},g=Function.prototype,h=f&&Object.getOwnPropertyDescriptor,c=w(g,"name"),ye={EXISTS:c,PROPER:c&&"something"===function(){}.name,CONFIGURABLE:c&&(!f||h(g,"name").configurable)},ge=u(Function.toString),he=(P(p.inspectSource)||(p.inspectSource=function(t){return ge(t)}),p.inspectSource),c=S.WeakMap,h=P(c)&&/native code/.test(String(c)),de=l("keys"),ve={},be="Object already initialized",me=S.TypeError,g=S.WeakMap,Se=h||p.state?((o=p.state||(p.state=new g)).get=o.get,o.has=o.has,o.set=o.set,ct=function(t,e){if(o.has(t))throw me(be);return e.facade=t,o.set(t,e),e},at=function(t){return o.get(t)||{}},function(t){return o.has(t)}):(i=Y("state"),ve[i]=!0,ct=function(t,e){if(w(t,i))throw me(be);return e.facade=t,pe(t,i,e),e},at=function(t){return w(t,i)?t[i]:{}},function(t){return w(t,i)}),we={set:ct,get:at,has:Se,enforce:function(t){return Se(t)?at(t):ct(t,{})},getterFor:function(e){return function(t){if(s(t)&&(t=at(t)).type===e)return t;throw me("Incompatible receiver, "+e+" required")}}},xe=N(function(t){var n=ye.CONFIGURABLE,o=we.enforce,e=we.get,i=Object.defineProperty,u=f&&!a(function(){return 8!==i(function(){},"length",{value:8}).length}),c=String(String).split("String"),t=t.exports=function(t,e,r){"Symbol("===String(e).slice(0,7)&&(e="["+String(e).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),r&&r.getter&&(e="get "+e),r&&r.setter&&(e="set "+e),(!w(t,"name")||n&&t.name!==e)&&(f?i(t,"name",{value:e,configurable:!0}):t.name=e),u&&r&&w(r,"arity")&&t.length!==r.arity&&i(t,"length",{value:r.arity});try{r&&w(r,"constructor")&&r.constructor?f&&i(t,"prototype",{writable:!1}):t.prototype&&(t.prototype=void 0)}catch(t){}r=o(t);return w(r,"source")||(r.source=c.join("string"==typeof e?e:"")),t};Function.prototype.toString=t(function(){return P(this)&&e(this).source||he(this)},"toString")}),Oe=Math.ceil,Ee=Math.floor,Ae=Math.trunc||function(t){t=+t;return(0<t?Ee:Oe)(t)},je=function(t){t=+t;return t!=t||0==t?0:Ae(t)},Ie=Math.max,Pe=Math.min,Re=Math.min,Te=function(t){return 0<t?Re(je(t),9007199254740991):0},Le={includes:W(!0),indexOf:W(!1)}.indexOf,Ce=u([].push),_e=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],Me=_e.concat("length","prototype"),De={f:Object.getOwnPropertyNames||function(t){return X(t,Me)}},ke={f:Object.getOwnPropertySymbols},Fe=u([].concat),Ge=B("Reflect","ownKeys")||function(t){var e=De.f(R(t)),r=ke.f;return r?Fe(e,r(t)):e},Ne=/#|\.prototype\./,Ve=J.normalize=function(t){return String(t).replace(Ne,".").toLowerCase()},$e=J.data={},Ue=J.NATIVE="N",ze=J.POLYFILL="P",Be=J,He=ne.f,Ye=u([].join),c=wt!=Object,h=Q("join",","),qe=(r({target:"Array",proto:!0,forced:c||!h},{join:function(t){return Ye(z(this),void 0===t?",":t)}}),u(u.bind)),Ke=Array.isArray||function(t){return"Array"==I(t)},g={},c=(g[e("toStringTag")]="z","[object z]"===String(g)),We=e("toStringTag"),Xe=Object,Je="Arguments"==I(function(){return arguments}()),Qe=c?I:function(t){var e;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(e=function(t,e){try{return t[e]}catch(t){}}(t=Xe(t),We))?e:Je?I(t):"Object"==(e=I(t))&&P(t.callee)?"Arguments":e},Ze=[],tr=B("Reflect","construct"),er=/^\s*(?:class|function)\b/,rr=u(er.exec),nr=!er.exec(tt),or=(rt.sham=!0,!tr||a(function(){var t;return et(et.call)||!et(Object)||!et(function(){t=!0})||t})?rt:et),ir=e("species"),ur=Array,cr=function(t){var e;return Ke(t)&&(e=t.constructor,(or(e)&&(e===ur||Ke(e.prototype))||s(e)&&null===(e=e[ir]))&&(e=void 0)),void 0===e?ur:e},ar=u([].push),h={forEach:n(0),map:n(1),filter:n(2),some:n(3),every:n(4),find:n(5),findIndex:n(6),filterReject:n(7)},fr=Object.keys||function(t){return X(t,_e)},lr={f:f&&!t?Object.defineProperties:function(t,e){R(t);for(var r,n=z(e),o=fr(e),i=o.length,u=0;u<i;)x.f(t,r=o[u++],n[r]);return t}},sr=B("document","documentElement"),pr="prototype",yr="script",gr=Y("IE_PROTO"),hr=function(t){return"<"+yr+">"+t+"</"+yr+">"},dr=function(){try{ft=new ActiveXObject("htmlfile")}catch(t){}dr="undefined"==typeof document||document.domain&&ft?it(ft):(t=te("iframe"),e="java"+yr+":",t.style.display="none",sr.appendChild(t),t.src=String(e),(e=t.contentWindow.document).open(),e.write(hr("document.F=Object")),e.close(),e.F);for(var t,e,r=_e.length;r--;)delete dr[pr][_e[r]];return dr()},vr=(ve[gr]=!0,Object.create||function(t,e){var r;return null!==t?(ot[pr]=R(t),r=new ot,ot[pr]=null,r[gr]=t):r=dr(),void 0===e?r:lr.f(r,e)}),g=x.f,t=e("unscopables"),d=Array.prototype,br=(null==d[t]&&g(d,t,{configurable:!0,value:vr(null)}),h.find),g="find",mr=!0,d=(g in[]&&Array(1)[g](function(){mr=!1}),r({target:"Array",proto:!0,forced:mr},{find:function(t){return br(this,t,1<arguments.length?arguments[1]:void 0)}}),d[t][g]=!0,c?{}.toString:function(){return"[object "+Qe(this)+"]"}),Sr=(c||m(Object.prototype,"toString",d,{unsafe:!0}),String),wr=TypeError,xr=Object.setPrototypeOf||("__proto__"in{}?function(){var r,n=!1,t={};try{(r=u(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set))(t,[]),n=t instanceof Array}catch(t){}return function(t,e){return R(t),function(t){if("object"==typeof t||P(t))return;throw wr("Can't set "+Sr(t)+" as a prototype")}(e),n?r(t,e):t.__proto__=e,t}}():void 0),Or=e("match"),Er=String,Ar=function(){var t=R(this),e="";return t.hasIndices&&(e+="d"),t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.unicodeSets&&(e+="v"),t.sticky&&(e+="y"),e},jr=RegExp.prototype,Ir=S.RegExp,t=a(function(){var t=Ir("a","y");return t.lastIndex=2,null!=t.exec("abcd")}),c=t||a(function(){return!Ir("a","y").sticky}),d={BROKEN_CARET:t||a(function(){var t=Ir("^r","gy");return t.lastIndex=2,null!=t.exec("str")}),MISSED_STICKY:c,UNSUPPORTED_Y:t},Pr=x.f,c=e("species"),Rr=S.RegExp,Tr=a(function(){var t=Rr(".","s");return!t.dotAll||!t.exec("\n")||"s"!==t.flags}),Lr=S.RegExp,Cr=a(function(){var t=Lr("(?<a>b)","g");return"b"!==t.exec("b").groups.a||"bc"!=="b".replace(t,"$<a>c")}),t=De.f,_r=we.enforce,Mr=e("match"),O=S.RegExp,Dr=O.prototype,kr=S.SyntaxError,Fr=u(Dr.exec),Gr=u("".charAt),Nr=u("".replace),Vr=u("".indexOf),$r=u("".slice),Ur=/^\?<[^\s\d!#%&*+<=>@^][^\s!#%&*+<=>@^]*>/,T=/a/g,zr=/a/g,L=new O(T)!==T,Br=d.MISSED_STICKY,Hr=d.UNSUPPORTED_Y,L=f&&(!L||Br||Tr||Cr||a(function(){return zr[Mr]=!1,O(T)!=T||O(zr)==zr||"/a/i"!=O(T,"i")}));if(Be("RegExp",L)){for(var Yr=function(t,e){var r,n,o,i=jt(Dr,this),u=s(c=t)&&(void 0!==(u=c[Or])?!!u:"RegExp"==I(c)),c=void 0===e,a=[],f=t;if(!i&&u&&c&&t.constructor===Yr)return t;if((u||jt(Dr,t))&&(t=t.source,c&&(e=ut(f))),t=void 0===t?"":A(t),e=void 0===e?"":A(e),f=t,c=e=Tr&&"dotAll"in T&&(r=!!e&&-1<Vr(e,"s"))?Nr(e,/s/g,""):e,Br&&"sticky"in T&&(n=!!e&&-1<Vr(e,"y"))&&Hr&&(e=Nr(e,/y/g,"")),Cr&&(t=(o=function(t){for(var e,r=t.length,n=0,o="",i=[],u={},c=!1,a=!1,f=0,l="";n<=r;n++){if("\\"===(e=Gr(t,n)))e+=Gr(t,++n);else if("]"===e)c=!1;else if(!c)switch(!0){case"["===e:c=!0;break;case"("===e:Fr(Ur,$r(t,n+1))&&(n+=2,a=!0),o+=e,f++;continue;case">"===e&&a:if(""===l||w(u,l))throw new kr("Invalid capture group name");u[l]=!0,a=!(i[i.length]=[l,f]),l="";continue}a?l+=e:o+=e}return[o,i]}(t))[0],a=o[1]),o=O(t,e),e=i?this:Dr,i=Yr,xr&&P(e=e.constructor)&&e!==i&&s(e=e.prototype)&&e!==i.prototype&&xr(o,e),i=o,(r||n||a.length)&&(e=_r(i),r&&(e.dotAll=!0,e.raw=Yr(function(t){for(var e,r=t.length,n=0,o="",i=!1;n<=r;n++)"\\"===(e=Gr(t,n))?o+=e+Gr(t,++n):i||"."!==e?("["===e?i=!0:"]"===e&&(i=!1),o+=e):o+="[\\s\\S]";return o}(t),c)),n&&(e.sticky=!0),a.length&&(e.groups=a)),t!==f)try{pe(i,"source",""===f?"(?:)":f)}catch(t){}return i},qr=t(O),Kr=0;qr.length>Kr;)!function(t,e,r){r in t||Pr(t,r,{configurable:!0,get:function(){return e[r]},set:function(t){e[r]=t}})}(Yr,O,qr[Kr++]);(Dr.constructor=Yr).prototype=Dr,m(S,"RegExp",Yr,{constructor:!0})}L=B(L="RegExp"),t=x.f,f&&L&&!L[c]&&t(L,c,{configurable:!0,get:function(){return this}});function Wr(e){if(e&&e.forEach!==pn)try{pe(e,"forEach",pn)}catch(t){e.forEach=pn}}var Xr,Jr=we.get,Qr=l("native-string-replace",String.prototype.replace),Zr=RegExp.prototype.exec,tn=Zr,en=u("".charAt),rn=u("".indexOf),nn=u("".replace),on=u("".slice),un=(t=/b*/g,j(Zr,L=/a/,"a"),j(Zr,t,"a"),0!==L.lastIndex||0!==t.lastIndex),cn=d.BROKEN_CARET,an=void 0!==/()??/.exec("")[1],fn=tn=un||an||cn||Tr||Cr?function(t){var e,r,n,o,i,u,c=this,a=Jr(c),t=A(t),f=a.raw;if(f)return f.lastIndex=c.lastIndex,s=j(tn,f,t),c.lastIndex=f.lastIndex,s;var l=a.groups,f=cn&&c.sticky,s=j(Ar,c),a=c.source,p=0,y=t;if(f&&(s=nn(s,"y",""),-1===rn(s,"g")&&(s+="g"),y=on(t,c.lastIndex),0<c.lastIndex&&(!c.multiline||c.multiline&&"\n"!==en(t,c.lastIndex-1))&&(a="(?: "+a+")",y=" "+y,p++),e=new RegExp("^(?:"+a+")",s)),an&&(e=new RegExp("^"+a+"$(?!\\s)",s)),un&&(r=c.lastIndex),n=j(Zr,f?e:c,y),f?n?(n.input=on(n.input,p),n[0]=on(n[0],p),n.index=c.lastIndex,c.lastIndex+=n[0].length):c.lastIndex=0:un&&n&&(c.lastIndex=c.global?n.index+n[0].length:r),an&&n&&1<n.length&&j(Qr,n[0],e,function(){for(o=1;o<arguments.length-2;o++)void 0===arguments[o]&&(n[o]=void 0)}),n&&l)for(n.groups=i=vr(null),o=0;o<l.length;o++)i[(u=l[o])[0]]=n[u[1]];return n}:tn,c=(r({target:"RegExp",proto:!0,forced:/./.exec!==fn},{exec:fn}),ye.PROPER),l="toString",ln=RegExp.prototype[l],L=a(function(){return"/a/b"!=ln.call({source:"a",flags:"b"})}),t=c&&ln.name!=l,sn=((L||t)&&m(RegExp.prototype,l,function(){var t=R(this);return"/"+A(t.source)+"/"+A(ut(t))},{unsafe:!0}),h.forEach),pn=Q("forEach")?[].forEach:function(t){return sn(this,t,1<arguments.length?arguments[1]:void 0)},yn=(r({target:"Array",proto:!0,forced:[].forEach!=pn},{forEach:pn}),{CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}),d=te("span").classList,c=d&&d.constructor&&d.constructor.prototype,L=c===Object.prototype?void 0:c;for(Xr in yn)yn[Xr]&&Wr(S[Xr]&&S[Xr].prototype);Wr(L);function gn(e){return function(t){t=A(U(t));return 1&e&&(t=On(t,En,"")),t=2&e?On(t,An,""):t}}function hn(e){return 51<=It||!a(function(){var t=[];return(t.constructor={})[Pn]=function(){return{foo:1}},1!==t[e](Boolean).foo})}function dn(o){return function(t,e){var r,t=A(U(t)),e=je(e),n=t.length;return e<0||n<=e?o?"":void 0:(r=kn(t,e))<55296||56319<r||e+1===n||(n=kn(t,e+1))<56320||57343<n?o?Dn(t,e):r:o?Fn(t,e,e+2):n-56320+(r-55296<<10)+65536}}function vn(t,e,r){(e=Jt(e))in t?x.f(t,e,gt(0,r)):t[e]=r}var bn,mn,Sn,C,wn,xn="\t\n\v\f\r Â áââââââââââââ¯âã\u2028\u2029\ufeff",On=u("".replace),t="["+xn+"]",En=RegExp("^"+t+t+"*"),An=RegExp(t+t+"*$"),l={start:gn(1),end:gn(2),trim:gn(3)},jn=ye.PROPER,In=l.trim,Pn=(r({target:"String",proto:!0,forced:(bn="trim",a(function(){return xn[bn]()||"âÂá "!=="âÂá "[bn]()||jn&&xn[bn].name!==bn}))},{trim:function(){return In(this)}}),e("species")),Rn=h.map,d=hn("map"),c=(r({target:"Array",proto:!0,forced:!d},{map:function(t){return Rn(this,t,1<arguments.length?arguments[1]:void 0)}}),a(function(){fr(1)})),L=(r({target:"Object",stat:!0,forced:c},{keys:function(t){return fr(E(t))}}),Function.prototype),Tn=L.apply,Ln=L.call,Cn="object"==typeof Reflect&&Reflect.apply||(lt?Ln.bind(Tn):function(){return Ln.apply(Tn,arguments)}),_n=e("species"),Mn=RegExp.prototype,Dn=u("".charAt),kn=u("".charCodeAt),Fn=u("".slice),t={codeAt:dn(!1),charAt:dn(!0)},Gn=t.charAt,Nn=Math.floor,Vn=u("".charAt),$n=u("".replace),Un=u("".slice),zn=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,Bn=/\$([$&'`]|\d{1,2})/g,Hn=TypeError,Yn=e("replace"),qn=Math.max,Kn=Math.min,Wn=u([].concat),Xn=u([].push),Jn=u("".indexOf),Qn=u("".slice),l="$0"==="a".replace(/./,"$0"),Zn=!!/./[Yn]&&""===/./[Yn]("a","$0"),h=!a(function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")}),to=(d=function(t,w,x){var O=Zn?"$":"$0";return[function(t,e){var r=U(this),n=xt(t)?void 0:kt(t,Yn);return n?j(n,t,r,e):j(w,A(r),t,e)},function(t,e){var r=R(this),n=A(t);if("string"==typeof e&&-1===Jn(e,O)&&-1===Jn(e,"$<")){t=x(w,r,n,e);if(t.done)return t.value}for(var o,i,u,c=P(e),a=(c||(e=A(e)),r.global),f=(a&&(o=r.unicode,r.lastIndex=0),[]);null!==(g=function(t,e){var r=t.exec;if(P(r))return null!==(r=j(r,t,e))&&R(r),r;if("RegExp"===I(t))return j(fn,t,e);throw Hn("RegExp#exec called on incompatible receiver")}(r,n))&&(Xn(f,g),a);)""===A(g[0])&&(r.lastIndex=(i=n,(u=Te(r.lastIndex))+(o?Gn(i,u).length:1)));for(var l,s="",p=0,y=0;y<f.length;y++){for(var g,h=A((g=f[y])[0]),d=qn(Kn(je(g.index),n.length),0),v=[],b=1;b<g.length;b++)Xn(v,void 0===(l=g[b])?l:String(l));var m=g.groups,S=c?(S=Wn([h],v,d,n),void 0!==m&&Xn(S,m),A(Cn(e,void 0,S))):function(i,u,c,a,f,t){var l=c+i.length,s=a.length,e=Bn;return void 0!==f&&(f=E(f),e=zn),$n(t,e,function(t,e){var r;switch(Vn(e,0)){case"$":return"$";case"&":return i;case"`":return Un(u,0,c);case"'":return Un(u,l);case"<":r=f[Un(e,1,-1)];break;default:var n,o=+e;if(0==o)return t;if(s<o)return 0!==(n=Nn(o/10))&&n<=s?void 0===a[n-1]?Vn(e,1):a[n-1]+Vn(e,1):t;r=a[o-1]}return void 0===r?"":r})}(h,n,d,v,m,e);p<=d&&(s+=Qn(n,p,d)+S,p=d+h.length)}return s+Qn(n,p)}]},c=!h||!l||Zn,C=e(mn="replace"),wn=!a(function(){var t={};return t[C]=function(){return 7},7!=""[mn](t)}),L=wn&&!a(function(){var t=!1,e=/a/;return"split"===mn&&((e={constructor:{}}).constructor[_n]=function(){return e},e.flags="",e[C]=/./[C]),e.exec=function(){return t=!0,null},e[C](""),!t}),wn&&L&&!c||(Sn=u(/./[C]),L=d(C,""[mn],function(t,e,r,n,o){var t=u(t),i=e.exec;return i===fn||i===Mn.exec?wn&&!o?{done:!0,value:Sn(e,r,n)}:{done:!0,value:t(r,e,n)}:{done:!1}}),m(String.prototype,mn,L[0]),m(Mn,C,L[1])),wo&&pe(Mn[C],"sham",!0),function(t,e,r){var n,o;R(t);try{if(!(n=kt(t,"return"))){if("throw"===e)throw r;return r}n=j(n,t)}catch(t){o=!0,n=t}if("throw"===e)throw r;if(o)throw n;return R(n),r}),eo={},ro=e("iterator"),no=Array.prototype,oo=e("iterator"),io=function(t){if(!xt(t))return kt(t,oo)||kt(t,"@@iterator")||eo[Qe(t)]},uo=TypeError,co=Array,ao=e("iterator"),fo=!1;try{var lo=0,so={next:function(){return{done:!!lo++}},return:function(){fo=!0}};so[ao]=function(){return this},Array.from(so,function(){throw 2})}catch(t){}function po(){return this}function yo(t,e){return{value:t,done:e}}var _,h=!function(t,e){if(!e&&!fo)return!1;var r=!1;try{var n={};n[ao]=function(){return{next:function(){return{done:r=!0}}}},t(n)}catch(t){}return r}(function(t){Array.from(t)}),l=(r({target:"Array",stat:!0,forced:h},{from:function(t){var e,r,n,o,i,u,c,a=E(t),t=or(this),f=arguments.length,l=1<f?arguments[1]:void 0,s=void 0!==l,f=(s&&(l=Z(l,2<f?arguments[2]:void 0)),io(a)),p=0;if(f&&(this!==co||(void 0===(c=f)||eo.Array!==c&&no[ro]!==c)))for(i=(o=function(t,e){e=arguments.length<2?io(t):e;if(Dt(e))return R(j(e,t));throw uo(_t(t)+" is not iterable")}(a,f)).next,r=t?new this:[];!(n=j(i,o)).done;p++)u=s?function(e,t,r,n){try{return n?t(R(r)[0],r[1]):t(r)}catch(t){to(e,"throw",t)}}(o,l,[n.value,p],!0):n.value,vn(r,p,u);else for(e=K(a),r=t?new this(e):co(e);p<e;p++)u=s?l(a[p],p):a[p],vn(r,p,u);return r.length=p,r}}),!a(function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype})),go=Y("IE_PROTO"),ho=Object,vo=ho.prototype,c=l?ho.getPrototypeOf:function(t){var e,t=E(t);return w(t,go)?t[go]:(e=t.constructor,P(e)&&t instanceof e?e.prototype:t instanceof ho?vo:null)},bo=e("iterator"),d=!1,so=([].keys&&("next"in(L=[].keys())?(wo=c(c(L)))!==Object.prototype&&(_=wo):d=!0),!s(_)||a(function(){var t={};return _[bo].call(t)!==t})),h=(P((_=so?{}:_)[bo])||m(_,bo,function(){return this}),{IteratorPrototype:_,BUGGY_SAFARI_ITERATORS:d}),mo=x.f,So=e("toStringTag"),l=function(t,e,r){(t=t&&!r?t.prototype:t)&&!w(t,So)&&mo(t,So,{configurable:!0,value:e})},L=h.IteratorPrototype,wo=function(){return this},so=ye.PROPER,d=ye.CONFIGURABLE,xo=h.IteratorPrototype,Oo=h.BUGGY_SAFARI_ITERATORS,h=e("iterator"),Eo="values",Ao="entries",jo=t.charAt,Io="String Iterator",Po=we.set,Ro=we.getterFor(Io),t=String,To="String",Lo=function(t){Po(this,{type:Io,string:A(t),index:0})},Co=function(){var t=Ro(this),e=t.string,r=t.index;return r>=e.length?yo(void 0,!0):(e=jo(e,r),t.index+=e.length,yo(e,!1))},_o=void 0,Mo=void 0,Do=void 0;function ko(t){if(t===_o&&zo)return zo;if(!Oo&&t in D)return D[t];switch(t){case"keys":case Eo:case Ao:return function(){return new Lo(this,t)}}return function(){return new Lo(this)}}var Fo,Go,M=Lo,No=To,Vo=void 0,Vo=(No+=" Iterator",M.prototype=vr(L,{next:gt(+!Vo,Co)}),l(M,No,!1),eo[No]=wo,To+" Iterator"),$o=!1,D=t.prototype,Uo=D[h]||D["@@iterator"]||_o&&D[_o],zo=!Oo&&Uo||ko(_o);if((Co="Array"==To&&D.entries||Uo)&&(M=c(Co.call(new t)))!==Object.prototype&&M.next&&(c(M)!==xo&&(xr?xr(M,xo):P(M[h])||m(M,h,po)),l(M,Vo,!0)),so&&_o==Eo&&Uo&&Uo.name!==Eo&&(d?pe(D,"name",Eo):($o=!0,zo=function(){return j(Uo,this)})),_o)if(Fo={values:ko(Eo),keys:Mo?zo:ko("keys"),entries:ko(Ao)},Do)for(Go in Fo)!Oo&&!$o&&Go in D||m(D,Go,Fo[Go]);else r({target:To,proto:!0,forced:Oo||$o},Fo);D[h]!==zo&&m(D,h,zo,{name:_o}),eo[To]=zo;function Bo(t){if(9007199254740991<t)throw Yo("Maximum allowed index exceeded")}function Ho(e,r,n){if(n=n||{},void 0===e)throw new Error("The the dia.Paper is a mandatory option.");e.trigger("beforeexport",n);var t=b.V(e.svg).clone(),o=t.node,i=t.findOne("."+b.util.addClassNamePrefix("layers")),u=n.area||e.getContentArea();if((c=n.preserveDimensions)&&t.attr({width:c.width||u.width,height:c.height||u.height}),t.removeAttr("style").attr("viewBox",[u.x,u.y,u.width,u.height].join(" ")),i.removeAttr("transform"),!1!==n.useComputedStyles){for(var c=e.svg,u=o,i=Array.from(c.querySelectorAll("*")),u=Array.from(u.querySelectorAll("*")),a=c.ownerDocument,f=a.styleSheets.length,l=[],s=f-1;0<=s;s--)l[s]=a.styleSheets[s],a.styleSheets[s].disabled=!0;var p={};i.forEach(function(t,e){var r=window.getComputedStyle(t,null),n={};b.util.forIn(r,function(t){n[t]=r.getPropertyValue(t)}),p[e]=n}),f!=a.styleSheets.length&&l.forEach(function(t,e){a.styleSheets[e]=t});for(var y=0;y<f;y++)a.styleSheets[y].disabled=!1;var g={};i.forEach(function(t,e){var r=window.getComputedStyle(t,null),n=p[e],o={};b.util.forIn(r,function(t){isNaN(t)&&r.getPropertyValue(t)!==n[t]&&(o[t]=r.getPropertyValue(t))}),g[e]=o}),u.forEach(function(t,e){v(t).css(g[e])})}function h(){var t=n.beforeSerialize;"function"==typeof t&&(t=t.call(e,o,e))instanceof SVGElement&&(o=t),r((t=o,(new XMLSerializer).serializeToString(t).replace(/&nbsp;/g,"Â ")))}var d,c=n.stylesheet;b.util.isString(c)&&(i=t.node,u=c,c=i.ownerDocument.implementation.createDocument(null,"xml",null),b.V(i).prepend(b.V("style",{type:"text/css"},[c.createCDATASection(u)]))),e.trigger("afterexport",n),n.convertImagesToDataUris?(i=t.find("image"),d={},i.forEach(function(t){var e=t.attr("xlink:href")||t.attr("href");e&&(e=e.trim(),Qo.test(e)||(e in d?d[e].push(t):d[e]=[t]))}),v.when.apply(v,F(Object.keys(d).map(function(t){return r=d[t=t],n=v.Deferred(),b.util.imageToDataUri(t,function(t,e){!t&&e&&(r.forEach(function(t){return t.attr("xlink:href",e)}),n.resolve())}),n.promise();var r,n}))).then(h)):h()}var Yo=TypeError,qo=e("isConcatSpreadable"),L=51<=It||!a(function(){var t=[];return t[qo]=!1,t.concat()[0]!==t}),No=hn("concat"),Ko=(r({target:"Array",proto:!0,arity:1,forced:!L||!No},{concat:function(t){for(var e,r,n,o,i,u=E(this),c=nt(u,0),a=0,f=-1,l=arguments.length;f<l;f++)if(i=void 0,!s(o=n=-1===f?u:arguments[f])||(void 0!==(i=o[qo])?!i:!Ke(o)))Bo(a+1),vn(c,a++,n);else for(r=K(n),Bo(a+r),e=0;e<r;e++,a++)e in n&&vn(c,a,n[e]);return c.length=a,c}}),u([].slice)),wo=hn("slice"),Wo=e("species"),Xo=Array,Jo=Math.max,Qo=(r({target:"Array",proto:!0,forced:!wo},{slice:function(t,e){var r,n,o,i=z(this),u=K(i),c=q(t,u),a=q(void 0===e?u:e,u);if(Ke(i)&&(r=i.constructor,(r=or(r)&&(r===Xo||Ke(r.prototype))||s(r)&&null===(r=r[Wo])?void 0:r)===Xo||void 0===r))return Ko(i,c,a);for(n=new(void 0===r?Xo:r)(Jo(a-c,0)),o=0;c<a;c++,o++)c in i&&vn(n,o,i[c]);return n.length=o,n}}),new RegExp(/^(data:)([\w\\+-]*)(;charset=[\w-]+|;base64){0,1},(.*)/gi));function Zo(t,e){var r=b.util.uniqueId("svg_output");Ho(t,function(t){var e=window.open("",r,"menubar=yes,location=yes,resizable=yes,scrollbars=yes,status=yes"),t="data:image/svg+xml,"+encodeURIComponent(t);e.document.write('<img src="'+t+'" style="max-height:100%" />')},b.util.assign({convertImagesToDataUris:!0},e))}b.dia.Paper.prototype.toSVG=function(){return Ho.apply(this,[this].concat(Array.prototype.slice.call(arguments)))},b.dia.Paper.prototype.openAsSVG=function(){return Zo.apply(this,[this].concat(Array.prototype.slice.call(arguments)))},k.openAsSVG=Zo,k.toSVG=Ho}(this.joint.format=this.joint.format||{},$,joint);