/*! JointJS+ v3.6.3 - HTML5 Diagramming Framework

Copyright (c) 2022 client IO

 2022-12-09 


This Source Code Form is subject to the terms of the JointJS+ License
, v. 2.0. If a copy of the JointJS+ License was not distributed with this
file, You can obtain one at http://jointjs.com/license/rappid_v2.txt
 or from the JointJS+ archive as was distributed by client IO. See the LICENSE file.*/


this.joint=this.joint||{},function(I,u,e){"use strict";u=u&&Object.prototype.hasOwnProperty.call(u,"default")?u.default:u;var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function N(t,n){return t(n={exports:{}},n.exports),n.exports}function n(t){return t&&t.Math==Math&&t}function o(t){try{return!!t()}catch(t){return!0}}function k(t,n){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:n}}function R(t){return A?Z(t):function(){return Q.apply(t,arguments)}}function i(t){return nt(tt(t),8,-1)}function r(t){if("Function"===i(t))return R(t)}function z(t){if(rt(t))throw st("Can't call method on "+t);return t}function p(t){return it(z(t))}function s(t,n){return arguments.length<2?(o=m[t],S(o)?o:void 0):m[t]&&m[t][n];var o}function G(t){return Ot(z(t))}function H(t){return"Symbol("+(void 0===t?"":t)+")_"+Ct(++Et+Lt,36)}function a(t){var n;return L(C,t)&&(ft||"string"==typeof C[t])||(n="Symbol."+t,ft&&L(T,t)?C[t]=T[t]:C[t]=(pt&&Tt?Tt:Dt)(n)),C[t]}function h(t){return t=function(t,n){if(!w(t)||dt(t))return t;var o=bt(t,Mt);if(o){if(o=v(o,t,n=void 0===n?"default":n),!w(o)||dt(o))return o;throw Pt("Can't convert object to primitive value")}return St(t,n=void 0===n?"number":n)}(t,"string"),dt(t)?t:t+""}function B(t){return xt?$t.createElement(t):{}}function c(t){if(w(t))return t;throw kt(Nt(t)+" is not an object")}function V(t,n,o,e){var i=(e=e||{}).enumerable,r=void 0!==e.name?e.name:n;if(S(o)&&nn(o,r,e),e.global)i?t[n]=o:At(n,o);else{try{e.unsafe?t[n]&&(i=!0):delete t[n]}catch(t){}i?t[n]=o:Ut.f(t,n,{value:o,enumerable:!1,configurable:!e.nonConfigurable,writable:!e.nonWritable})}}function U(t,n){return(t=sn(t))<0?an(t+n,0):cn(t,n)}function W(t){return ln(t.length)}function X(a){return function(t,n,o){var e,i=p(t),r=W(i),s=U(o,r);if(a&&n!=n){for(;s<r;)if((e=i[s++])!=e)return!0}else for(;s<r;s++)if((a||s in i)&&i[s]===n)return a||s||0;return!a&&-1}}function l(t,n){return(t=Sn[vn(t)])==An||t!=wn&&(S(n)?o(n):!!n)}function f(t,n){var o,e,i,r=t.target,s=t.global,a=t.stat,c=s?m:a?m[r]||At(r,{}):(m[r]||{}).prototype;if(c)for(o in n){if(e=n[o],i=t.dontCallGetSet?(i=jn(c,o))&&i.value:c[o],!On(s?o:r+(a?".":"#")+o,t.forced)&&void 0!==i){if(typeof e==typeof i)continue;for(var u=e,l=i,f=y=g=d=h=p=void 0,p=mn(l),h=Ut.f,d=It.f,g=0;g<p.length;g++){var y=p[g];L(u,y)||f&&L(f,y)||h(u,y,d(l,y))}}(t.sham||i&&i.sham)&&Wt(e,"sham",!0),V(c,o,e,t)}}var Y,d,g,y,m=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof t&&t)||function(){return this}()||Function("return this")(),b=!o(function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}),A=!o(function(){var t=function(){}.bind();return"function"!=typeof t||t.hasOwnProperty("prototype")}),q=Function.prototype.call,v=A?q.bind(q):function(){return q.apply(q,arguments)},t={}.propertyIsEnumerable,K=Object.getOwnPropertyDescriptor,J={f:K&&!t.call({1:2},1)?function(t){t=K(this,t);return!!t&&t.enumerable}:t},t=Function.prototype,Q=t.call,Z=A&&t.bind.bind(Q,Q),tt=R({}.toString),nt=R("".slice),ot=Object,et=r("".split),it=o(function(){return!ot("z").propertyIsEnumerable(0)})?function(t){return"String"==i(t)?et(t,""):ot(t)}:ot,rt=function(t){return null==t},st=TypeError,t="object"==typeof document&&document.all,t={all:t,IS_HTMLDDA:void 0===t&&void 0!==t},at=t.all,S=t.IS_HTMLDDA?function(t){return"function"==typeof t||t===at}:function(t){return"function"==typeof t},ct=t.all,w=t.IS_HTMLDDA?function(t){return"object"==typeof t?null!==t:S(t)||t===ct}:function(t){return"object"==typeof t?null!==t:S(t)},ut=r({}.isPrototypeOf),t=s("navigator","userAgent")||"",O=m.process,j=m.Deno,O=O&&O.versions||j&&j.version,j=O&&O.v8,lt=P=!(P=j?0<(D=j.split("."))[0]&&D[0]<4?1:+(D[0]+D[1]):P)&&t&&(!(D=t.match(/Edge\/(\d+)/))||74<=D[1])&&(D=t.match(/Chrome\/(\d+)/))?+D[1]:P,ft=!!Object.getOwnPropertySymbols&&!o(function(){var t=Symbol();return!String(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&lt&&lt<41}),pt=ft&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,ht=Object,dt=pt?function(t){return"symbol"==typeof t}:function(t){var n=s("Symbol");return S(n)&&ut(n.prototype,ht(t))},gt=String,yt=TypeError,mt=function(t){if(S(t))return t;throw yt(function(t){try{return gt(t)}catch(t){return"Object"}}(t)+" is not a function")},bt=function(t,n){t=t[n];return rt(t)?void 0:mt(t)},vt=TypeError,St=function(t,n){var o,e;if("string"===n&&S(o=t.toString)&&!w(e=v(o,t)))return e;if(S(o=t.valueOf)&&!w(e=v(o,t)))return e;if("string"!==n&&S(o=t.toString)&&!w(e=v(o,t)))return e;throw vt("Can't convert object to primitive value")},wt=Object.defineProperty,At=function(n,o){try{wt(m,n,{value:o,configurable:!0,writable:!0})}catch(t){m[n]=o}return o},O="__core-js_shared__",E=m[O]||At(O,{}),j=N(function(t){(t.exports=function(t,n){return E[t]||(E[t]=void 0!==n?n:{})})("versions",[]).push({version:"3.25.5",mode:"global",copyright:"Â© 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.25.5/LICENSE",source:"https://github.com/zloirock/core-js"})}),Ot=Object,jt=r({}.hasOwnProperty),L=Object.hasOwn||function(t,n){return jt(G(t),n)},Et=0,Lt=Math.random(),Ct=r(1..toString),C=j("wks"),T=m.Symbol,Tt=T&&T.for,Dt=pt?T:T&&T.withoutSetter||H,Pt=TypeError,Mt=a("toPrimitive"),$t=m.document,xt=w($t)&&w($t.createElement),Ft=!b&&!o(function(){return 7!=Object.defineProperty(B("div"),"a",{get:function(){return 7}}).a}),_t=Object.getOwnPropertyDescriptor,It={f:b?_t:function(t,n){if(t=p(t),n=h(n),Ft)try{return _t(t,n)}catch(t){}if(L(t,n))return k(!v(J.f,t,n),t[n])}},t=b&&o(function(){return 42!=Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype}),Nt=String,kt=TypeError,Rt=TypeError,zt=Object.defineProperty,Gt=Object.getOwnPropertyDescriptor,Ht="enumerable",Bt="configurable",Vt="writable",Ut={f:b?t?function(t,n,o){var e;return c(t),n=h(n),c(o),"function"==typeof t&&"prototype"===n&&"value"in o&&Vt in o&&!o[Vt]&&((e=Gt(t,n))&&e[Vt]&&(t[n]=o.value,o={configurable:(Bt in o?o:e)[Bt],enumerable:(Ht in o?o:e)[Ht],writable:!1})),zt(t,n,o)}:zt:function(t,n,o){if(c(t),n=h(n),c(o),Ft)try{return zt(t,n,o)}catch(t){}if("get"in o||"set"in o)throw Rt("Accessors not supported");return"value"in o&&(t[n]=o.value),t}},Wt=b?function(t,n,o){return Ut.f(t,n,k(1,o))}:function(t,n,o){return t[n]=o,t},D=Function.prototype,P=b&&Object.getOwnPropertyDescriptor,O=L(D,"name"),Xt={EXISTS:O,PROPER:O&&"something"===function(){}.name,CONFIGURABLE:O&&(!b||P(D,"name").configurable)},Yt=r(Function.toString),qt=(S(E.inspectSource)||(E.inspectSource=function(t){return Yt(t)}),E.inspectSource),t=m.WeakMap,O=S(t)&&/native code/.test(String(t)),P=j("keys"),Kt={},Jt="Object already initialized",Qt=m.TypeError,D=m.WeakMap,Zt=O||E.state?((g=E.state||(E.state=new D)).get=g.get,g.has=g.has,g.set=g.set,Y=function(t,n){if(g.has(t))throw Qt(Jt);return n.facade=t,g.set(t,n),n},d=function(t){return g.get(t)||{}},function(t){return g.has(t)}):(y=P[t="state"]||(P[t]=H(t)),Kt[y]=!0,Y=function(t,n){if(L(t,y))throw Qt(Jt);return n.facade=t,Wt(t,y,n),n},d=function(t){return L(t,y)?t[y]:{}},function(t){return L(t,y)}),tn={set:Y,get:d,has:Zt,enforce:function(t){return Zt(t)?d(t):Y(t,{})},getterFor:function(n){return function(t){if(w(t)&&(t=d(t)).type===n)return t;throw Qt("Incompatible receiver, "+n+" required")}}},nn=N(function(t){var e=Xt.CONFIGURABLE,i=tn.enforce,n=tn.get,r=Object.defineProperty,s=b&&!o(function(){return 8!==r(function(){},"length",{value:8}).length}),a=String(String).split("String"),t=t.exports=function(t,n,o){"Symbol("===String(n).slice(0,7)&&(n="["+String(n).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),o&&o.getter&&(n="get "+n),o&&o.setter&&(n="set "+n),(!L(t,"name")||e&&t.name!==n)&&(b?r(t,"name",{value:n,configurable:!0}):t.name=n),s&&o&&L(o,"arity")&&t.length!==o.arity&&r(t,"length",{value:o.arity});try{o&&L(o,"constructor")&&o.constructor?b&&r(t,"prototype",{writable:!1}):t.prototype&&(t.prototype=void 0)}catch(t){}o=i(t);return L(o,"source")||(o.source=a.join("string"==typeof n?n:"")),t};Function.prototype.toString=t(function(){return S(this)&&n(this).source||qt(this)},"toString")}),on=Math.ceil,en=Math.floor,rn=Math.trunc||function(t){t=+t;return(0<t?en:on)(t)},sn=function(t){t=+t;return t!=t||0==t?0:rn(t)},an=Math.max,cn=Math.min,un=Math.min,ln=function(t){return 0<t?un(sn(t),9007199254740991):0},fn={includes:X(!0),indexOf:X(!1)}.indexOf,pn=r([].push),hn=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"].concat("length","prototype"),dn={f:Object.getOwnPropertyNames||function(t){var n,o=hn,e=p(t),i=0,r=[];for(n in e)!L(Kt,n)&&L(e,n)&&pn(r,n);for(;o.length>i;)!L(e,n=o[i++])||~fn(r,n)||pn(r,n);return r}},gn={f:Object.getOwnPropertySymbols},yn=r([].concat),mn=s("Reflect","ownKeys")||function(t){var n=dn.f(c(t)),o=gn.f;return o?yn(n,o(t)):n},bn=/#|\.prototype\./,vn=l.normalize=function(t){return String(t).replace(bn,".").toLowerCase()},Sn=l.data={},wn=l.NATIVE="N",An=l.POLYFILL="P",On=l,jn=It.f,M=Array.isArray||function(t){return"Array"==i(t)};f({target:"Array",stat:!0},{isArray:M});function En(){}function $(t){if(!S(t))return!1;try{return In(En,_n,t),!0}catch(t){return!1}}function Ln(t){if(!S(t))return!1;switch(Fn(t)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return Rn||!!kn(Nn,qt(t))}catch(t){return!0}}function Cn(t,n){return new(Zn(t))(0===n?0:n)}function x(d){var g=1==d,y=2==d,m=3==d,b=4==d,v=6==d,S=7==d,w=5==d||v;return function(t,n,o,e){for(var i,r,s,a,c=G(t),u=it(c),l=(r=o,mt(i=n),void 0===r?i:A?Kn(i,r):function(){return i.apply(r,arguments)}),f=W(u),p=0,o=e||Cn,h=g?o(t,f):y||S?o(t,0):void 0;p<f;p++)if((w||p in u)&&(a=l(s=u[p],p,c),d))if(g)h[p]=a;else if(a)switch(d){case 3:return!0;case 5:return s;case 6:return p;case 2:to(h,s)}else switch(d){case 4:return!1;case 7:to(h,s)}return v?-1:m||b?b:h}}var Tn,Dn,Pn,j={},O=(j[a("toStringTag")]="z","[object z]"===String(j)),Mn=a("toStringTag"),$n=Object,xn="Arguments"==i(function(){return arguments}()),Fn=O?i:function(t){var n;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,n){try{return t[n]}catch(t){}}(t=$n(t),Mn))?n:xn?i(t):"Object"==(n=i(t))&&S(t.callee)?"Arguments":n},_n=[],In=s("Reflect","construct"),Nn=/^\s*(?:class|function)\b/,kn=r(Nn.exec),Rn=!Nn.exec(En),zn=(Ln.sham=!0,!In||o(function(){var t;return $($.call)||!$(Object)||!$(function(){t=!0})||t})?Ln:$),Gn=a("species"),Hn=r([].slice),D=(Tn="slice",51<=lt||!o(function(){var t=[];return(t.constructor={})[Gn]=function(){return{foo:1}},1!==t[Tn](Boolean).foo})),Bn=a("species"),Vn=Array,Un=Math.max,Wn=(f({target:"Array",proto:!0,forced:!D},{slice:function(t,n){var o,e,i,r=p(this),s=W(r),a=U(t,s),c=U(void 0===n?s:n,s);if(M(r)&&(o=r.constructor,(o=zn(o)&&(o===Vn||M(o.prototype))||w(o)&&null===(o=o[Bn])?void 0:o)===Vn||void 0===o))return Hn(r,a,c);for(e=new(void 0===o?Vn:o)(Un(c-a,0)),i=0;a<c;a++,i++)if(a in r){l=void 0;var u=e,l=i,f=r[a];(l=h(l))in u?Ut.f(u,l,k(0,f)):u[l]=f}return e.length=i,e}}),Function),Xn=r([].concat),Yn=r([].join),qn={},P=A?Wn.bind:function(s){var a=mt(this),t=a.prototype,c=Hn(arguments,1),u=function(){var t=Xn(c,Hn(arguments));if(this instanceof u){var n=a,o=t.length,e=t;if(!L(qn,o)){for(var i=[],r=0;r<o;r++)i[r]="a["+r+"]";qn[o]=Wn("C,a","return new C("+Yn(i,",")+")")}return qn[o](n,e)}return a.apply(s,t)};return w(t)&&(u.prototype=t),u},Kn=(f({target:"Function",proto:!0,forced:Function.bind!==P},{bind:P}),r(r.bind)),Jn=a("species"),Qn=Array,Zn=function(t){var n;return M(t)&&(n=t.constructor,(zn(n)&&(n===Qn||M(n.prototype))||w(n)&&null===(n=n[Jn]))&&(n=void 0)),void 0===n?Qn:n},to=r([].push),no={forEach:x(0),map:x(1),filter:x(2),some:x(3),every:x(4),find:x(5),findIndex:x(6),filterReject:x(7)}.forEach,F=!!(Pn=[]["forEach"])&&o(function(){Pn.call(null,Dn||function(){return 1},1)})?[].forEach:function(t){return no(this,t,1<arguments.length?arguments[1]:void 0)};f({target:"Array",proto:!0,forced:[].forEach!=F},{forEach:F});function oo(n){if(n&&n.forEach!==F)try{Wt(n,"forEach",F)}catch(t){n.forEach=F}}O||V(Object.prototype,"toString",O?{}.toString:function(){return"[object "+Fn(this)+"]"},{unsafe:!0});var eo,io={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},t=B("span").classList,j=t&&t.constructor&&t.constructor.prototype,D=j===Object.prototype?void 0:j;for(eo in io)io[eo]&&oo(m[eo]&&m[eo].prototype);oo(D);var ro=r([].reverse),P=[1,2],_=(f({target:"Array",proto:!0,forced:String(P)===String(P.reverse())},{reverse:function(){return M(this)&&(this.length=this.length),ro(this)}}),e.mvc.View.extend({className:"dialog",events:{"click .bg":"action","click .btn-close":"action","click .controls button":"action","mousedown .titlebar":"onDragStart","touchstart .titlebar":"onDragStart"},options:{draggable:!1,closeButtonContent:"&times;",closeButton:!0,inlined:!1,modal:!0,width:0,title:"",buttons:null,type:"",content:null},init:function(){e.util.bindAll(this,"onDrag","onDragEnd"),this.buttons=this.options.buttons},render:function(){var o,e,i,t=u("<div/>",{class:"bg","data-action":"close"}),n=u("<div/>",{class:"fg"}),r=u("<div/>",{class:"titlebar"}),s=u("<div/>",{class:"body"}),a=u("<button/>",{class:"btn-close","data-action":"close",html:this.options.closeButtonContent}),c=u("<div/>",{class:"controls"});return this.$el.toggleClass("draggable",!!this.options.draggable),this.options.type&&this.$el.attr("data-type",this.options.type),this.options.inlined&&this.$el.addClass("inlined"),this.options.modal&&this.$el.addClass("modal"),this.options.width&&n.width(this.options.width),this.options.title?r.append(this.options.title):r.addClass("empty"),this.options.content&&s.append(this.options.content),this.buttons&&(o=[],e=[],i=[],this.buttons.forEach(function(t){var n=u("<button/>",{class:"control-button",html:t.content,"data-action":t.action});(t.position?"left"===t.position?(n.addClass(t.position),i):"center"===t.position?(n.addClass(t.position),e):(n.addClass(t.position),o):o).push(n)}),o.reverse().forEach(function(t){c.append(t)}),i.forEach(function(t){c.append(t)}),e.forEach(function(t){c.append(t)})),n.append(r,s,c),this.options.closeButton&&n.append(a),this.$el.empty().append(t,n),this},open:function(t){return this.delegateEvents(),this.on("action:close",this.close,this),u(document.body).on({"mousemove.dialog touchmove.dialog":this.onDrag,"mouseup.dialog touchend.dialog":this.onDragEnd}),u(t||document.body).append(this.render().el),this.$el.addClass("rendered"),this},close:function(){return this.remove(),this.trigger("close"),this},onRemove:function(){u(document.body).off(".dialog",this.onDrag).off(".dialog",this.onDragStart)},action:function(t){(t=u(t.target).closest("[data-action]").attr("data-action"))&&this.trigger("action:"+t)},onDragStart:function(t){this.options.draggable&&(t=e.util.normalizeEvent(t),this._dx=t.clientX,this._dy=t.clientY,this._dragging=!0)},onDrag:function(t){var n,o;this._dragging&&(t=e.util.normalizeEvent(t),o=(n=this.$(".fg")).offset(),n.css({top:o.top+(t.clientY-this._dy),left:o.left+(t.clientX-this._dx),margin:0}),this._dx=t.clientX,this._dy=t.clientY)},onDragEnd:function(){this._dragging=!1}})),O=_.extend({className:_.prototype.className+" lightbox",options:e.util.merge({},_.prototype.options,{closeButton:!0,modal:!0,downloadable:!1,downloadAction:"download",fileName:"Image",closeAnimation:{delay:2e3,duration:200,easing:"swing",properties:{opacity:0}},top:100,windowArea:.8,openAnimation:!1}),init:function(){var t,n=arguments,o=this;e.util.bindAll(this,"startCloseAnimation","positionAndScale"),_.prototype.init.apply(this,arguments),this.options.image&&(this.$image=u("<img/>").on("load",this.positionAndScale),this.options.content=this.$image),this.options.downloadable&&(t={action:this.options.downloadAction,content:"Download",position:"center"},this.buttons=Array.isArray(this.buttons)?this.buttons.slice():[],this.buttons.push(t)),this.on("action:"+this.options.downloadAction,this.download),u(window).on("resize",this.positionAndScale),this.on("close:animation:complete",function(){_.prototype.close.apply(o,n)})},open:function(){return _.prototype.open.apply(this,arguments),this.$image&&this.$image.attr("src",this.options.image),this.positionAndScale(),this.startOpenAnimation(),this},positionAndScale:function(){var t=this.$(".fg"),n=this.$(".body > img"),o=this.$(".titlebar"),e=this.$(".controls"),i=this.options.windowArea,r=window.innerWidth*i,s=(this.$el.css("margin-top",this.options.top),o.css("width",r),o.height()),a=e.height(),i=window.innerHeight*i-this.options.top-s-a,s=(t.css({width:r,height:i}),n.width()),a=n.height();t.css({width:s,height:a}),o.css("width","auto"),o.hasClass("empty")||e.css("top",o.outerHeight())},download:function(){e.util.imageToDataUri(this.options.image,function(t,n){e.util.downloadDataUri(n,this.options.fileName)}.bind(this))},close:function(){return this.options.closeAnimation?this.startCloseAnimation():_.prototype.close.apply(this,arguments),this},onRemove:function(){_.prototype.onRemove.apply(this,arguments),u(window).off("resize",this.positionAndScale),this.$image&&this.$image.off("load",this.positionAndScale)},startCloseAnimation:function(){this.$el.animate(this.options.closeAnimation.properties,e.util.assign({complete:function(){this.trigger("close:animation:complete")}.bind(this)},this.options.closeAnimation))},startOpenAnimation:function(){this.$el.animate(e.util.assign({},this.options.openAnimation.properties,{height:this._foregroundHeight}),e.util.assign({complete:function(){this.trigger("open:animation:complete")}.bind(this)},this.options.openAnimation))}});I.Lightbox=O}(this.joint.ui=this.joint.ui||{},$,joint);