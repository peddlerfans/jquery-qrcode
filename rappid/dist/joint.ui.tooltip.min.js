/*! JointJS+ v3.6.3 - HTML5 Diagramming Framework

Copyright (c) 2022 client IO

 2022-12-09 


This Source Code Form is subject to the terms of the JointJS+ License
, v. 2.0. If a copy of the JointJS+ License was not distributed with this
file, You can obtain one at http://jointjs.com/license/rappid_v2.txt
 or from the JointJS+ archive as was distributed by client IO. See the LICENSE file.*/


this.joint=this.joint||{},function(F,c,u){"use strict";c=c&&Object.prototype.hasOwnProperty.call(c,"default")?c.default:c;var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function N(t,e){return t(e={exports:{}},e.exports),e.exports}function k(t){return t&&t.Math==Math&&t}function n(t){try{return!!t()}catch(t){return!0}}function D(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}function W(t){return S?dt(t):function(){return pt.apply(t,arguments)}}function a(t){if("Function"===E(t))return W(t)}function r(t){if(xt(t))throw wt("Can't call method on "+t);return t}function h(t){return bt(r(t))}function i(t,e){return arguments.length<2?(n=y[t],j(n)?n:void 0):y[t]&&y[t][e];var n}function V(t){return Dt(r(t))}function _(t){return"Symbol("+(void 0===t?"":t)+")_"+Ht(++Vt+_t,36)}function e(t){var e;return I(zt,t)&&(Et||"string"==typeof zt[t])||(e="Symbol."+t,Et&&I(A,t)?zt[t]=A[t]:zt[t]=(jt&&Gt?Gt:Ut)(e)),zt[t]}function H(t){return t=function(t,e){if(!b(t)||At(t))return t;var n=Ct(t,Xt);if(n){if(n=O(n,t,e=void 0===e?"default":e),!b(n)||At(n))return n;throw Kt("Can't convert object to primitive value")}return Ft(t,e=void 0===e?"number":e)}(t,"string"),At(t)?t:t+""}function z(t){return pe[t]||(pe[t]=_(t))}function G(t,e,n,i){var o=(i=i||{}).enumerable,r=void 0!==i.name?i.name:e;if(j(n)&&be(n,r,i),i.global)o?t[e]=n:kt(e,n);else{try{i.unsafe?t[e]&&(o=!0):delete t[e]}catch(t){}o?t[e]=n:L.f(t,e,{value:n,enumerable:!1,configurable:!i.nonConfigurable,writable:!i.nonWritable})}}function U(t,e){return(t=Be(t))<0?Te(t+e,0):Oe(t,e)}function K(t){return je(t.length)}function X(s){return function(t,e,n){var i,o=h(t),r=K(o),a=U(n,r);if(s&&e!=e){for(;a<r;)if((i=o[a++])!=i)return!0}else for(;a<r;a++)if((s||a in o)&&o[a]===e)return s||a||0;return!s&&-1}}function Y(t,e){var n,i=h(t),o=0,r=[];for(n in i)!I(de,n)&&I(i,n)&&Ae(r,n);for(;e.length>o;)!I(i,n=e[o++])||~Ie(r,n)||Ae(r,n);return r}function o(t,e){return(t=ke[Ne(t)])==We||t!=De&&(j(e)?n(e):!!e)}function s(t,e){var n,i,o,r=t.target,a=t.global,s=t.stat,c=a?y:s?y[r]||kt(r,{}):(y[r]||{}).prototype;if(c)for(n in e){if(i=e[n],o=t.dontCallGetSet?(o=_e(c,n))&&o.value:c[n],!Ve(a?n:r+(s?".":"#")+n,t.forced)&&void 0!==o){if(typeof i==typeof o)continue;for(var u=i,l=o,f=v=g=d=p=h=void 0,h=Me(l),p=L.f,d=te.f,g=0;g<h.length;g++){var v=h[g];I(u,v)||f&&I(f,v)||p(u,v,d(l,v))}}(t.sham||o&&o.sham)&&ue(i,"sham",!0),G(c,n,i,t)}}function T(t){if("Symbol"===Ue(t))throw TypeError("Cannot convert a Symbol value to a string");return Ke(t)}function q(){var t=$(this),e="";return t.hasIndices&&(e+="d"),t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.unicodeSets&&(e+="v"),t.sticky&&(e+="y"),e}function J(){}function Q(t){t.write(en("")),t.close();var e=t.parentWindow.Object;return t=null,e}function Z(o){return function(t,e){var n,t=T(r(t)),e=Be(e),i=t.length;return e<0||i<=e?o?"":void 0:(n=On(t,e))<55296||56319<n||e+1===i||(i=On(t,e+1))<56320||57343<i?o?Tn(t,e):n:o?En(t,e,e+2):i-56320+(n-55296<<10)+65536}}function tt(){}function l(t){if(!j(t))return!1;try{return Un(tt,Gn,t),!0}catch(t){return!1}}function et(t){if(!j(t))return!1;switch(Ue(t)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return Yn||!!Xn(Kn,he(t))}catch(t){return!0}}function nt(t,e){return new(Zn(t))(0===e?0:e)}function f(d){var g=1==d,v=2==d,y=3==d,m=4==d,b=6==d,x=7==d,w=5==d||b;return function(t,e,n,i){for(var o,r,a,s,c=V(t),u=bt(c),l=(r=n,Rt(o=e),void 0===r?o:S?Hn(o,r):function(){return o.apply(r,arguments)}),f=K(u),h=0,n=i||nt,p=g?n(t,f):v||x?n(t,0):void 0;h<f;h++)if((w||h in u)&&(s=l(a=u[h],h,c),d))if(g)p[h]=s;else if(s)switch(d){case 3:return!0;case 5:return a;case 6:return h;case 2:ti(p,a)}else switch(d){case 4:return!1;case 7:ti(p,a)}return b?-1:y||m?m:p}}var it,p,d,g,ot,rt,at,v,st,ct,ut,y=k("object"==typeof globalThis&&globalThis)||k("object"==typeof window&&window)||k("object"==typeof self&&self)||k("object"==typeof t&&t)||function(){return this}()||Function("return this")(),m=!n(function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}),S=!n(function(){var t=function(){}.bind();return"function"!=typeof t||t.hasOwnProperty("prototype")}),lt=Function.prototype.call,O=S?lt.bind(lt):function(){return lt.apply(lt,arguments)},t={}.propertyIsEnumerable,ft=Object.getOwnPropertyDescriptor,ht={f:ft&&!t.call({1:2},1)?function(t){t=ft(this,t);return!!t&&t.enumerable}:t},t=Function.prototype,pt=t.call,dt=S&&t.bind.bind(pt,pt),gt=W({}.toString),vt=W("".slice),E=function(t){return vt(gt(t),8,-1)},yt=Object,mt=a("".split),bt=n(function(){return!yt("z").propertyIsEnumerable(0)})?function(t){return"String"==E(t)?mt(t,""):yt(t)}:yt,xt=function(t){return null==t},wt=TypeError,t="object"==typeof document&&document.all,t={all:t,IS_HTMLDDA:void 0===t&&void 0!==t},St=t.all,j=t.IS_HTMLDDA?function(t){return"function"==typeof t||t===St}:function(t){return"function"==typeof t},Bt=t.all,b=t.IS_HTMLDDA?function(t){return"object"==typeof t?null!==t:j(t)||t===Bt}:function(t){return"object"==typeof t?null!==t:j(t)},Tt=a({}.isPrototypeOf),t=i("navigator","userAgent")||"",x=y.process,w=y.Deno,x=x&&x.versions||w&&w.version,w=x&&x.v8,Ot=R=!(R=w?0<(P=w.split("."))[0]&&P[0]<4?1:+(P[0]+P[1]):R)&&t&&(!(P=t.match(/Edge\/(\d+)/))||74<=P[1])&&(P=t.match(/Chrome\/(\d+)/))?+P[1]:R,Et=!!Object.getOwnPropertySymbols&&!n(function(){var t=Symbol();return!String(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&Ot&&Ot<41}),jt=Et&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,It=Object,At=jt?function(t){return"symbol"==typeof t}:function(t){var e=i("Symbol");return j(e)&&Tt(e.prototype,It(t))},Pt=String,$t=function(t){try{return Pt(t)}catch(t){return"Object"}},Lt=TypeError,Rt=function(t){if(j(t))return t;throw Lt($t(t)+" is not a function")},Ct=function(t,e){t=t[e];return xt(t)?void 0:Rt(t)},Mt=TypeError,Ft=function(t,e){var n,i;if("string"===e&&j(n=t.toString)&&!b(i=O(n,t)))return i;if(j(n=t.valueOf)&&!b(i=O(n,t)))return i;if("string"!==e&&j(n=t.toString)&&!b(i=O(n,t)))return i;throw Mt("Can't convert object to primitive value")},Nt=Object.defineProperty,kt=function(e,n){try{Nt(y,e,{value:n,configurable:!0,writable:!0})}catch(t){y[e]=n}return n},x="__core-js_shared__",B=y[x]||kt(x,{}),w=N(function(t){(t.exports=function(t,e){return B[t]||(B[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.25.5",mode:"global",copyright:"Â© 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.25.5/LICENSE",source:"https://github.com/zloirock/core-js"})}),Dt=Object,Wt=a({}.hasOwnProperty),I=Object.hasOwn||function(t,e){return Wt(V(t),e)},Vt=0,_t=Math.random(),Ht=a(1..toString),zt=w("wks"),A=y.Symbol,Gt=A&&A.for,Ut=jt?A:A&&A.withoutSetter||_,Kt=TypeError,Xt=e("toPrimitive"),Yt=y.document,qt=b(Yt)&&b(Yt.createElement),Jt=function(t){return qt?Yt.createElement(t):{}},Qt=!m&&!n(function(){return 7!=Object.defineProperty(Jt("div"),"a",{get:function(){return 7}}).a}),Zt=Object.getOwnPropertyDescriptor,te={f:m?Zt:function(t,e){if(t=h(t),e=H(e),Qt)try{return Zt(t,e)}catch(t){}if(I(t,e))return D(!O(ht.f,t,e),t[e])}},P=m&&n(function(){return 42!=Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype}),ee=String,ne=TypeError,$=function(t){if(b(t))return t;throw ne(ee(t)+" is not an object")},ie=TypeError,oe=Object.defineProperty,re=Object.getOwnPropertyDescriptor,ae="enumerable",se="configurable",ce="writable",L={f:m?P?function(t,e,n){var i;return $(t),e=H(e),$(n),"function"==typeof t&&"prototype"===e&&"value"in n&&ce in n&&!n[ce]&&((i=re(t,e))&&i[ce]&&(t[e]=n.value,n={configurable:(se in n?n:i)[se],enumerable:(ae in n?n:i)[ae],writable:!1})),oe(t,e,n)}:oe:function(t,e,n){if($(t),e=H(e),$(n),Qt)try{return oe(t,e,n)}catch(t){}if("get"in n||"set"in n)throw ie("Accessors not supported");return"value"in n&&(t[e]=n.value),t}},ue=m?function(t,e,n){return L.f(t,e,D(1,n))}:function(t,e,n){return t[e]=n,t},R=Function.prototype,x=m&&Object.getOwnPropertyDescriptor,C=I(R,"name"),le={EXISTS:C,PROPER:C&&"something"===function(){}.name,CONFIGURABLE:C&&(!m||x(R,"name").configurable)},fe=a(Function.toString),he=(j(B.inspectSource)||(B.inspectSource=function(t){return fe(t)}),B.inspectSource),C=y.WeakMap,x=j(C)&&/native code/.test(String(C)),pe=w("keys"),de={},ge="Object already initialized",ve=y.TypeError,R=y.WeakMap,ye=x||B.state?((d=B.state||(B.state=new R)).get=d.get,d.has=d.has,d.set=d.set,it=function(t,e){if(d.has(t))throw ve(ge);return e.facade=t,d.set(t,e),e},p=function(t){return d.get(t)||{}},function(t){return d.has(t)}):(g=z("state"),de[g]=!0,it=function(t,e){if(I(t,g))throw ve(ge);return e.facade=t,ue(t,g,e),e},p=function(t){return I(t,g)?t[g]:{}},function(t){return I(t,g)}),me={set:it,get:p,has:ye,enforce:function(t){return ye(t)?p(t):it(t,{})},getterFor:function(e){return function(t){if(b(t)&&(t=p(t)).type===e)return t;throw ve("Incompatible receiver, "+e+" required")}}},be=N(function(t){var i=le.CONFIGURABLE,o=me.enforce,e=me.get,r=Object.defineProperty,a=m&&!n(function(){return 8!==r(function(){},"length",{value:8}).length}),s=String(String).split("String"),t=t.exports=function(t,e,n){"Symbol("===String(e).slice(0,7)&&(e="["+String(e).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),n&&n.getter&&(e="get "+e),n&&n.setter&&(e="set "+e),(!I(t,"name")||i&&t.name!==e)&&(m?r(t,"name",{value:e,configurable:!0}):t.name=e),a&&n&&I(n,"arity")&&t.length!==n.arity&&r(t,"length",{value:n.arity});try{n&&I(n,"constructor")&&n.constructor?m&&r(t,"prototype",{writable:!1}):t.prototype&&(t.prototype=void 0)}catch(t){}n=o(t);return I(n,"source")||(n.source=s.join("string"==typeof e?e:"")),t};Function.prototype.toString=t(function(){return j(this)&&e(this).source||he(this)},"toString")}),xe=Math.ceil,we=Math.floor,Se=Math.trunc||function(t){t=+t;return(0<t?we:xe)(t)},Be=function(t){t=+t;return t!=t||0==t?0:Se(t)},Te=Math.max,Oe=Math.min,Ee=Math.min,je=function(t){return 0<t?Ee(Be(t),9007199254740991):0},Ie={includes:X(!0),indexOf:X(!1)}.indexOf,Ae=a([].push),Pe=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],$e=Pe.concat("length","prototype"),Le={f:Object.getOwnPropertyNames||function(t){return Y(t,$e)}},Re={f:Object.getOwnPropertySymbols},Ce=a([].concat),Me=i("Reflect","ownKeys")||function(t){var e=Le.f($(t)),n=Re.f;return n?Ce(e,n(t)):e},Fe=/#|\.prototype\./,Ne=o.normalize=function(t){return String(t).replace(Fe,".").toLowerCase()},ke=o.data={},De=o.NATIVE="N",We=o.POLYFILL="P",Ve=o,_e=te.f,C={},x=(C[e("toStringTag")]="z","[object z]"===String(C)),He=e("toStringTag"),ze=Object,Ge="Arguments"==E(function(){return arguments}()),Ue=x?E:function(t){var e;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(e=function(t,e){try{return t[e]}catch(t){}}(t=ze(t),He))?e:Ge?E(t):"Object"==(e=E(t))&&j(t.callee)?"Arguments":e},Ke=String,Xe=y.RegExp,R=n(function(){var t=Xe("a","y");return t.lastIndex=2,null!=t.exec("abcd")}),C=R||n(function(){return!Xe("a","y").sticky}),C={BROKEN_CARET:R||n(function(){var t=Xe("^r","gy");return t.lastIndex=2,null!=t.exec("str")}),MISSED_STICKY:C,UNSUPPORTED_Y:R},Ye=Object.keys||function(t){return Y(t,Pe)},qe={f:m&&!P?Object.defineProperties:function(t,e){$(t);for(var n,i=h(e),o=Ye(e),r=o.length,a=0;a<r;)L.f(t,n=o[a++],i[n]);return t}},Je=i("document","documentElement"),Qe="prototype",Ze="script",tn=z("IE_PROTO"),en=function(t){return"<"+Ze+">"+t+"</"+Ze+">"},nn=function(){try{ot=new ActiveXObject("htmlfile")}catch(t){}nn="undefined"==typeof document||document.domain&&ot?Q(ot):(t=Jt("iframe"),e="java"+Ze+":",t.style.display="none",Je.appendChild(t),t.src=String(e),(e=t.contentWindow.document).open(),e.write(en("document.F=Object")),e.close(),e.F);for(var t,e,n=Pe.length;n--;)delete nn[Qe][Pe[n]];return nn()},on=(de[tn]=!0,Object.create||function(t,e){var n;return null!==t?(J[Qe]=$(t),n=new J,J[Qe]=null,n[tn]=t):n=nn(),void 0===e?n:qe.f(n,e)}),rn=y.RegExp,R=n(function(){var t=rn(".","s");return!t.dotAll||!t.exec("\n")||"s"!==t.flags}),an=y.RegExp,P=n(function(){var t=an("(?<a>b)","g");return"b"!==t.exec("b").groups.a||"bc"!=="b".replace(t,"$<a>c")}),sn=me.get,cn=w("native-string-replace",String.prototype.replace),un=RegExp.prototype.exec,ln=un,fn=a("".charAt),hn=a("".indexOf),pn=a("".replace),dn=a("".slice),gn=(w=/b*/g,O(un,M=/a/,"a"),O(un,w,"a"),0!==M.lastIndex||0!==w.lastIndex),vn=C.BROKEN_CARET,yn=void 0!==/()??/.exec("")[1],mn=ln=gn||yn||vn||R||P?function(t){var e,n,i,o,r,a,s=this,c=sn(s),t=T(t),u=c.raw;if(u)return u.lastIndex=s.lastIndex,f=O(ln,u,t),s.lastIndex=u.lastIndex,f;var l=c.groups,u=vn&&s.sticky,f=O(q,s),c=s.source,h=0,p=t;if(u&&(f=pn(f,"y",""),-1===hn(f,"g")&&(f+="g"),p=dn(t,s.lastIndex),0<s.lastIndex&&(!s.multiline||s.multiline&&"\n"!==fn(t,s.lastIndex-1))&&(c="(?: "+c+")",p=" "+p,h++),e=new RegExp("^(?:"+c+")",f)),yn&&(e=new RegExp("^"+c+"$(?!\\s)",f)),gn&&(n=s.lastIndex),i=O(un,u?e:s,p),u?i?(i.input=dn(i.input,h),i[0]=dn(i[0],h),i.index=s.lastIndex,s.lastIndex+=i[0].length):s.lastIndex=0:gn&&i&&(s.lastIndex=s.global?i.index+i[0].length:n),yn&&i&&1<i.length&&O(cn,i[0],e,function(){for(o=1;o<arguments.length-2;o++)void 0===arguments[o]&&(i[o]=void 0)}),i&&l)for(i.groups=r=on(null),o=0;o<l.length;o++)r[(a=l[o])[0]]=i[a[1]];return i}:ln,M=(s({target:"RegExp",proto:!0,forced:/./.exec!==mn},{exec:mn}),Function.prototype),bn=M.apply,xn=M.call,wn="object"==typeof Reflect&&Reflect.apply||(S?xn.bind(bn):function(){return xn.apply(bn,arguments)}),Sn=e("species"),Bn=RegExp.prototype,Tn=a("".charAt),On=a("".charCodeAt),En=a("".slice),jn={codeAt:Z(!1),charAt:Z(!0)}.charAt,In=Math.floor,An=a("".charAt),Pn=a("".replace),$n=a("".slice),Ln=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,Rn=/\$([$&'`]|\d{1,2})/g,Cn=TypeError,Mn=e("replace"),Fn=Math.max,Nn=Math.min,kn=a([].concat),Dn=a([].push),Wn=a("".indexOf),Vn=a("".slice),w="$0"==="a".replace(/./,"$0"),_n=!!/./[Mn]&&""===/./[Mn]("a","$0"),C=!n(function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")}),Hn=(R=function(t,w,S){var B=_n?"$":"$0";return[function(t,e){var n=r(this),i=xt(t)?void 0:Ct(t,Mn);return i?O(i,t,n,e):O(w,T(n),t,e)},function(t,e){var n=$(this),i=T(t);if("string"==typeof e&&-1===Wn(e,B)&&-1===Wn(e,"$<")){t=S(w,n,i,e);if(t.done)return t.value}for(var o,r,a,s=j(e),c=(s||(e=T(e)),n.global),u=(c&&(o=n.unicode,n.lastIndex=0),[]);null!==(d=function(t,e){var n=t.exec;if(j(n))return null!==(n=O(n,t,e))&&$(n),n;if("RegExp"===E(t))return O(mn,t,e);throw Cn("RegExp#exec called on incompatible receiver")}(n,i))&&(Dn(u,d),c);)""===T(d[0])&&(n.lastIndex=(r=i,(a=je(n.lastIndex))+(o?jn(r,a).length:1)));for(var l,f="",h=0,p=0;p<u.length;p++){for(var d,g=T((d=u[p])[0]),v=Fn(Nn(Be(d.index),i.length),0),y=[],m=1;m<d.length;m++)Dn(y,void 0===(l=d[m])?l:String(l));var b=d.groups,x=s?(x=kn([g],y,v,i),void 0!==b&&Dn(x,b),T(wn(e,void 0,x))):function(r,a,s,c,u,t){var l=s+r.length,f=c.length,e=Rn;return void 0!==u&&(u=V(u),e=Ln),Pn(t,e,function(t,e){var n;switch(An(e,0)){case"$":return"$";case"&":return r;case"`":return $n(a,0,s);case"'":return $n(a,l);case"<":n=u[$n(e,1,-1)];break;default:var i,o=+e;if(0==o)return t;if(f<o)return 0!==(i=In(o/10))&&i<=f?void 0===c[i-1]?An(e,1):c[i-1]+An(e,1):t;n=c[o-1]}return void 0===n?"":n})}(g,i,v,y,b,e);h<=v&&(f+=Vn(i,h,v)+x,h=v+g.length)}return f+Vn(i,h)}]},P=!C||!w||_n,v=e(rt="replace"),st=!n(function(){var t={};return t[v]=function(){return 7},7!=""[rt](t)}),M=st&&!n(function(){var t=!1,e=/a/;return"split"===rt&&((e={constructor:{}}).constructor[Sn]=function(){return e},e.flags="",e[v]=/./[v]),e.exec=function(){return t=!0,null},e[v](""),!t}),st&&M&&!P||(at=a(/./[v]),M=R(v,""[rt],function(t,e,n,i,o){var t=a(t),r=e.exec;return r===mn||r===Bn.exec?st&&!o?{done:!0,value:at(e,n,i)}:{done:!0,value:t(n,e,i)}:{done:!1}}),G(String.prototype,rt,M[0]),G(Bn,v,M[1])),yi&&ue(Bn[v],"sham",!0),a(a.bind)),zn=Array.isArray||function(t){return"Array"==E(t)},Gn=[],Un=i("Reflect","construct"),Kn=/^\s*(?:class|function)\b/,Xn=a(Kn.exec),Yn=!Kn.exec(tt),qn=(et.sham=!0,!Un||n(function(){var t;return l(l.call)||!l(Object)||!l(function(){t=!0})||t})?et:l),Jn=e("species"),Qn=Array,Zn=function(t){var e;return zn(t)&&(e=t.constructor,(qn(e)&&(e===Qn||zn(e.prototype))||b(e)&&null===(e=e[Jn]))&&(e=void 0)),void 0===e?Qn:e},ti=a([].push),ei={forEach:f(0),map:f(1),filter:f(2),some:f(3),every:f(4),find:f(5),findIndex:f(6),filterReject:f(7)}.forEach,ni=!!(ut=[]["forEach"])&&n(function(){ut.call(null,ct||function(){return 1},1)})?[].forEach:function(t){return ei(this,t,1<arguments.length?arguments[1]:void 0)};s({target:"Array",proto:!0,forced:[].forEach!=ni},{forEach:ni});function ii(e){if(e&&e.forEach!==ni)try{ue(e,"forEach",ni)}catch(t){e.forEach=ni}}x||G(Object.prototype,"toString",x?{}.toString:function(){return"[object "+Ue(this)+"]"},{unsafe:!0});var oi,ri={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},C=Jt("span").classList,w=C&&C.constructor&&C.constructor.prototype,R=w===Object.prototype?void 0:w;for(oi in ri)ri[oi]&&ii(y[oi]&&y[oi].prototype);ii(R);function ai(r){return gi?function(t,e){var n=2<function(t,e){if(t<e)throw di("Not enough arguments");return t}(arguments.length,1),i=j(t)?t:vi(t),o=n?ui(arguments,2):void 0;return r(n?function(){wn(i,this,o)}:i,e)}:r}function si(t){if(b(t=t)&&(void 0!==(e=t[mi])?!!e:"RegExp"==E(t)))throw bi("The method doesn't accept regular expressions");var e}var ci,ui=a([].slice),li=Function,fi=a([].concat),hi=a([].join),pi={},M=S?li.bind:function(a){var s=Rt(this),t=s.prototype,c=ui(arguments,1),u=function(){var t=fi(c,ui(arguments));if(this instanceof u){var e=s,n=t.length,i=t;if(!I(pi,n)){for(var o=[],r=0;r<n;r++)o[r]="a["+r+"]";pi[n]=li("C,a","return new C("+hi(o,",")+")")}return pi[n](e,i)}return s.apply(a,t)};return b(t)&&(u.prototype=t),u},di=(s({target:"Function",proto:!0,forced:Function.bind!==M},{bind:M}),TypeError),gi=/MSIE .\./.test(t),vi=y.Function,yi={setTimeout:ai(y.setTimeout),setInterval:ai(y.setInterval)},x=yi.setInterval,C=(s({global:!0,bind:!0,forced:y.setInterval!==x},{setInterval:x}),yi.setTimeout),mi=(s({global:!0,bind:!0,forced:y.setTimeout!==C},{setTimeout:C}),e("match")),bi=TypeError,xi=e("match"),w=te.f,wi=a("".startsWith),Si=a("".slice),Bi=Math.min,R=function(e){var n=/./;try{"/./"[e](n)}catch(t){try{return n[xi]=!1,"/./"[e](n)}catch(t){}}return!1}("startsWith"),t=(s({target:"String",proto:!0,forced:!!(R||(!(M=w(String.prototype,"startsWith"))||M.writable))&&!R},{startsWith:function(t){var e=T(r(this)),n=(si(t),je(Bi(1<arguments.length?arguments[1]:void 0,e.length))),t=T(t);return wi?wi(e,t,n):Si(e,n,n+t.length)===t}}),le.EXISTS),x=L.f,yi=Function.prototype,Ti=a(yi.toString),Oi=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,Ei=a(Oi.exec),ji=(m&&!t&&x(yi,"name",{configurable:!0,get:function(){try{return Ei(Oi,Ti(this))[1]}catch(t){return""}}}),e("species")),C=(ci="slice",51<=Ot||!n(function(){var t=[];return(t.constructor={})[ji]=function(){return{foo:1}},1!==t[ci](Boolean).foo})),Ii=e("species"),Ai=Array,Pi=Math.max,w=(s({target:"Array",proto:!0,forced:!C},{slice:function(t,e){var n,i,o,r=h(this),a=K(r),s=U(t,a),c=U(void 0===e?a:e,a);if(zn(r)&&(n=r.constructor,(n=qn(n)&&(n===Ai||zn(n.prototype))||b(n)&&null===(n=n[Ii])?void 0:n)===Ai||void 0===n))return ui(r,s,c);for(i=new(void 0===n?Ai:n)(Pi(c-s,0)),o=0;s<c;s++,o++)if(s in r){l=void 0;var u=i,l=o,f=r[s];(l=H(l))in u?L.f(u,l,D(0,f)):u[l]=f}return i.length=o,i}}),u.mvc.View.extend({className:"tooltip",options:{left:void 0,right:void 0,top:void 0,bottom:void 0,position:void 0,positionSelector:void 0,direction:"auto",minResizedWidth:100,padding:0,rootTarget:null,target:null,container:null,trigger:"hover",viewport:{selector:null,padding:0},dataAttributePrefix:"tooltip",template:'<div class="tooltip-arrow"></div><div class="tooltip-arrow-mask"></div><div class="tooltip-content"></div>',animation:!1},init:function(){this.eventNamespace=("."+this.className+this.cid).replace(/ /g,"_"),this.settings={};var t,e=this.options,n=e.trigger,i=e.rootTarget,o=e.target,r=e.animation,r=void 0!==r&&r,e=e.container,e=(e&&(t=c(e)[0]),e||(t=document.body),this.container=t,n.split(" "));u.util.bindAll(this,"render","hide","show","toggle","isVisible","position"),i?(this.$rootTarget=c(i),e.forEach(function(t){switch(t){case"click":this.$rootTarget.on("click"+this.eventNamespace,this.options.target,this.toggle);break;case"hover":this.$rootTarget.on("mouseover"+this.eventNamespace,this.options.target,this.render);break;case"focus":this.$rootTarget.on("focusin"+this.eventNamespace,this.options.target,this.render)}},this)):(this.$target=c(o),e.forEach(function(t){switch(t){case"click":this.$target.on("click"+this.eventNamespace,this.toggle);break;case"hover":this.$target.on("mouseover"+this.eventNamespace,this.render);break;case"focus":this.$target.on("focusin"+this.eventNamespace,this.render)}},this)),r&&this.animate(r),this.$el.append(this.options.template)},animate:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=t.duration,e=void 0===e?"500ms":e,n=t.delay,n=void 0===n?"400ms":n,t=t.timingFunction,t=void 0===t?"ease":t;this.$el.addClass("animated").css({animationDelay:n,animationDuration:e,animationTimingFunction:t})},onRemove:function(){(this.options.rootTarget?this.$rootTarget:this.$target).off(this.eventNamespace)},hide:function(){var t=this.settings;t&&(t.currentTarget&&this.unbindHideActions(t.currentTarget),this.$el.removeClass(t.className),this.$el.remove(),this.trigger("close"))},show:function(t){this.render(t||{target:this.options.target})},toggle:function(t){this.isVisible()?this.hide():this.show(t)},isVisible:function(){return document.body.contains(this.el)},render:function(t){var e,n=null,i=(void 0!==t.x&&void 0!==t.y&&(n={x:t.x,y:t.y}),null),t=(t.target&&(i=c(t.target).closest(this.options.target)[0]),this.settings=this.getTooltipSettings(i)),n=(i?(t.currentTarget=i,this.bindHideActions(i)):t.currentTarget=null,e=n?{x:n.x,y:n.y,width:1,height:1}:u.util.getElementBBox(i),this.$(".tooltip-content").html(t.content),this.$el.hide(),this.$el.removeClass("left right top bottom"),this.$el.addClass(t.className),c(this.container).append(this.$el),this.$("img"));n.length?n.on("load",function(){this.position(e),this.$el.addClass("rendered")}.bind(this)):(this.position(e),this.$el.addClass("rendered"))},getTooltipSettings:function(t){var e=this.loadDefinitionFromElementData(t);return this.evaluateOptions(t,e)},unbindHideActions:function(t){var e=this.eventNamespace+".remove";c(t).off(e),clearInterval(this.interval)},bindHideOnRemoveTarget:function(t){clearInterval(this.interval),this.interval=setInterval(function(){c.contains(document,t)||(clearInterval(this.interval),this.hide())}.bind(this),500)},bindHideActions:function(t){var e=this.settings,n=c(t),i=this.eventNamespace+".remove";this.bindHideOnRemoveTarget(t),this.options.trigger.split(" ").forEach(function(t){t={hover:["mouseout","mousedown"],focus:["focusout"]}[t]||[];(t=e.hideTrigger?e.hideTrigger.split(" ")||[]:t).forEach(function(t){n.on(t+i,this.hide)},this)},this)},evaluateOptions:function(n,i){i=i||{};var o=u.util.assign({},i,this.options);return u.util.forIn(o,function(t,e){t=u.util.isFunction(t)?t(n):t;o[e]=null==t?i[e]:t}),this.normalizePosition(o),o},loadDefinitionFromElementData:function(t){var i;return t?(t=this.getAllAttrs(t,"data-"+this.options.dataAttributePrefix),i={},u.util.forIn(t,function(t,e){var n;"left"!==(n=e=""===e?"content":e)&&"bottom"!==n&&"top"!==n&&"right"!==n&&(i[e]=t)}),i):{}},getAllAttrs:function(t,e){for(var n=e||"",i=t.attributes,o={},r=0,a=i.length;r<a;r++){var s=i[r];s&&s.name.startsWith(n)&&(o[u.util.camelCase(s.name.slice(n.length))]=s.value)}return o},normalizePosition:function(t){var e=t.left||t.right||t.top||t.bottom;!t.position&&e&&(t.left&&(t.position="left"),t.right&&(t.position="right"),t.top&&(t.position="top"),t.bottom&&(t.position="bottom")),!t.positionSelector&&e&&(t.positionSelector=e)},position:function(t){var e=this.settings,n=(this.$el.show(),this.$el.css("width","auto"),u.util.getElementBBox(this.container)),i=this.getTooltipBBox(t,n),o=(this.$el.css({left:i.x,top:i.y,width:i.width||"auto"}),{});"left"!==e.position&&"right"!==e.position&&("top"===e.position||"bottom"===e.position)?o.left=t.x+t.width/2-i.x:o.top=t.y+t.height/2-i.y,o.top-=n.y,o.left-=n.x,this.$(".tooltip-arrow, .tooltip-arrow-mask").removeAttr("style").css(o),e.direction&&"off"!==e.direction&&this.$el.addClass("auto"===e.direction?e.position||"left":e.direction)},getViewportViewBBox:function(){var t=this.settings,e=t.viewport.selector?c(t.currentTarget).closest(t.viewport.selector):"html",e=u.util.getElementBBox(e),n=(t.viewport.selector||(n=c(window),e.width=n.width()+n.scrollLeft(),e.height=n.height()+n.scrollTop()),t.viewport.padding||0);return e.x+=n,e.y+=n,e.width-=2*n,e.height-=2*n,e},basePositions:{left:function(t,e){var n={x:e.positionedBBox.x+e.positionedBBox.width+e.padding,y:e.targetBBox.y+e.targetBBox.height/2-e.tooltipBBox.height/2};if(t){t=e.viewport.x+e.viewport.width-n.x;if(t>e.minWidth&&t<e.tooltipBBox.width+e.padding&&(n.width=t),t<e.minWidth)return this.settings.position="right",this.basePositions.right(!1,e)}return n},right:function(t,e){var n={x:e.positionedBBox.x-e.tooltipBBox.width-e.padding,y:e.targetBBox.y+e.targetBBox.height/2-e.tooltipBBox.height/2};if(t){t=e.positionedBBox.x-e.padding-e.viewport.x;if(t>e.minWidth&&t<e.tooltipBBox.width+e.padding&&(n.width=t,n.x=e.viewport.x),t<e.minWidth)return this.settings.position="left",this.basePositions.left(!1,e)}return n},top:function(t,e){var n={x:e.targetBBox.x+e.targetBBox.width/2-e.tooltipBBox.width/2,y:e.positionedBBox.y+e.positionedBBox.height+e.padding};if(t&&e.viewport.y+e.viewport.height-(e.positionedBBox.y+e.positionedBBox.height+e.padding)<e.tooltipBBox.height)return this.settings.position="bottom",this.basePositions.bottom(!1,e);return n},bottom:function(t,e){var n={x:e.targetBBox.x+e.targetBBox.width/2-e.tooltipBBox.width/2,y:e.positionedBBox.y-e.tooltipBBox.height-e.padding};if(t&&e.positionedBBox.y-e.padding-e.viewport.y<e.tooltipBBox.height)return this.settings.position="top",this.basePositions.top(!1,e);return n}},getTooltipBBox:function(t,e){var n=this.settings,i=c(n.positionSelector),i=i[0]?u.util.getElementBBox(i[0]):t,o=this.measureTooltipElement(),r=this.getViewportViewBBox(),a=n.position||"left",s=n.padding,n=Math.min(n.minResizedWidth,o.width+s),a=this.basePositions[a].call(this,0<n,{padding:s,targetBBox:t,positionedBBox:i,tooltipBBox:o,viewport:r,minWidth:n});return a.x-=e.x,a.y-=e.y,a.y<r.y?a.y=r.y:a.y+o.height>r.y+r.height&&(a.y=r.y+r.height-o.height),a.x<r.x?a.x=r.x:a.x+o.width>r.x+r.width&&(a.x=r.x+r.width-o.width),a},measureTooltipElement:function(){var t=this.$el.clone().appendTo(c("body")).css({left:-1e3,top:-500}),e={width:t.outerWidth(),height:t.outerHeight()};return t.remove(),e}},{TooltipPosition:{Left:"left",Top:"top",Bottom:"bottom",Right:"right"},TooltipArrowPosition:{Left:"left",Top:"top",Bottom:"bottom",Right:"right",Auto:"auto",Off:"off"}}));F.Tooltip=w}(this.joint.ui=this.joint.ui||{},$,joint);